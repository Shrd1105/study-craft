(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{7487:function(e,r,t){Promise.resolve().then(t.bind(t,8140))},8140:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return p}});var s=t(7437),a=t(2265),n=t(605),o=t(9376),i=t(2381),d=t(279),l=t(3340),c=t(1229);let u=c.z.object({name:c.z.string().min(2,"Name must be at least 2 characters"),email:c.z.string().email("Please enter a valid email address"),password:c.z.string().min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number")});function m(){let e=(0,o.useRouter)(),{toast:r}=(0,l.pm)(),[t,m]=(0,a.useState)(!1),[f,p]=(0,a.useState)({}),b=(e,r,t)=>{try{return u.parse({name:e,email:r,password:t}),p({}),!0}catch(e){if(e instanceof c.z.ZodError){let r={};e.errors.forEach(e=>{e.path&&(r[e.path[0]]=e.message)}),p(r)}return!1}},h=async t=>{t.preventDefault(),m(!0);let s=new FormData(t.currentTarget),a=s.get("name"),o=s.get("email"),i=s.get("password");if(!b(a,o,i)){m(!1);return}try{let t=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:o,password:i})});if(t.ok){r({variant:"success",title:"Success",description:"Account created successfully"});let t=await (0,n.signIn)("credentials",{email:o,password:i,redirect:!1});(null==t?void 0:t.error)||(e.push("/home"),e.refresh())}else{let e=await t.json();throw Error(e.message)}}catch(e){r({variant:"error",title:"Error",description:e instanceof Error?e.message:"Something went wrong"})}finally{m(!1)}};return(0,s.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.I,{type:"text",name:"name",placeholder:"Name",required:!0,className:"w-full ".concat(f.name?"border-red-500":"")}),f.name&&(0,s.jsx)("p",{className:"text-sm text-red-500 mt-1",children:f.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.I,{type:"email",name:"email",placeholder:"Email",required:!0,className:"w-full ".concat(f.email?"border-red-500":"")}),f.email&&(0,s.jsx)("p",{className:"text-sm text-red-500 mt-1",children:f.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.I,{type:"password",name:"password",placeholder:"Password",required:!0,className:"w-full ".concat(f.password?"border-red-500":"")}),f.password&&(0,s.jsx)("p",{className:"text-sm text-red-500 mt-1",children:f.password}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 8 characters and contain uppercase, lowercase, and numbers"})]}),(0,s.jsx)(i.z,{type:"submit",className:"w-full",disabled:t,children:t?"Creating account...":"Sign Up"})]})}var f=t(7648);function p(){let{data:e}=(0,n.useSession)(),r=(0,o.useRouter)();return(0,a.useEffect)(()=>{e&&r.push("/home")},[e,r]),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen py-6 sm:py-12 bg-[#EFE9D5] px-4 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"w-full max-w-md",children:(0,s.jsxs)("div",{className:"bg-white px-4 sm:px-10 py-6 sm:py-8 shadow rounded-lg sm:rounded-lg border-2 border-black",children:[(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-center mb-4 sm:mb-6",children:"Create your account"}),(0,s.jsx)(m,{}),(0,s.jsxs)("p",{className:"mt-4 text-center text-xs sm:text-sm text-gray-600",children:["Already have an account?"," ",(0,s.jsx)(f.default,{href:"/signin",className:"text-[#7fb236] hover:underline",children:"Sign in"})]})]})})})}},2381:function(e,r,t){"use strict";t.d(r,{d:function(){return d},z:function(){return l}});var s=t(7437),a=t(2265),n=t(8482),o=t(7712),i=t(3448);let d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[var(--color-teal-900)] text-white hover:bg-[var(--color-teal-800)] border-2 border-b-4 border-r-4 border-[var(--color-navy-900)] rounded-lg hover:translate-y-[2px] hover:translate-x-[-2px] hover:border-b-2 hover:border-r-2 transition-all duration-100 shadow-sm hover:shadow active:translate-y-[2px] active:translate-x-[-2px] active:border-b-2 active:border-r-2",destructive:"bg-destructive text-destructive-foreground border-2 border-b-4 border-r-4 border-[var(--color-navy-900)] shadow-sm hover:bg-destructive/90 hover:border-b-2 hover:border-r-2",outline:"border-2 border-b-4 border-r-4 border-[var(--color-navy-900)] bg-background shadow-sm hover:bg-accent hover:text-accent-foreground hover:border-b-2 hover:border-r-2",secondary:"bg-[var(--color-lavender-700)] text-[var(--color-teal-900)] border-2 border-b-4 border-r-4 border-[var(--color-navy-900)] hover:bg-[var(--color-lavender-500)]",ghost:"border-2 border-transparent hover:bg-accent hover:text-accent-foreground hover:border-accent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-1.5",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,r)=>{let{className:t,variant:a,size:o,asChild:l=!1,...c}=e,u=l?n.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:a,size:o,className:t})),ref:r,...c})});l.displayName="Button"},279:function(e,r,t){"use strict";t.d(r,{I:function(){return o}});var s=t(7437),a=t(2265),n=t(3448);let o=a.forwardRef((e,r)=>{let{className:t,type:a,...o}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-[var(--input)] bg-transparent px-3 py-1 text-sm text-[var(--foreground)] shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-[var(--foreground)] placeholder:text-[var(--muted-foreground)] focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[var(--ring)] disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...o})});o.displayName="Input"},3340:function(e,r,t){"use strict";t.d(r,{pm:function(){return f}});var s=t(2265);let a={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},n=0,o=new Map,i=e=>{if(o.has(e))return;let r=setTimeout(()=>{o.delete(e),u({type:a.REMOVE_TOAST,toastId:e})},1e6);o.set(e,r)},d=(e,r)=>{switch(r.type){case a.ADD_TOAST:return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case a.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case a.DISMISS_TOAST:{let{toastId:t}=r;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case a.REMOVE_TOAST:if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},l=[],c={toasts:[]};function u(e){c=d(c,e),l.forEach(e=>{e(c)})}function m(e){let{...r}=e,t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>u({type:a.DISMISS_TOAST,toastId:t});return u({type:a.ADD_TOAST,toast:{...r,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>u({type:a.UPDATE_TOAST,toast:{...e,id:t}})}}function f(){let[e,r]=s.useState(c);return s.useEffect(()=>(l.push(r),()=>{let e=l.indexOf(r);e>-1&&l.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>u({type:a.DISMISS_TOAST,toastId:e})}}},3448:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var s=t(1994),a=t(3335);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,s.W)(r))}}},function(e){e.O(0,[137,605,448,264,971,117,744],function(){return e(e.s=7487)}),_N_E=e.O()}]);