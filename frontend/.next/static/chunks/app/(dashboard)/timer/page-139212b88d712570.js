(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[810],{449:function(e,t,r){Promise.resolve().then(r.bind(r,6246))},6246:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var s=r(7437),a=r(2265),o=r(9820),i=r(3340),n=r(3011),d=r(6885);let l=(0,n.U)()((0,d.tJ)((e,t)=>({timeLeft:1500,isActive:!1,mode:"focus",focusTime:25,breakTime:5,progress:0,lastTick:Date.now(),setTimeLeft:t=>e({timeLeft:t}),setMode:t=>e({mode:t}),setIsActive:t=>e({isActive:t,lastTick:Date.now()}),setProgress:t=>e({progress:t}),setFocusTime:t=>e({focusTime:t}),setBreakTime:t=>e({breakTime:t}),reset:()=>{let{mode:r,focusTime:s,breakTime:a}=t();e({timeLeft:60*("focus"===r?s:a),isActive:!1,progress:0,lastTick:Date.now()})},tick:()=>{let r=t(),s=Date.now(),a=(s-r.lastTick)/1e3;if(r.isActive&&a>=.1){let t=Math.max(0,r.timeLeft-a),o="focus"===r.mode?60*r.focusTime:60*r.breakTime;e({timeLeft:t,progress:(o-t)/o*100,lastTick:s})}}}),{name:"timer-storage",partialize:e=>({timeLeft:e.timeLeft,isActive:e.isActive,mode:e.mode,focusTime:e.focusTime,breakTime:e.breakTime,progress:e.progress})}));var c=r(2381),m=r(7163),u=r(3448);let f=a.forwardRef((e,t)=>{let{className:r,value:a,...o}=e;return(0,s.jsx)(m.fC,{ref:t,className:(0,u.cn)("relative h-2 w-full overflow-hidden rounded-full bg-[var(--color-blue-700)]/20",r),...o,children:(0,s.jsx)(m.z$,{className:"h-full w-full flex-1 bg-[var(--color-blue-700)] transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});f.displayName=m.fC.displayName;var p=r(370);let x=(0,r(7712).j)("text-sm font-medium leading-none text-[var(--color-grey-1000)] dark:text-white peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(p.f,{ref:t,className:(0,u.cn)(x(),r),...a})});v.displayName=p.f.displayName;var b=r(4306),h=r(653);let g=b.fC;b.ZA;let y=b.B4,T=a.forwardRef((e,t)=>{let{className:r,children:a,...o}=e;return(0,s.jsxs)(b.xz,{ref:t,className:(0,u.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-[var(--input)] bg-[var(--background)] px-3 py-2 text-sm text-[var(--foreground)] shadow-sm ring-offset-[var(--background)] placeholder:text-[var(--muted-foreground)] focus:outline-none focus:ring-1 focus:ring-[var(--ring)] disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...o,children:[a,(0,s.jsx)(b.JO,{asChild:!0,children:(0,s.jsx)(h.v4q,{className:"h-4 w-4 opacity-50"})})]})});T.displayName=b.xz.displayName;let N=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(b.u_,{ref:t,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(h.g8U,{className:"h-4 w-4"})})});N.displayName=b.u_.displayName;let w=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(b.$G,{ref:t,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(h.v4q,{className:"h-4 w-4"})})});w.displayName=b.$G.displayName;let j=a.forwardRef((e,t)=>{let{className:r,children:a,position:o="popper",...i}=e;return(0,s.jsx)(b.h_,{children:(0,s.jsxs)(b.VY,{ref:t,className:(0,u.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-[var(--background)] text-[var(--foreground)] shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:o,...i,children:[(0,s.jsx)(N,{}),(0,s.jsx)(b.l_,{className:(0,u.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(w,{})]})})});j.displayName=b.VY.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(b.__,{ref:t,className:(0,u.cn)("px-2 py-1.5 text-sm font-semibold",r),...a})}).displayName=b.__.displayName;let S=a.forwardRef((e,t)=>{let{className:r,children:a,...o}=e;return(0,s.jsxs)(b.ck,{ref:t,className:(0,u.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...o,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(b.wU,{children:(0,s.jsx)(h.nQG,{className:"h-4 w-4"})})}),(0,s.jsx)(b.eT,{children:a})]})});S.displayName=b.ck.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(b.Z0,{ref:t,className:(0,u.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=b.Z0.displayName;let A=e=>"".concat(String(Math.floor(e/60)).padStart(2,"0"),":").concat(String(Math.floor(e%60)).padStart(2,"0"));function k(){let{toast:e}=(0,i.pm)(),t=l(),r=(0,a.useCallback)(async()=>{if("focus"===t.mode)try{let r=new Date(Date.now()-6e4*t.focusTime),s=new Date,a=await fetch("/api/study-sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({duration:60*t.focusTime,startTime:r.toISOString(),endTime:s.toISOString(),mode:"focus"})});if(!a.ok)throw Error("Failed to save session");let o=await a.json();e({variant:"success",title:"Focus Session Complete! \uD83C\uDF89",description:"Current streak: ".concat(o.stats.currentStreak," days! Time for a break."),duration:5e3}),window.dispatchEvent(new CustomEvent("study-session-completed")),t.setMode("break"),t.setTimeLeft(60*t.breakTime),t.setProgress(0)}catch(t){console.error("Error saving session:",t),e({variant:"error",title:"Error",description:"Failed to save your study session",duration:5e3})}else e({variant:"success",title:"Break Time Over",description:"Ready for another focus session?",duration:5e3}),t.setMode("focus"),t.setTimeLeft(60*t.focusTime),t.setProgress(0)},[t,e]);return(0,a.useEffect)(()=>{let e=setInterval(()=>{t.isActive&&(t.tick(),t.timeLeft<=0&&(t.setIsActive(!1),r()))},100);return()=>clearInterval(e)},[t,t.isActive,r]),(0,s.jsx)(o.Zb,{className:"w-full max-w-md mx-auto",children:(0,s.jsxs)(o.aY,{className:"p-4 sm:p-6",children:[(0,s.jsxs)("div",{className:(0,u.cn)("relative p-4 sm:p-8 rounded-lg cursor-pointer transition-colors",(t.mode,"bg-[#EFE9D5] hover:bg-[#F5F1EA]")),onClick:()=>{t.isActive||t.setMode("focus"===t.mode?"break":"focus")},children:[(0,s.jsxs)("div",{className:"text-center mb-4 sm:mb-6",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2",children:"focus"===t.mode?"Focus Time":"Break Time"}),(0,s.jsx)("div",{className:"text-5xl sm:text-6xl font-mono font-bold",children:A(t.timeLeft)})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-3 sm:gap-4",children:[(0,s.jsx)(c.z,{onClick:e=>{e.stopPropagation(),t.setIsActive(!t.isActive)},variant:t.isActive?"destructive":"default",className:"text-sm sm:text-base",children:t.isActive?"Pause":"Start"}),(0,s.jsx)(c.z,{onClick:e=>{e.stopPropagation(),t.reset()},variant:"outline",className:"text-sm sm:text-base",children:"Reset"})]}),(0,s.jsx)(f,{value:t.progress,className:(0,u.cn)("mt-4","focus"===t.mode?"[&>div]:bg-green-600":"[&>div]:bg-blue-600")})]}),(0,s.jsxs)("div",{className:"mt-4 sm:mt-6 space-y-3 sm:space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(v,{className:"text-sm sm:text-base",children:"Focus Duration (minutes)"}),(0,s.jsxs)(g,{value:t.focusTime.toString(),onValueChange:e=>{t.setFocusTime(parseInt(e)),"focus"===t.mode&&t.setTimeLeft(60*parseInt(e))},disabled:t.isActive,children:[(0,s.jsx)(T,{className:"mt-1",children:(0,s.jsx)(y,{})}),(0,s.jsx)(j,{children:[15,25,30,45,60].map(e=>(0,s.jsxs)(S,{value:e.toString(),children:[e," minutes"]},e))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(v,{className:"text-sm sm:text-base",children:"Break Duration (minutes)"}),(0,s.jsxs)(g,{value:t.breakTime.toString(),onValueChange:e=>{t.setBreakTime(parseInt(e)),"break"===t.mode&&t.setTimeLeft(60*parseInt(e))},disabled:t.isActive,children:[(0,s.jsx)(T,{className:"mt-1",children:(0,s.jsx)(y,{})}),(0,s.jsx)(j,{children:[5,10,15,20].map(e=>(0,s.jsxs)(S,{value:e.toString(),children:[e," minutes"]},e))})]})]})]})]})})}function _(){return(0,s.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 space-y-4 sm:space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Study Timer"}),(0,s.jsx)("span",{className:"text-xs sm:text-sm text-gray-600",children:"Track your focus sessions"})]}),(0,s.jsx)("div",{className:"w-full max-w-4xl mx-auto",children:(0,s.jsx)(k,{})})]})}},2381:function(e,t,r){"use strict";r.d(t,{d:function(){return d},z:function(){return l}});var s=r(7437),a=r(2265),o=r(8482),i=r(7712),n=r(3448);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[var(--color-teal-900)] text-white hover:bg-[var(--color-teal-800)] border-2 border-b-4 border-r-4 border-[var(--color-navy-900)] rounded-lg hover:translate-y-[2px] hover:translate-x-[-2px] hover:border-b-2 hover:border-r-2 transition-all duration-100 shadow-sm hover:shadow active:translate-y-[2px] active:translate-x-[-2px] active:border-b-2 active:border-r-2",destructive:"bg-destructive text-destructive-foreground border-2 border-b-4 border-r-4 border-[var(--color-navy-900)] shadow-sm hover:bg-destructive/90 hover:border-b-2 hover:border-r-2",outline:"border-2 border-b-4 border-r-4 border-[var(--color-navy-900)] bg-background shadow-sm hover:bg-accent hover:text-accent-foreground hover:border-b-2 hover:border-r-2",secondary:"bg-[var(--color-lavender-700)] text-[var(--color-teal-900)] border-2 border-b-4 border-r-4 border-[var(--color-navy-900)] hover:bg-[var(--color-lavender-500)]",ghost:"border-2 border-transparent hover:bg-accent hover:text-accent-foreground hover:border-accent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-1.5",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:l=!1,...c}=e,m=l?o.g7:"button";return(0,s.jsx)(m,{className:(0,n.cn)(d({variant:a,size:i,className:r})),ref:t,...c})});l.displayName="Button"},9820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return n},Zb:function(){return i},aY:function(){return l},ll:function(){return d}});var s=r(7437),a=r(2265),o=r(3448);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("rounded-xl border border-border bg-card text-card-foreground shadow-sm transition-colors",r),...a})});i.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...a})});n.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight text-card-foreground",r),...a})});d.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...a})});l.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0 border-t border-border",r),...a})}).displayName="CardFooter"},3340:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var s=r(2265);let a={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},o=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),m({type:a.REMOVE_TOAST,toastId:e})},1e6);i.set(e,t)},d=(e,t)=>{switch(t.type){case a.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case a.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case a.DISMISS_TOAST:{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case a.REMOVE_TOAST:if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function m(e){c=d(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,r=(o=(o+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>m({type:a.DISMISS_TOAST,toastId:r});return m({type:a.ADD_TOAST,toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>m({type:a.UPDATE_TOAST,toast:{...e,id:r}})}}function f(){let[e,t]=s.useState(c);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>m({type:a.DISMISS_TOAST,toastId:e})}}},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return o}});var s=r(1994),a=r(3335);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}}},function(e){e.O(0,[310,137,314,663,951,971,117,744],function(){return e(e.s=449)}),_N_E=e.O()}]);