"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/posthog-js";
exports.ids = ["vendor-chunks/posthog-js"];
exports.modules = {

/***/ "(ssr)/../node_modules/posthog-js/dist/module.js":
/*!*************************************************!*\
  !*** ../node_modules/posthog-js/dist/module.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPY_AUTOCAPTURE_EVENT: () => (/* binding */ v),\n/* harmony export */   Compression: () => (/* binding */ e),\n/* harmony export */   PostHog: () => (/* binding */ Eo),\n/* harmony export */   SurveyQuestionBranchingType: () => (/* binding */ kn),\n/* harmony export */   SurveyQuestionType: () => (/* binding */ Sn),\n/* harmony export */   SurveyType: () => (/* binding */ wn),\n/* harmony export */   \"default\": () => (/* binding */ Io),\n/* harmony export */   knownUnsafeEditableEvent: () => (/* binding */ g),\n/* harmony export */   posthog: () => (/* binding */ Io),\n/* harmony export */   severityLevels: () => (/* binding */ f)\n/* harmony export */ });\nvar e,t=\"undefined\"!=typeof window?window:void 0,i=\"undefined\"!=typeof globalThis?globalThis:t,r=Array.prototype,s=r.forEach,n=r.indexOf,o=null==i?void 0:i.navigator,a=null==i?void 0:i.document,l=null==i?void 0:i.location,u=null==i?void 0:i.fetch,c=null!=i&&i.XMLHttpRequest&&\"withCredentials\"in new i.XMLHttpRequest?i.XMLHttpRequest:void 0,d=null==i?void 0:i.AbortController,h=null==o?void 0:o.userAgent,_=null!=t?t:{},p={DEBUG:!1,LIB_VERSION:\"1.215.6\"},v=\"$copy_autocapture\",g=[\"$snapshot\",\"$pageview\",\"$pageleave\",\"$set\",\"survey dismissed\",\"survey sent\",\"survey shown\",\"$identify\",\"$groupidentify\",\"$create_alias\",\"$$client_ingestion_warning\",\"$web_experiment_applied\",\"$feature_enrollment_update\",\"$feature_flag_called\"];!function(e){e.GZipJS=\"gzip-js\",e.Base64=\"base64\"}(e||(e={}));var f=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"],m={};function b(e,t,i){if(B(e))if(s&&e.forEach===s)e.forEach(t,i);else if(\"length\"in e&&e.length===+e.length)for(var r=0,n=e.length;r<n;r++)if(r in e&&t.call(i,e[r],r)===m)return}function y(e,t,i){if(!J(e)){if(B(e))return b(e,t,i);if(X(e)){for(var r of e.entries())if(t.call(i,r[1],r[0])===m)return}else for(var s in e)if(N.call(e,s)&&t.call(i,e[s],s)===m)return}}var w=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return b(i,(function(t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])})),e},S=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return b(i,(function(t){b(t,(function(t){e.push(t)}))})),e};function k(e){for(var t=Object.keys(e),i=t.length,r=new Array(i);i--;)r[i]=[t[i],e[t[i]]];return r}var E=function(e){try{return e()}catch(e){return}},x=function(e){return function(){try{for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.apply(this,i)}catch(e){ee.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"),ee.critical(e)}}},I=function(e){var t={};return y(e,(function(e,i){W(e)&&e.length>0&&(t[i]=e)})),t};function C(e,t){return i=e,r=e=>W(e)&&!G(t)?e.slice(0,t):e,s=new Set,function e(t,i){return t!==Object(t)?r?r(t,i):t:s.has(t)?void 0:(s.add(t),B(t)?(n=[],b(t,(t=>{n.push(e(t))}))):(n={},y(t,((t,i)=>{s.has(t)||(n[i]=e(t,i))}))),n);var n}(i);var i,r,s}var P=[\"herokuapp.com\",\"vercel.app\",\"netlify.app\"];function F(e){var t=null==e?void 0:e.hostname;if(!W(t))return!1;var i=t.split(\".\").slice(-2).join(\".\");for(var r of P)if(i===r)return!1;return!0}function T(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]}function R(e,t,i,r){var{capture:s=!1,passive:n=!0}=null!=r?r:{};null==e||e.addEventListener(t,i,{capture:s,passive:n})}function $(e,t){return-1!==e.indexOf(t)}var O=function(e){return e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\")},M=function(e){return e.replace(/^\\$/,\"\")};var A=function(e,t){if(!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(e){return!1}},L=Array.isArray,D=Object.prototype,N=D.hasOwnProperty,q=D.toString,B=L||function(e){return\"[object Array]\"===q.call(e)},H=e=>\"function\"==typeof e,U=e=>e===Object(e)&&!B(e),j=e=>{if(U(e)){for(var t in e)if(N.call(e,t))return!1;return!0}return!1},z=e=>void 0===e,W=e=>\"[object String]\"==q.call(e),V=e=>W(e)&&0===e.trim().length,G=e=>null===e,J=e=>z(e)||G(e),Y=e=>\"[object Number]\"==q.call(e),K=e=>\"[object Boolean]\"===q.call(e),X=e=>e instanceof FormData,Q=e=>$(g,e),Z=e=>{var i={_log:function(i){if(t&&(p.DEBUG||_.POSTHOG_DEBUG)&&!z(t.console)&&t.console){for(var r=(\"__rrweb_original__\"in t.console[i]?t.console[i].__rrweb_original__:t.console[i]),s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];r(e,...n)}},info:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i._log(\"log\",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i._log(\"warn\",...t)},error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i._log(\"error\",...t)},critical:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];console.error(e,...i)},uninitializedWarning:e=>{i.error(\"You must initialize PostHog before calling \".concat(e))},createLogger:t=>Z(\"\".concat(e,\" \").concat(t))};return i},ee=Z(\"[PostHog.js]\"),te=ee.createLogger,ie=te(\"[ExternalScriptsLoader]\"),re=(e,t,i)=>{if(e.config.disable_external_dependency_loading)return ie.warn(\"\".concat(t,\" was requested but loading of external scripts is disabled.\")),i(\"Loading of external scripts is disabled\");var r=()=>{if(!a)return i(\"document not found\");var r=a.createElement(\"script\");if(r.type=\"text/javascript\",r.crossOrigin=\"anonymous\",r.src=t,r.onload=e=>i(void 0,e),r.onerror=e=>i(e),e.config.prepare_external_dependency_script&&(r=e.config.prepare_external_dependency_script(r)),!r)return i(\"prepare_external_dependency_script returned null\");var s,n=a.querySelectorAll(\"body > script\");n.length>0?null===(s=n[0].parentNode)||void 0===s||s.insertBefore(r,n[0]):a.body.appendChild(r)};null!=a&&a.body?r():null==a||a.addEventListener(\"DOMContentLoaded\",r)};function se(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function ne(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?se(Object(i),!0).forEach((function(t){oe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):se(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function oe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ae(e,t){if(null==e)return{};var i,r,s=function(e,t){if(null==e)return{};var i,r,s={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}_.__PosthogExtensions__=_.__PosthogExtensions__||{},_.__PosthogExtensions__.loadExternalDependency=(e,t,i)=>{var r=\"/static/\".concat(t,\".js\")+\"?v=\".concat(e.version);if(\"remote-config\"===t&&(r=\"/array/\".concat(e.config.token,\"/config.js\")),\"toolbar\"===t){var s=3e5,n=Math.floor(Date.now()/s)*s;r=\"\".concat(r,\"&t=\").concat(n)}var o=e.requestRouter.endpointFor(\"assets\",r);re(e,o,i)},_.__PosthogExtensions__.loadSiteApp=(e,t,i)=>{var r=e.requestRouter.endpointFor(\"api\",t);re(e,r,i)};var le=\"$people_distinct_id\",ue=\"__alias\",ce=\"__timers\",de=\"$autocapture_disabled_server_side\",he=\"$heatmaps_enabled_server_side\",_e=\"$exception_capture_enabled_server_side\",pe=\"$web_vitals_enabled_server_side\",ve=\"$dead_clicks_enabled_server_side\",ge=\"$web_vitals_allowed_metrics\",fe=\"$session_recording_enabled_server_side\",me=\"$console_log_recording_enabled_server_side\",be=\"$session_recording_network_payload_capture\",ye=\"$session_recording_canvas_recording\",we=\"$replay_sample_rate\",Se=\"$replay_minimum_duration\",ke=\"$replay_script_config\",Ee=\"$sesid\",xe=\"$session_is_sampled\",Ie=\"$session_recording_url_trigger_activated_session\",Ce=\"$session_recording_event_trigger_activated_session\",Pe=\"$enabled_feature_flags\",Fe=\"$early_access_features\",Te=\"$stored_person_properties\",Re=\"$stored_group_properties\",$e=\"$surveys\",Oe=\"$surveys_activated\",Me=\"$flag_call_reported\",Ae=\"$user_state\",Le=\"$client_session_props\",De=\"$capture_rate_limit\",Ne=\"$initial_campaign_params\",qe=\"$initial_referrer_info\",Be=\"$initial_person_info\",He=\"$epp\",Ue=\"__POSTHOG_TOOLBAR__\",je=\"$posthog_cookieless\",ze=[le,ue,\"__cmpns\",ce,fe,he,Ee,Pe,Ae,Fe,Re,Te,$e,Me,Le,De,Ne,qe,He],We=te(\"[FeatureFlags]\"),Ve=\"$active_feature_flags\",Ge=\"$override_feature_flags\",Je=\"$feature_flag_payloads\",Ye=\"$override_feature_flag_payloads\",Ke=e=>{var t={};for(var[i,r]of k(e||{}))r&&(t[i]=r);return t};class Xe{constructor(e){oe(this,\"_override_warning\",!1),oe(this,\"_hasLoadedFlags\",!1),oe(this,\"_requestInFlight\",!1),oe(this,\"_reloadingDisabled\",!1),oe(this,\"_additionalReloadRequested\",!1),oe(this,\"_decideCalled\",!1),oe(this,\"_flagsLoadedFromRemote\",!1),this.instance=e,this.featureFlagEventHandlers=[]}decide(){if(this.instance.config.__preview_remote_config)this._decideCalled=!0;else{var e=!this._reloadDebouncer&&(this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load);this._callDecideEndpoint({disableFlags:e})}}get hasLoadedFlags(){return this._hasLoadedFlags}getFlags(){return Object.keys(this.getFlagVariants())}getFlagVariants(){var e=this.instance.get_property(Pe),t=this.instance.get_property(Ge);if(!t)return e||{};for(var i=w({},e),r=Object.keys(t),s=0;s<r.length;s++)i[r[s]]=t[r[s]];return this._override_warning||(We.warn(\" Overriding feature flags!\",{enabledFlags:e,overriddenFlags:t,finalFlags:i}),this._override_warning=!0),i}getFlagPayloads(){var e=this.instance.get_property(Je),t=this.instance.get_property(Ye);if(!t)return e||{};for(var i=w({},e||{}),r=Object.keys(t),s=0;s<r.length;s++)i[r[s]]=t[r[s]];return this._override_warning||(We.warn(\" Overriding feature flag payloads!\",{flagPayloads:e,overriddenPayloads:t,finalPayloads:i}),this._override_warning=!0),i}reloadFeatureFlags(){this._reloadingDisabled||this.instance.config.advanced_disable_feature_flags||this._reloadDebouncer||(this._reloadDebouncer=setTimeout((()=>{this._callDecideEndpoint()}),5))}clearDebouncer(){clearTimeout(this._reloadDebouncer),this._reloadDebouncer=void 0}ensureFlagsLoaded(){this._hasLoadedFlags||this._requestInFlight||this._reloadDebouncer||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this._reloadingDisabled=e}_callDecideEndpoint(t){if(this.clearDebouncer(),!this.instance.config.advanced_disable_decide)if(this._requestInFlight)this._additionalReloadRequested=!0;else{var i={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:this.instance.get_property(Te),group_properties:this.instance.get_property(Re)};(null!=t&&t.disableFlags||this.instance.config.advanced_disable_feature_flags)&&(i.disable_flags=!0),this._requestInFlight=!0,this.instance._send_request({method:\"POST\",url:this.instance.requestRouter.endpointFor(\"api\",\"/decide/?v=3\"),data:i,compression:this.instance.config.disable_compression?void 0:e.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:e=>{var t,r,s=!0;(200===e.statusCode&&(this.$anon_distinct_id=void 0,s=!1),this._requestInFlight=!1,this._decideCalled)||(this._decideCalled=!0,this.instance._onRemoteConfig(null!==(r=e.json)&&void 0!==r?r:{}));i.disable_flags||(this._flagsLoadedFromRemote=!s,this.receivedFeatureFlags(null!==(t=e.json)&&void 0!==t?t:{},s),this._additionalReloadRequested&&(this._additionalReloadRequested=!1,this._callDecideEndpoint()))}})}}getFeatureFlag(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._hasLoadedFlags||this.getFlags()&&this.getFlags().length>0){var i,r,s,n,o,a=this.getFlagVariants()[e],l=\"\".concat(a),u=this.instance.get_property(Me)||{};if(t.send_event||!(\"send_event\"in t))if(!(e in u)||!u[e].includes(l))B(u[e])?u[e].push(l):u[e]=[l],null===(i=this.instance.persistence)||void 0===i||i.register({[Me]:u}),this.instance.capture(\"$feature_flag_called\",{$feature_flag:e,$feature_flag_response:a,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_bootstrapped_response:(null===(r=this.instance.config.bootstrap)||void 0===r||null===(s=r.featureFlags)||void 0===s?void 0:s[e])||null,$feature_flag_bootstrapped_payload:(null===(n=this.instance.config.bootstrap)||void 0===n||null===(o=n.featureFlagPayloads)||void 0===o?void 0:o[e])||null,$used_bootstrap_value:!this._flagsLoadedFromRemote});return a}We.warn('getFeatureFlag for key \"'+e+\"\\\" failed. Feature flags didn't load in time.\")}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}isFeatureEnabled(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._hasLoadedFlags||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);We.warn('isFeatureEnabled for key \"'+e+\"\\\" failed. Feature flags didn't load in time.\")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((t=>t!==e))}receivedFeatureFlags(e,t){if(this.instance.persistence){this._hasLoadedFlags=!0;var i=this.getFlagVariants(),r=this.getFlagPayloads();!function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=e.featureFlags,n=e.featureFlagPayloads;if(s)if(B(s)){var o={};if(s)for(var a=0;a<s.length;a++)o[s[a]]=!0;t&&t.register({[Ve]:s,[Pe]:o})}else{var l=s,u=n;e.errorsWhileComputingFlags&&(l=ne(ne({},i),l),u=ne(ne({},r),u)),t&&t.register({[Ve]:Object.keys(Ke(l)),[Pe]:l||{},[Je]:u||{}})}}(e,this.instance.persistence,i,r),this._fireFeatureFlagsCallbacks(t)}}override(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];We.warn(\"override is deprecated. Please use overrideFeatureFlags instead.\"),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this.instance.__loaded||!this.instance.persistence)return We.uninitializedWarning(\"posthog.feature_flags.overrideFeatureFlags\");if(!1===e)return this.instance.persistence.unregister(Ge),this.instance.persistence.unregister(Ye),void this._fireFeatureFlagsCallbacks();if(e&&\"object\"==typeof e&&(\"flags\"in e||\"payloads\"in e)){var t,i=e;if(this._override_warning=Boolean(null!==(t=i.suppressWarning)&&void 0!==t&&t),\"flags\"in i)if(!1===i.flags)this.instance.persistence.unregister(Ge);else if(i.flags)if(B(i.flags)){for(var r={},s=0;s<i.flags.length;s++)r[i.flags[s]]=!0;this.instance.persistence.register({[Ge]:r})}else this.instance.persistence.register({[Ge]:i.flags});return\"payloads\"in i&&(!1===i.payloads?this.instance.persistence.unregister(Ye):i.payloads&&this.instance.persistence.register({[Ye]:i.payloads})),void this._fireFeatureFlagsCallbacks()}this._fireFeatureFlagsCallbacks()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this._hasLoadedFlags){var{flags:t,flagVariants:i}=this._prepareFeatureFlagsForCallbacks();e(t,i)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t){var i,r=(this.instance.get_property(Fe)||[]).find((t=>t.flagKey===e)),s={[\"$feature_enrollment/\".concat(e)]:t},n={$feature_flag:e,$feature_enrollment:t,$set:s};r&&(n.$early_access_feature_name=r.name),this.instance.capture(\"$feature_enrollment_update\",n),this.setPersonPropertiesForFlags(s,!1);var o=ne(ne({},this.getFlagVariants()),{},{[e]:t});null===(i=this.instance.persistence)||void 0===i||i.register({[Ve]:Object.keys(Ke(o)),[Pe]:o}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.instance.get_property(Fe);if(i&&!t)return e(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/early_access_features/?token=\".concat(this.instance.config.token)),method:\"GET\",callback:t=>{var i;if(t.json){var r=t.json.earlyAccessFeatures;return null===(i=this.instance.persistence)||void 0===i||i.register({[Fe]:r}),e(r)}}})}_prepareFeatureFlagsForCallbacks(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter((e=>t[e])),flagVariants:Object.keys(t).filter((e=>t[e])).reduce(((e,i)=>(e[i]=t[i],e)),{})}}_fireFeatureFlagsCallbacks(e){var{flags:t,flagVariants:i}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach((r=>r(t,i,{errorsLoading:e})))}setPersonPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.instance.get_property(Te)||{};this.instance.register({[Te]:ne(ne({},i),e)}),t&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(Te)}setGroupPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.instance.get_property(Re)||{};0!==Object.keys(i).length&&Object.keys(i).forEach((t=>{i[t]=ne(ne({},i[t]),e[t]),delete e[t]})),this.instance.register({[Re]:ne(ne({},i),e)}),t&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this.instance.get_property(Re)||{};this.instance.register({[Re]:ne(ne({},t),{},{[e]:{}})})}else this.instance.unregister(Re)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Y(e)&&isFinite(e)&&Math.floor(e)===e});var Qe=\"0123456789abcdef\";class Ze{constructor(e){if(this.bytes=e,16!==e.length)throw new TypeError(\"not 128-bit length\")}static fromFieldsV7(e,t,i,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(r)||e<0||t<0||i<0||r<0||e>0xffffffffffff||t>4095||i>1073741823||r>4294967295)throw new RangeError(\"invalid field value\");var s=new Uint8Array(16);return s[0]=e/Math.pow(2,40),s[1]=e/Math.pow(2,32),s[2]=e/Math.pow(2,24),s[3]=e/Math.pow(2,16),s[4]=e/Math.pow(2,8),s[5]=e,s[6]=112|t>>>8,s[7]=t,s[8]=128|i>>>24,s[9]=i>>>16,s[10]=i>>>8,s[11]=i,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new Ze(s)}toString(){for(var e=\"\",t=0;t<this.bytes.length;t++)e=e+Qe.charAt(this.bytes[t]>>>4)+Qe.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+=\"-\");if(36!==e.length)throw new Error(\"Invalid UUIDv7 was generated\");return e}clone(){return new Ze(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(var t=0;t<16;t++){var i=this.bytes[t]-e.bytes[t];if(0!==i)return Math.sign(i)}return 0}}class et{constructor(){oe(this,\"timestamp\",0),oe(this,\"counter\",0),oe(this,\"random\",new rt)}generate(){var e=this.generateOrAbort();if(z(e)){this.timestamp=0;var t=this.generateOrAbort();if(z(t))throw new Error(\"Could not generate UUID after timestamp reset\");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return Ze.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}var tt,it=e=>{if(\"undefined\"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error(\"no cryptographically strong RNG available\");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};t&&!z(t.crypto)&&crypto.getRandomValues&&(it=e=>crypto.getRandomValues(e));class rt{constructor(){oe(this,\"buffer\",new Uint32Array(8)),oe(this,\"cursor\",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&(it(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}var st=()=>nt().toString(),nt=()=>(tt||(tt=new et)).generate(),ot=\"Thu, 01 Jan 1970 00:00:00 GMT\",at=\"\";var lt=/[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;function ut(e,t){if(t){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(at)return at;if(!t)return\"\";if([\"localhost\",\"127.0.0.1\"].includes(e))return\"\";for(var i=e.split(\".\"),r=Math.min(i.length,8),s=\"dmn_chk_\"+st(),n=new RegExp(\"(^|;)\\\\s*\"+s+\"=1\");!at&&r--;){var o=i.slice(r).join(\".\"),l=s+\"=1;domain=.\"+o;t.cookie=l,n.test(t.cookie)&&(t.cookie=l+\";expires=\"+ot,at=o)}return at}(e);if(!i){var r=(e=>{var t=e.match(lt);return t?t[0]:\"\"})(e);r!==i&&ee.info(\"Warning: cookie subdomain discovery mismatch\",r,i),i=r}return i?\"; domain=.\"+i:\"\"}return\"\"}var ct={is_supported:()=>!!a,error:function(e){ee.error(\"cookieStore error: \"+e)},get:function(e){if(a){try{for(var t=e+\"=\",i=a.cookie.split(\";\").filter((e=>e.length)),r=0;r<i.length;r++){for(var s=i[r];\" \"==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return decodeURIComponent(s.substring(t.length,s.length))}}catch(e){}return null}},parse:function(e){var t;try{t=JSON.parse(ct.get(e))||{}}catch(e){}return t},set:function(e,t,i,r,s){if(a)try{var n=\"\",o=\"\",l=ut(a.location.hostname,r);if(i){var u=new Date;u.setTime(u.getTime()+24*i*60*60*1e3),n=\"; expires=\"+u.toUTCString()}s&&(o=\"; secure\");var c=e+\"=\"+encodeURIComponent(JSON.stringify(t))+n+\"; SameSite=Lax; path=/\"+l+o;return c.length>3686.4&&ee.warn(\"cookieStore warning: large cookie, len=\"+c.length),a.cookie=c,c}catch(e){return}},remove:function(e,t){try{ct.set(e,\"\",-1,t)}catch(e){return}}},dt=null,ht={is_supported:function(){if(!G(dt))return dt;var e=!0;if(z(t))e=!1;else try{var i=\"__mplssupport__\";ht.set(i,\"xyz\"),'\"xyz\"'!==ht.get(i)&&(e=!1),ht.remove(i)}catch(t){e=!1}return e||ee.error(\"localStorage unsupported; falling back to cookie store\"),dt=e,e},error:function(e){ee.error(\"localStorage error: \"+e)},get:function(e){try{return null==t?void 0:t.localStorage.getItem(e)}catch(e){ht.error(e)}return null},parse:function(e){try{return JSON.parse(ht.get(e))||{}}catch(e){}return null},set:function(e,i){try{null==t||t.localStorage.setItem(e,JSON.stringify(i))}catch(e){ht.error(e)}},remove:function(e){try{null==t||t.localStorage.removeItem(e)}catch(e){ht.error(e)}}},_t=[\"distinct_id\",Ee,xe,He,Be],pt=ne(ne({},ht),{},{parse:function(e){try{var t={};try{t=ct.parse(e)||{}}catch(e){}var i=w(t,JSON.parse(ht.get(e)||\"{}\"));return ht.set(e,i),i}catch(e){}return null},set:function(e,t,i,r,s,n){try{ht.set(e,t,void 0,void 0,n);var o={};_t.forEach((e=>{t[e]&&(o[e]=t[e])})),Object.keys(o).length&&ct.set(e,o,i,r,s,n)}catch(e){ht.error(e)}},remove:function(e,i){try{null==t||t.localStorage.removeItem(e),ct.remove(e,i)}catch(e){ht.error(e)}}}),vt={},gt={is_supported:function(){return!0},error:function(e){ee.error(\"memoryStorage error: \"+e)},get:function(e){return vt[e]||null},parse:function(e){return vt[e]||null},set:function(e,t){vt[e]=t},remove:function(e){delete vt[e]}},ft=null,mt={is_supported:function(){if(!G(ft))return ft;if(ft=!0,z(t))ft=!1;else try{var e=\"__support__\";mt.set(e,\"xyz\"),'\"xyz\"'!==mt.get(e)&&(ft=!1),mt.remove(e)}catch(e){ft=!1}return ft},error:function(e){ee.error(\"sessionStorage error: \",e)},get:function(e){try{return null==t?void 0:t.sessionStorage.getItem(e)}catch(e){mt.error(e)}return null},parse:function(e){try{return JSON.parse(mt.get(e))||null}catch(e){}return null},set:function(e,i){try{null==t||t.sessionStorage.setItem(e,JSON.stringify(i))}catch(e){mt.error(e)}},remove:function(e){try{null==t||t.sessionStorage.removeItem(e)}catch(e){mt.error(e)}}},bt=[\"localhost\",\"127.0.0.1\"],yt=e=>{var t=null==a?void 0:a.createElement(\"a\");return z(t)?null:(t.href=e,t)},wt=function(e){var t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"&\",s=[];return y(e,(function(e,r){z(e)||z(r)||\"undefined\"===r||(t=encodeURIComponent((e=>e instanceof File)(e)?e.name:e.toString()),i=encodeURIComponent(r),s[s.length]=i+\"=\"+t)})),s.join(r)},St=function(e,t){for(var i,r=((e.split(\"#\")[0]||\"\").split(\"?\")[1]||\"\").split(\"&\"),s=0;s<r.length;s++){var n=r[s].split(\"=\");if(n[0]===t){i=n;break}}if(!B(i)||i.length<2)return\"\";var o=i[1];try{o=decodeURIComponent(o)}catch(e){ee.error(\"Skipping decoding for malformed query param: \"+o)}return o.replace(/\\+/g,\" \")},kt=function(e,t,i){if(!e||!t||!t.length)return e;for(var r=e.split(\"#\"),s=r[0]||\"\",n=r[1],o=s.split(\"?\"),a=o[1],l=o[0],u=(a||\"\").split(\"&\"),c=[],d=0;d<u.length;d++){var h=u[d].split(\"=\");B(h)&&(t.includes(h[0])?c.push(h[0]+\"=\"+i):c.push(u[d]))}var _=l;return null!=a&&(_+=\"?\"+c.join(\"&\")),null!=n&&(_+=\"#\"+n),_},Et=function(e,t){var i=e.match(new RegExp(t+\"=([^&]*)\"));return i?i[1]:null},xt=\"Mobile\",It=\"iOS\",Ct=\"Android\",Pt=\"Tablet\",Ft=Ct+\" \"+Pt,Tt=\"iPad\",Rt=\"Apple\",$t=Rt+\" Watch\",Ot=\"Safari\",Mt=\"BlackBerry\",At=\"Samsung\",Lt=At+\"Browser\",Dt=At+\" Internet\",Nt=\"Chrome\",qt=Nt+\" OS\",Bt=Nt+\" \"+It,Ht=\"Internet Explorer\",Ut=Ht+\" \"+xt,jt=\"Opera\",zt=jt+\" Mini\",Wt=\"Edge\",Vt=\"Microsoft \"+Wt,Gt=\"Firefox\",Jt=Gt+\" \"+It,Yt=\"Nintendo\",Kt=\"PlayStation\",Xt=\"Xbox\",Qt=Ct+\" \"+xt,Zt=xt+\" \"+Ot,ei=\"Windows\",ti=ei+\" Phone\",ii=\"Nokia\",ri=\"Ouya\",si=\"Generic\",ni=si+\" \"+xt.toLowerCase(),oi=si+\" \"+Pt.toLowerCase(),ai=\"Konqueror\",li=\"(\\\\d+(\\\\.\\\\d+)?)\",ui=new RegExp(\"Version/\"+li),ci=new RegExp(Xt,\"i\"),di=new RegExp(Kt+\" \\\\w+\",\"i\"),hi=new RegExp(Yt+\" \\\\w+\",\"i\"),_i=new RegExp(Mt+\"|PlayBook|BB10\",\"i\"),pi={\"NT3.51\":\"NT 3.11\",\"NT4.0\":\"NT 4.0\",\"5.0\":\"2000\",5.1:\"XP\",5.2:\"XP\",\"6.0\":\"Vista\",6.1:\"7\",6.2:\"8\",6.3:\"8.1\",6.4:\"10\",\"10.0\":\"10\"};var vi=(e,t)=>t&&$(t,Rt)||function(e){return $(e,Ot)&&!$(e,Nt)&&!$(e,Ct)}(e),gi=function(e,t){return t=t||\"\",$(e,\" OPR/\")&&$(e,\"Mini\")?zt:$(e,\" OPR/\")?jt:_i.test(e)?Mt:$(e,\"IE\"+xt)||$(e,\"WPDesktop\")?Ut:$(e,Lt)?Dt:$(e,Wt)||$(e,\"Edg/\")?Vt:$(e,\"FBIOS\")?\"Facebook \"+xt:$(e,\"UCWEB\")||$(e,\"UCBrowser\")?\"UC Browser\":$(e,\"CriOS\")?Bt:$(e,\"CrMo\")||$(e,Nt)?Nt:$(e,Ct)&&$(e,Ot)?Qt:$(e,\"FxiOS\")?Jt:$(e.toLowerCase(),ai.toLowerCase())?ai:vi(e,t)?$(e,xt)?Zt:Ot:$(e,Gt)?Gt:$(e,\"MSIE\")||$(e,\"Trident/\")?Ht:$(e,\"Gecko\")?Gt:\"\"},fi={[Ut]:[new RegExp(\"rv:\"+li)],[Vt]:[new RegExp(Wt+\"?\\\\/\"+li)],[Nt]:[new RegExp(\"(\"+Nt+\"|CrMo)\\\\/\"+li)],[Bt]:[new RegExp(\"CriOS\\\\/\"+li)],\"UC Browser\":[new RegExp(\"(UCBrowser|UCWEB)\\\\/\"+li)],[Ot]:[ui],[Zt]:[ui],[jt]:[new RegExp(\"(Opera|OPR)\\\\/\"+li)],[Gt]:[new RegExp(Gt+\"\\\\/\"+li)],[Jt]:[new RegExp(\"FxiOS\\\\/\"+li)],[ai]:[new RegExp(\"Konqueror[:/]?\"+li,\"i\")],[Mt]:[new RegExp(Mt+\" \"+li),ui],[Qt]:[new RegExp(\"android\\\\s\"+li,\"i\")],[Dt]:[new RegExp(Lt+\"\\\\/\"+li)],[Ht]:[new RegExp(\"(rv:|MSIE )\"+li)],Mozilla:[new RegExp(\"rv:\"+li)]},mi=[[new RegExp(Xt+\"; \"+Xt+\" (.*?)[);]\",\"i\"),e=>[Xt,e&&e[1]||\"\"]],[new RegExp(Yt,\"i\"),[Yt,\"\"]],[new RegExp(Kt,\"i\"),[Kt,\"\"]],[_i,[Mt,\"\"]],[new RegExp(ei,\"i\"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[ti,\"\"];if(new RegExp(xt).test(t)&&!/IEMobile\\b/.test(t))return[ei+\" \"+xt,\"\"];var i=/Windows NT ([0-9.]+)/i.exec(t);if(i&&i[1]){var r=i[1],s=pi[r]||\"\";return/arm/i.test(t)&&(s=\"RT\"),[ei,s]}return[ei,\"\"]}],[/((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||\"0\"];return[It,t.join(\".\")]}return[It,\"\"]}],[/(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,e=>{var t=\"\";return e&&e.length>=3&&(t=z(e[2])?e[3]:e[2]),[\"watchOS\",t]}],[new RegExp(\"(\"+Ct+\" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\"+Ct+\")\",\"i\"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||\"0\"];return[Ct,t.join(\".\")]}return[Ct,\"\"]}],[/Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,e=>{var t=[\"Mac OS X\",\"\"];if(e&&e[1]){var i=[e[1],e[2],e[3]||\"0\"];t[1]=i.join(\".\")}return t}],[/Mac/i,[\"Mac OS X\",\"\"]],[/CrOS/,[qt,\"\"]],[/Linux|debian/i,[\"Linux\",\"\"]]],bi=function(e){return hi.test(e)?Yt:di.test(e)?Kt:ci.test(e)?Xt:new RegExp(ri,\"i\").test(e)?ri:new RegExp(\"(\"+ti+\"|WPDesktop)\",\"i\").test(e)?ti:/iPad/.test(e)?Tt:/iPod/.test(e)?\"iPod Touch\":/iPhone/.test(e)?\"iPhone\":/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(e)?$t:_i.test(e)?Mt:/(kobo)\\s(ereader|touch)/i.test(e)?\"Kobo\":new RegExp(ii,\"i\").test(e)?ii:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(e)||/(kf[a-z]+)( bui|\\)).+silk\\//i.test(e)?\"Kindle Fire\":/(Android|ZTE)/i.test(e)?!new RegExp(xt).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Ct:Ft:Ct:new RegExp(\"(pda|\"+xt+\")\",\"i\").test(e)?ni:new RegExp(Pt,\"i\").test(e)&&!new RegExp(Pt+\" pc\",\"i\").test(e)?oi:\"\"},yi=\"https?://(.*)\",wi=[\"gclid\",\"gclsrc\",\"dclid\",\"gbraid\",\"wbraid\",\"fbclid\",\"msclkid\",\"twclid\",\"li_fat_id\",\"igshid\",\"ttclid\",\"rdt_cid\",\"irclid\",\"_kx\"],Si=S([\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_content\",\"utm_term\",\"gad_source\",\"mc_cid\"],wi),ki=\"<masked>\",Ei={campaignParams:function(){var{customTrackedParams:e,maskPersonalDataProperties:t,customPersonalDataProperties:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a)return{};var r=t?S([],wi,i||[]):[];return this._campaignParamsFromUrl(kt(a.URL,r,ki),e)},_campaignParamsFromUrl:function(e,t){var i=Si.concat(t||[]),r={};return y(i,(function(t){var i=St(e,t);r[t]=i||null})),r},_searchEngine:function(e){return e?0===e.search(yi+\"google.([^/?]*)\")?\"google\":0===e.search(yi+\"bing.com\")?\"bing\":0===e.search(yi+\"yahoo.com\")?\"yahoo\":0===e.search(yi+\"duckduckgo.com\")?\"duckduckgo\":null:null},_searchInfoFromReferrer:function(e){var t=Ei._searchEngine(e),i=\"yahoo\"!=t?\"q\":\"p\",r={};if(!G(t)){r.$search_engine=t;var s=a?St(a.referrer,i):\"\";s.length&&(r.ph_keyword=s)}return r},searchInfo:function(){var e=null==a?void 0:a.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:gi,browserVersion:function(e,t){var i=gi(e,t),r=fi[i];if(z(r))return null;for(var s=0;s<r.length;s++){var n=r[s],o=e.match(n);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},browserLanguagePrefix:function(){var e=this.browserLanguage();return\"string\"==typeof e?e.split(\"-\")[0]:void 0},os:function(e){for(var t=0;t<mi.length;t++){var[i,r]=mi[t],s=i.exec(e),n=s&&(H(r)?r(s,e):r);if(n)return n}return[\"\",\"\"]},device:bi,deviceType:function(e){var t=bi(e);return t===Tt||t===Ft||\"Kobo\"===t||\"Kindle Fire\"===t||t===oi?Pt:t===Yt||t===Xt||t===Kt||t===ri?\"Console\":t===$t?\"Wearable\":t?xt:\"Desktop\"},referrer:function(){return(null==a?void 0:a.referrer)||\"$direct\"},referringDomain:function(){var e;return null!=a&&a.referrer&&(null===(e=yt(a.referrer))||void 0===e?void 0:e.host)||\"$direct\"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer().substring(0,1e3),u:null==l?void 0:l.href.substring(0,1e3)}},initialPersonPropsFromInfo:function(e){var t,{r:i,u:r}=e,s={$initial_referrer:i,$initial_referring_domain:null==i?void 0:\"$direct\"==i?\"$direct\":null===(t=yt(i))||void 0===t?void 0:t.host};if(r){s.$initial_current_url=r;var n=yt(r);s.$initial_host=null==n?void 0:n.host,s.$initial_pathname=null==n?void 0:n.pathname,y(this._campaignParamsFromUrl(r),(function(e,t){s[\"$initial_\"+M(t)]=e}))}i&&y(this._searchInfoFromReferrer(i),(function(e,t){s[\"$initial_\"+M(t)]=e}));return s},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}},timezoneOffset:function(){try{return(new Date).getTimezoneOffset()}catch(e){return}},properties:function(){var{maskPersonalDataProperties:e,customPersonalDataProperties:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h)return{};var r=e?S([],wi,i||[]):[],[s,n]=Ei.os(h);return w(I({$os:s,$os_version:n,$browser:Ei.browser(h,navigator.vendor),$device:Ei.device(h),$device_type:Ei.deviceType(h),$timezone:Ei.timezone(),$timezone_offset:Ei.timezoneOffset()}),{$current_url:kt(null==l?void 0:l.href,r,ki),$host:null==l?void 0:l.host,$pathname:null==l?void 0:l.pathname,$raw_user_agent:h.length>1e3?h.substring(0,997)+\"...\":h,$browser_version:Ei.browserVersion(h,navigator.vendor),$browser_language:Ei.browserLanguage(),$browser_language_prefix:Ei.browserLanguagePrefix(),$screen_height:null==t?void 0:t.screen.height,$screen_width:null==t?void 0:t.screen.width,$viewport_height:null==t?void 0:t.innerHeight,$viewport_width:null==t?void 0:t.innerWidth,$lib:\"web\",$lib_version:p.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!h)return{};var[e,t]=Ei.os(h);return w(I({$os:e,$os_version:t,$browser:Ei.browser(h,navigator.vendor)}),{$browser_version:Ei.browserVersion(h,navigator.vendor)})}},xi=[\"cookie\",\"localstorage\",\"localstorage+cookie\",\"sessionstorage\",\"memory\"];class Ii{constructor(e){this.config=e,this.props={},this.campaign_params_saved=!1,this.name=(e=>{var t=\"\";return e.token&&(t=e.token.replace(/\\+/g,\"PL\").replace(/\\//g,\"SL\").replace(/=/g,\"EQ\")),e.persistence_name?\"ph_\"+e.persistence_name:\"ph_\"+t+\"_posthog\"})(e),this.storage=this.buildStorage(e),this.load(),e.debug&&ee.info(\"Persistence loaded\",e.persistence,ne({},this.props)),this.update_config(e,e),this.save()}buildStorage(e){-1===xi.indexOf(e.persistence.toLowerCase())&&(ee.critical(\"Unknown persistence type \"+e.persistence+\"; falling back to localStorage+cookie\"),e.persistence=\"localStorage+cookie\");var t=e.persistence.toLowerCase();return\"localstorage\"===t&&ht.is_supported()?ht:\"localstorage+cookie\"===t&&pt.is_supported()?pt:\"sessionstorage\"===t&&mt.is_supported()?mt:\"memory\"===t?gt:\"cookie\"===t?ct:pt.is_supported()?pt:ct}properties(){var e={};return y(this.props,(function(t,i){if(i===Pe&&U(t))for(var r=Object.keys(t),s=0;s<r.length;s++)e[\"$feature/\".concat(r[s])]=t[r[s]];else a=i,l=!1,(G(o=ze)?l:n&&o.indexOf===n?-1!=o.indexOf(a):(y(o,(function(e){if(l||(l=e===a))return m})),l))||(e[i]=t);var o,a,l})),e}load(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=w({},e))}}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(e,t,i){if(U(e)){z(t)&&(t=\"None\"),this.expire_days=z(i)?this.default_expiry:i;var r=!1;if(y(e,((e,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==t||(this.props[i]=e,r=!0)})),r)return this.save(),!0}return!1}register(e,t){if(U(e)){this.expire_days=z(t)?this.default_expiry:t;var i=!1;if(y(e,((t,r)=>{e.hasOwnProperty(r)&&this.props[r]!==t&&(this.props[r]=t,i=!0)})),i)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.campaign_params_saved){var e=Ei.campaignParams({customTrackedParams:this.config.custom_campaign_params,maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties});j(I(e))||this.register(e),this.campaign_params_saved=!0}}update_search_keyword(){this.register(Ei.searchInfo())}update_referrer_info(){this.register_once(Ei.referrerInfo(),void 0)}set_initial_person_info(){this.props[Ne]||this.props[qe]||this.register_once({[Be]:Ei.initialPersonInfo()},void 0)}get_referrer_info(){return I({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){var e={};y([qe,Ne],(t=>{var i=this.props[t];i&&y(i,(function(t,i){e[\"$initial_\"+M(i)]=t}))}));var t=this.props[Be];if(t){var i=Ei.initialPersonPropsFromInfo(t);w(e,i)}return e}safe_merge(e){return y(this.props,(function(t,i){i in e||(e[i]=t)})),e}update_config(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var i=this.buildStorage(e),r=this.props;this.clear(),this.storage=i,this.props=r,this.save()}}set_disabled(e){this.disabled=e,this.disabled?this.remove():this.save()}set_cross_subdomain(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}set_event_timer(e,t){var i=this.props[ce]||{};i[e]=t,this.props[ce]=i,this.save()}remove_event_timer(e){var t=(this.props[ce]||{})[e];return z(t)||(delete this.props[ce][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}function Ci(e){var t,i;return(null===(t=JSON.stringify(e,(i=[],function(e,t){if(U(t)){for(;i.length>0&&i[i.length-1]!==this;)i.pop();return i.includes(t)?\"[Circular]\":(i.push(t),t)}return t})))||void 0===t?void 0:t.length)||0}function Pi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6606028.8;if(e.size>=t&&e.data.length>1){var i=Math.floor(e.data.length/2),r=e.data.slice(0,i),s=e.data.slice(i);return[Pi({size:Ci(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),Pi({size:Ci(s),data:s,sessionId:e.sessionId,windowId:e.windowId})].flatMap((e=>e))}return[e]}var Fi=(e=>(e[e.DomContentLoaded=0]=\"DomContentLoaded\",e[e.Load=1]=\"Load\",e[e.FullSnapshot=2]=\"FullSnapshot\",e[e.IncrementalSnapshot=3]=\"IncrementalSnapshot\",e[e.Meta=4]=\"Meta\",e[e.Custom=5]=\"Custom\",e[e.Plugin=6]=\"Plugin\",e))(Fi||{}),Ti=(e=>(e[e.Mutation=0]=\"Mutation\",e[e.MouseMove=1]=\"MouseMove\",e[e.MouseInteraction=2]=\"MouseInteraction\",e[e.Scroll=3]=\"Scroll\",e[e.ViewportResize=4]=\"ViewportResize\",e[e.Input=5]=\"Input\",e[e.TouchMove=6]=\"TouchMove\",e[e.MediaInteraction=7]=\"MediaInteraction\",e[e.StyleSheetRule=8]=\"StyleSheetRule\",e[e.CanvasMutation=9]=\"CanvasMutation\",e[e.Font=10]=\"Font\",e[e.Log=11]=\"Log\",e[e.Drag=12]=\"Drag\",e[e.StyleDeclaration=13]=\"StyleDeclaration\",e[e.Selection=14]=\"Selection\",e[e.AdoptedStyleSheet=15]=\"AdoptedStyleSheet\",e[e.CustomElement=16]=\"CustomElement\",e))(Ti||{});function Ri(e){var t;return e instanceof Element&&(e.id===Ue||!(null===(t=e.closest)||void 0===t||!t.call(e,\".toolbar-global-fade-container\")))}function $i(e){return!!e&&1===e.nodeType}function Oi(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Mi(e){return!!e&&3===e.nodeType}function Ai(e){return!!e&&11===e.nodeType}function Li(e){return e?O(e).split(/\\s+/):[]}function Di(e){var i=null==t?void 0:t.location.href;return!!(i&&e&&e.some((e=>i.match(e))))}function Ni(e){var t=\"\";switch(typeof e.className){case\"string\":t=e.className;break;case\"object\":t=(e.className&&\"baseVal\"in e.className?e.className.baseVal:null)||e.getAttribute(\"class\")||\"\";break;default:t=\"\"}return Li(t)}function qi(e){return J(e)?null:O(e).split(/(\\s+)/).filter((e=>Zi(e))).join(\"\").replace(/[\\r\\n]/g,\" \").replace(/[ ]+/g,\" \").substring(0,255)}function Bi(e){var t=\"\";return Wi(e)&&!Vi(e)&&e.childNodes&&e.childNodes.length&&y(e.childNodes,(function(e){var i;Mi(e)&&e.textContent&&(t+=null!==(i=qi(e.textContent))&&void 0!==i?i:\"\")})),O(t)}function Hi(e){return z(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var Ui=[\"a\",\"button\",\"form\",\"input\",\"select\",\"textarea\",\"label\"];function ji(e){var t=e.parentNode;return!(!t||!$i(t))&&t}function zi(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;if(!t||!e||Oi(e,\"html\")||!$i(e))return!1;if(null!=r&&r.url_allowlist&&!Di(r.url_allowlist))return!1;if(null!=r&&r.url_ignorelist&&Di(r.url_ignorelist))return!1;if(null!=r&&r.dom_event_allowlist){var o=r.dom_event_allowlist;if(o&&!o.some((e=>i.type===e)))return!1}for(var a=!1,l=[e],u=!0,c=e;c.parentNode&&!Oi(c,\"body\");)if(Ai(c.parentNode))l.push(c.parentNode.host),c=c.parentNode.host;else{if(!(u=ji(c)))break;if(s||Ui.indexOf(u.tagName.toLowerCase())>-1)a=!0;else{var d=t.getComputedStyle(u);d&&\"pointer\"===d.getPropertyValue(\"cursor\")&&(a=!0)}l.push(u),c=u}if(!function(e,t){var i=null==t?void 0:t.element_allowlist;if(z(i))return!0;var r=function(e){if(i.some((t=>e.tagName.toLowerCase()===t)))return{v:!0}};for(var s of e){var n=r(s);if(\"object\"==typeof n)return n.v}return!1}(l,r))return!1;if(!function(e,t){var i=null==t?void 0:t.css_selector_allowlist;if(z(i))return!0;var r=function(e){if(i.some((t=>e.matches(t))))return{v:!0}};for(var s of e){var n=r(s);if(\"object\"==typeof n)return n.v}return!1}(l,r))return!1;var h=t.getComputedStyle(e);if(h&&\"pointer\"===h.getPropertyValue(\"cursor\")&&\"click\"===i.type)return!0;var _=e.tagName.toLowerCase();switch(_){case\"html\":return!1;case\"form\":return(n||[\"submit\"]).indexOf(i.type)>=0;case\"input\":case\"select\":case\"textarea\":return(n||[\"change\",\"click\"]).indexOf(i.type)>=0;default:return a?(n||[\"click\"]).indexOf(i.type)>=0:(n||[\"click\"]).indexOf(i.type)>=0&&(Ui.indexOf(_)>-1||\"true\"===e.getAttribute(\"contenteditable\"))}}function Wi(e){for(var t=e;t.parentNode&&!Oi(t,\"body\");t=t.parentNode){var i=Ni(t);if($(i,\"ph-sensitive\")||$(i,\"ph-no-capture\"))return!1}if($(Ni(e),\"ph-include\"))return!0;var r=e.type||\"\";if(W(r))switch(r.toLowerCase()){case\"hidden\":case\"password\":return!1}var s=e.name||e.id||\"\";if(W(s)){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,\"\")))return!1}return!0}function Vi(e){return!!(Oi(e,\"input\")&&![\"button\",\"checkbox\",\"submit\",\"reset\"].includes(e.type)||Oi(e,\"select\")||Oi(e,\"textarea\")||\"true\"===e.getAttribute(\"contenteditable\"))}var Gi=\"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\",Ji=new RegExp(\"^(?:\".concat(Gi,\")$\")),Yi=new RegExp(Gi),Ki=\"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\",Xi=new RegExp(\"^(\".concat(Ki,\")$\")),Qi=new RegExp(\"(\".concat(Ki,\")\"));function Zi(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(J(e))return!1;if(W(e)){if(e=O(e),(t?Ji:Yi).test((e||\"\").replace(/[- ]/g,\"\")))return!1;if((t?Xi:Qi).test(e))return!1}return!0}function er(e){var t=Bi(e);return Zi(t=\"\".concat(t,\" \").concat(tr(e)).trim())?t:\"\"}function tr(e){var t=\"\";return e&&e.childNodes&&e.childNodes.length&&y(e.childNodes,(function(e){var i;if(e&&\"span\"===(null===(i=e.tagName)||void 0===i?void 0:i.toLowerCase()))try{var r=Bi(e);t=\"\".concat(t,\" \").concat(r).trim(),e.childNodes&&e.childNodes.length&&(t=\"\".concat(t,\" \").concat(tr(e)).trim())}catch(e){ee.error(\"[AutoCapture]\",e)}})),t}function ir(e){return function(e){var t=e.map((e=>{var t,i,r=\"\";if(e.tag_name&&(r+=e.tag_name),e.attr_class)for(var s of(e.attr_class.sort(),e.attr_class))r+=\".\".concat(s.replace(/\"/g,\"\"));var n=ne(ne(ne(ne({},e.text?{text:e.text}:{}),{},{\"nth-child\":null!==(t=e.nth_child)&&void 0!==t?t:0,\"nth-of-type\":null!==(i=e.nth_of_type)&&void 0!==i?i:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),o={};return k(n).sort(((e,t)=>{var[i]=e,[r]=t;return i.localeCompare(r)})).forEach((e=>{var[t,i]=e;return o[rr(t.toString())]=rr(i.toString())})),r+=\":\",r+=k(n).map((e=>{var[t,i]=e;return\"\".concat(t,'=\"').concat(i,'\"')})).join(\"\")}));return t.join(\";\")}(function(e){return e.map((e=>{var t,i,r={text:null===(t=e.$el_text)||void 0===t?void 0:t.slice(0,400),tag_name:e.tag_name,href:null===(i=e.attr__href)||void 0===i?void 0:i.slice(0,2048),attr_class:sr(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return k(e).filter((e=>{var[t]=e;return 0===t.indexOf(\"attr__\")})).forEach((e=>{var[t,i]=e;return r.attributes[t]=i})),r}))}(e))}function rr(e){return e.replace(/\"|\\\\\"/g,'\\\\\"')}function sr(e){var t=e.attr__class;return t?B(t)?t:Li(t):void 0}var nr=\"[SessionRecording]\",or=\"redacted\",ar={initiatorTypes:[\"audio\",\"beacon\",\"body\",\"css\",\"early-hint\",\"embed\",\"fetch\",\"frame\",\"iframe\",\"icon\",\"image\",\"img\",\"input\",\"link\",\"navigation\",\"object\",\"ping\",\"script\",\"track\",\"video\",\"xmlhttprequest\"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:[\"first-input\",\"navigation\",\"paint\",\"resource\"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[\".lr-ingest.io\",\".ingest.sentry.io\",\".clarity.ms\",\"analytics.google.com\"]},lr=[\"authorization\",\"x-forwarded-for\",\"authorization\",\"cookie\",\"set-cookie\",\"x-api-key\",\"x-real-ip\",\"remote-addr\",\"forwarded\",\"proxy-authorization\",\"x-csrf-token\",\"x-csrftoken\",\"x-xsrf-token\"],ur=[\"password\",\"secret\",\"passwd\",\"api_key\",\"apikey\",\"auth\",\"credentials\",\"mysql_pwd\",\"privatekey\",\"private_key\",\"token\"],cr=[\"/s/\",\"/e/\",\"/i/\"];function dr(e,t,i,r){if(J(e))return e;var s=(null==t?void 0:t[\"content-length\"])||function(e){return new Blob([e]).size}(e);return W(s)&&(s=parseInt(s)),s>i?nr+\" \".concat(r,\" body too large to record (\").concat(s,\" bytes)\"):e}function hr(e,t){if(J(e))return e;var i=e;return Zi(i,!1)||(i=nr+\" \"+t+\" body \"+or),y(ur,(e=>{var r,s;null!==(r=i)&&void 0!==r&&r.length&&-1!==(null===(s=i)||void 0===s?void 0:s.indexOf(e))&&(i=nr+\" \"+t+\" body \"+or+\" as might contain: \"+e)})),i}var _r=(e,t)=>{var i,r,s,n={payloadSizeLimitBytes:ar.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...ar.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...ar.payloadHostDenyList]},o=!1!==e.session_recording.recordHeaders&&t.recordHeaders,a=!1!==e.session_recording.recordBody&&t.recordBody,l=!1!==e.capture_performance&&t.recordPerformance,u=(i=n,s=Math.min(1e6,null!==(r=i.payloadSizeLimitBytes)&&void 0!==r?r:1e6),e=>(null!=e&&e.requestBody&&(e.requestBody=dr(e.requestBody,e.requestHeaders,s,\"Request\")),null!=e&&e.responseBody&&(e.responseBody=dr(e.responseBody,e.responseHeaders,s,\"Response\")),e)),c=t=>{return u(((e,t)=>{var i,r=yt(e.name),s=0===t.indexOf(\"http\")?null===(i=yt(t))||void 0===i?void 0:i.pathname:t;\"/\"===s&&(s=\"\");var n=null==r?void 0:r.pathname.replace(s||\"\",\"\");if(!(r&&n&&cr.some((e=>0===n.indexOf(e)))))return e})((r=(i=t).requestHeaders,J(r)||y(Object.keys(null!=r?r:{}),(e=>{lr.includes(e.toLowerCase())&&(r[e]=or)})),i),e.api_host));var i,r},d=H(e.session_recording.maskNetworkRequestFn);return d&&H(e.session_recording.maskCapturedNetworkRequestFn)&&ee.warn(\"Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored.\"),d&&(e.session_recording.maskCapturedNetworkRequestFn=t=>{var i=e.session_recording.maskNetworkRequestFn({url:t.name});return ne(ne({},t),{},{name:null==i?void 0:i.url})}),n.maskRequestFn=H(e.session_recording.maskCapturedNetworkRequestFn)?t=>{var i,r,s,n=c(t);return n&&null!==(i=null===(r=(s=e.session_recording).maskCapturedNetworkRequestFn)||void 0===r?void 0:r.call(s,n))&&void 0!==i?i:void 0}:e=>function(e){if(!z(e))return e.requestBody=hr(e.requestBody,\"Request\"),e.responseBody=hr(e.responseBody,\"Response\"),e}(c(e)),ne(ne(ne({},ar),n),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})};function pr(e,t,i,r,s){return t>i&&(ee.warn(\"min cannot be greater than max.\"),t=i),Y(e)?e>i?(r&&ee.warn(r+\" cannot be  greater than max: \"+i+\". Using max value instead.\"),i):e<t?(r&&ee.warn(r+\" cannot be less than min: \"+t+\". Using min value instead.\"),t):e:(r&&ee.warn(r+\" must be a number. using max or fallback. max: \"+i+\", fallback: \"+s),pr(s||i,t,i,r))}class vr{constructor(e){var t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};oe(this,\"bucketSize\",100),oe(this,\"refillRate\",10),oe(this,\"mutationBuckets\",{}),oe(this,\"loggedTracker\",{}),oe(this,\"refillBuckets\",(()=>{Object.keys(this.mutationBuckets).forEach((e=>{this.mutationBuckets[e]=this.mutationBuckets[e]+this.refillRate,this.mutationBuckets[e]>=this.bucketSize&&delete this.mutationBuckets[e]}))})),oe(this,\"getNodeOrRelevantParent\",(e=>{var t=this.rrweb.mirror.getNode(e);if(\"svg\"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var i=t.closest(\"svg\");if(i)return[this.rrweb.mirror.getId(i),i]}return[e,t]})),oe(this,\"numberOfChanges\",(e=>{var t,i,r,s,n,o,a,l;return(null!==(t=null===(i=e.removes)||void 0===i?void 0:i.length)&&void 0!==t?t:0)+(null!==(r=null===(s=e.attributes)||void 0===s?void 0:s.length)&&void 0!==r?r:0)+(null!==(n=null===(o=e.texts)||void 0===o?void 0:o.length)&&void 0!==n?n:0)+(null!==(a=null===(l=e.adds)||void 0===l?void 0:l.length)&&void 0!==a?a:0)})),oe(this,\"throttleMutations\",(e=>{if(3!==e.type||0!==e.data.source)return e;var t=e.data,i=this.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter((e=>{var t,i,r,[s,n]=this.getNodeOrRelevantParent(e.id);if(0===this.mutationBuckets[s])return!1;(this.mutationBuckets[s]=null!==(t=this.mutationBuckets[s])&&void 0!==t?t:this.bucketSize,this.mutationBuckets[s]=Math.max(this.mutationBuckets[s]-1,0),0===this.mutationBuckets[s])&&(this.loggedTracker[s]||(this.loggedTracker[s]=!0,null===(i=(r=this.options).onBlockedNode)||void 0===i||i.call(r,s,n)));return e})));var r=this.numberOfChanges(t);return 0!==r||i===r?e:void 0})),this.rrweb=e,this.options=r,this.refillRate=pr(null!==(t=this.options.refillRate)&&void 0!==t?t:this.refillRate,0,100,\"mutation throttling refill rate\"),this.bucketSize=pr(null!==(i=this.options.bucketSize)&&void 0!==i?i:this.bucketSize,0,100,\"mutation throttling bucket size\"),setInterval((()=>{this.refillBuckets()}),1e3)}}var gr=Uint8Array,fr=Uint16Array,mr=Uint32Array,br=new gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yr=new gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),wr=new gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sr=function(e,t){for(var i=new fr(31),r=0;r<31;++r)i[r]=t+=1<<e[r-1];var s=new mr(i[30]);for(r=1;r<30;++r)for(var n=i[r];n<i[r+1];++n)s[n]=n-i[r]<<5|r;return[i,s]},kr=Sr(br,2),Er=kr[0],xr=kr[1];Er[28]=258,xr[258]=28;for(var Ir=Sr(yr,0)[1],Cr=new fr(32768),Pr=0;Pr<32768;++Pr){var Fr=(43690&Pr)>>>1|(21845&Pr)<<1;Fr=(61680&(Fr=(52428&Fr)>>>2|(13107&Fr)<<2))>>>4|(3855&Fr)<<4,Cr[Pr]=((65280&Fr)>>>8|(255&Fr)<<8)>>>1}var Tr=function(e,t,i){for(var r=e.length,s=0,n=new fr(t);s<r;++s)++n[e[s]-1];var o,a=new fr(t);for(s=0;s<t;++s)a[s]=a[s-1]+n[s-1]<<1;if(i){o=new fr(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var u=s<<4|e[s],c=t-e[s],d=a[e[s]-1]++<<c,h=d|(1<<c)-1;d<=h;++d)o[Cr[d]>>>l]=u}else for(o=new fr(r),s=0;s<r;++s)o[s]=Cr[a[e[s]-1]++]>>>15-e[s];return o},Rr=new gr(288);for(Pr=0;Pr<144;++Pr)Rr[Pr]=8;for(Pr=144;Pr<256;++Pr)Rr[Pr]=9;for(Pr=256;Pr<280;++Pr)Rr[Pr]=7;for(Pr=280;Pr<288;++Pr)Rr[Pr]=8;var $r=new gr(32);for(Pr=0;Pr<32;++Pr)$r[Pr]=5;var Or=Tr(Rr,9,0),Mr=Tr($r,5,0),Ar=function(e){return(e/8>>0)+(7&e&&1)},Lr=function(e,t,i){(null==i||i>e.length)&&(i=e.length);var r=new(e instanceof fr?fr:e instanceof mr?mr:gr)(i-t);return r.set(e.subarray(t,i)),r},Dr=function(e,t,i){i<<=7&t;var r=t/8>>0;e[r]|=i,e[r+1]|=i>>>8},Nr=function(e,t,i){i<<=7&t;var r=t/8>>0;e[r]|=i,e[r+1]|=i>>>8,e[r+2]|=i>>>16},qr=function(e,t){for(var i=[],r=0;r<e.length;++r)e[r]&&i.push({s:r,f:e[r]});var s=i.length,n=i.slice();if(!s)return[new gr(0),0];if(1==s){var o=new gr(i[0].s+1);return o[i[0].s]=1,[o,1]}i.sort((function(e,t){return e.f-t.f})),i.push({s:-1,f:25001});var a=i[0],l=i[1],u=0,c=1,d=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=s-1;)a=i[i[u].f<i[d].f?u++:d++],l=i[u!=c&&i[u].f<i[d].f?u++:d++],i[c++]={s:-1,f:a.f+l.f,l:a,r:l};var h=n[0].s;for(r=1;r<s;++r)n[r].s>h&&(h=n[r].s);var _=new fr(h+1),p=Br(i[c-1],_,0);if(p>t){r=0;var v=0,g=p-t,f=1<<g;for(n.sort((function(e,t){return _[t.s]-_[e.s]||e.f-t.f}));r<s;++r){var m=n[r].s;if(!(_[m]>t))break;v+=f-(1<<p-_[m]),_[m]=t}for(v>>>=g;v>0;){var b=n[r].s;_[b]<t?v-=1<<t-_[b]++-1:++r}for(;r>=0&&v;--r){var y=n[r].s;_[y]==t&&(--_[y],++v)}p=t}return[new gr(_),p]},Br=function(e,t,i){return-1==e.s?Math.max(Br(e.l,t,i+1),Br(e.r,t,i+1)):t[e.s]=i},Hr=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new fr(++t),r=0,s=e[0],n=1,o=function(e){i[r++]=e},a=1;a<=t;++a)if(e[a]==s&&a!=t)++n;else{if(!s&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(s),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(s);n=1,s=e[a]}return[i.subarray(0,r),t]},Ur=function(e,t){for(var i=0,r=0;r<t.length;++r)i+=e[r]*t[r];return i},jr=function(e,t,i){var r=i.length,s=Ar(t+2);e[s]=255&r,e[s+1]=r>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var n=0;n<r;++n)e[s+n+4]=i[n];return 8*(s+4+r)},zr=function(e,t,i,r,s,n,o,a,l,u,c){Dr(t,c++,i),++s[256];for(var d=qr(s,15),h=d[0],_=d[1],p=qr(n,15),v=p[0],g=p[1],f=Hr(h),m=f[0],b=f[1],y=Hr(v),w=y[0],S=y[1],k=new fr(19),E=0;E<m.length;++E)k[31&m[E]]++;for(E=0;E<w.length;++E)k[31&w[E]]++;for(var x=qr(k,7),I=x[0],C=x[1],P=19;P>4&&!I[wr[P-1]];--P);var F,T,R,$,O=u+5<<3,M=Ur(s,Rr)+Ur(n,$r)+o,A=Ur(s,h)+Ur(n,v)+o+14+3*P+Ur(k,I)+(2*k[16]+3*k[17]+7*k[18]);if(O<=M&&O<=A)return jr(t,c,e.subarray(l,l+u));if(Dr(t,c,1+(A<M)),c+=2,A<M){F=Tr(h,_,0),T=h,R=Tr(v,g,0),$=v;var L=Tr(I,C,0);Dr(t,c,b-257),Dr(t,c+5,S-1),Dr(t,c+10,P-4),c+=14;for(E=0;E<P;++E)Dr(t,c+3*E,I[wr[E]]);c+=3*P;for(var D=[m,w],N=0;N<2;++N){var q=D[N];for(E=0;E<q.length;++E){var B=31&q[E];Dr(t,c,L[B]),c+=I[B],B>15&&(Dr(t,c,q[E]>>>5&127),c+=q[E]>>>12)}}}else F=Or,T=Rr,R=Mr,$=$r;for(E=0;E<a;++E)if(r[E]>255){B=r[E]>>>18&31;Nr(t,c,F[B+257]),c+=T[B+257],B>7&&(Dr(t,c,r[E]>>>23&31),c+=br[B]);var H=31&r[E];Nr(t,c,R[H]),c+=$[H],H>3&&(Nr(t,c,r[E]>>>5&8191),c+=yr[H])}else Nr(t,c,F[r[E]]),c+=T[r[E]];return Nr(t,c,F[256]),c+T[256]},Wr=new mr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vr=function(){for(var e=new mr(256),t=0;t<256;++t){for(var i=t,r=9;--r;)i=(1&i&&3988292384)^i>>>1;e[t]=i}return e}(),Gr=function(){var e=4294967295;return{p:function(t){for(var i=e,r=0;r<t.length;++r)i=Vr[255&i^t[r]]^i>>>8;e=i},d:function(){return 4294967295^e}}},Jr=function(e,t,i,r,s){return function(e,t,i,r,s,n){var o=e.length,a=new gr(r+o+5*(1+Math.floor(o/7e3))+s),l=a.subarray(r,a.length-s),u=0;if(!t||o<8)for(var c=0;c<=o;c+=65535){var d=c+65535;d<o?u=jr(l,u,e.subarray(c,d)):(l[c]=n,u=jr(l,u,e.subarray(c,o)))}else{for(var h=Wr[t-1],_=h>>>13,p=8191&h,v=(1<<i)-1,g=new fr(32768),f=new fr(v+1),m=Math.ceil(i/3),b=2*m,y=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<b)&v},w=new mr(25e3),S=new fr(288),k=new fr(32),E=0,x=0,I=(c=0,0),C=0,P=0;c<o;++c){var F=y(c),T=32767&c,R=f[F];if(g[T]=R,f[F]=T,C<=c){var $=o-c;if((E>7e3||I>24576)&&$>423){u=zr(e,l,0,w,S,k,x,I,P,c-P,u),I=E=x=0,P=c;for(var O=0;O<286;++O)S[O]=0;for(O=0;O<30;++O)k[O]=0}var M=2,A=0,L=p,D=T-R&32767;if($>2&&F==y(c-D))for(var N=Math.min(_,$)-1,q=Math.min(32767,c),B=Math.min(258,$);D<=q&&--L&&T!=R;){if(e[c+M]==e[c+M-D]){for(var H=0;H<B&&e[c+H]==e[c+H-D];++H);if(H>M){if(M=H,A=D,H>N)break;var U=Math.min(D,H-2),j=0;for(O=0;O<U;++O){var z=c-D+O+32768&32767,W=z-g[z]+32768&32767;W>j&&(j=W,R=z)}}}D+=(T=R)-(R=g[T])+32768&32767}if(A){w[I++]=268435456|xr[M]<<18|Ir[A];var V=31&xr[M],G=31&Ir[A];x+=br[V]+yr[G],++S[257+V],++k[G],C=c+M,++E}else w[I++]=e[c],++S[e[c]]}}u=zr(e,l,n,w,S,k,x,I,P,c-P,u)}return Lr(a,0,r+Ar(u)+s)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,i,r,!s)},Yr=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8},Kr=function(e,t){var i=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&Yr(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),i){e[3]=8;for(var r=0;r<=i.length;++r)e[r+10]=i.charCodeAt(r)}},Xr=function(e){return 10+(e.filename&&e.filename.length+1||0)};function Qr(e,t){void 0===t&&(t={});var i=Gr(),r=e.length;i.p(e);var s=Jr(e,t,Xr(t),8),n=s.length;return Kr(s,t),Yr(s,n-8,i.d()),Yr(s,n-4,r),s}function Zr(e,t){var i=e.length;if(\"undefined\"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new gr(e.length+(e.length>>>1)),s=0,n=function(e){r[s++]=e},o=0;o<i;++o){if(s+5>r.length){var a=new gr(s+8+(i-o<<1));a.set(r),r=a}var l=e.charCodeAt(o);l<128||t?n(l):l<2048?(n(192|l>>>6),n(128|63&l)):l>55295&&l<57344?(n(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),n(128|l>>>12&63),n(128|l>>>6&63),n(128|63&l)):(n(224|l>>>12),n(128|l>>>6&63),n(128|63&l))}return Lr(r,0,s)}function es(e,t){return function(e){for(var t=0,i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t)}(e)%100<pr(100*t,0,100)}var ts=\"[SessionRecording]\",is=te(ts),rs=3e5,ss=[Ti.MouseMove,Ti.MouseInteraction,Ti.Scroll,Ti.ViewportResize,Ti.Input,Ti.TouchMove,Ti.MediaInteraction,Ti.Drag],ns=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function os(e){return function(e,t){for(var i=\"\",r=0;r<e.length;){var s=e[r++];s<128||t?i+=String.fromCharCode(s):s<224?i+=String.fromCharCode((31&s)<<6|63&e[r++]):s<240?i+=String.fromCharCode((15&s)<<12|(63&e[r++])<<6|63&e[r++]):(s=((15&s)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,i+=String.fromCharCode(55296|s>>10,56320|1023&s))}return i}(Qr(Zr(JSON.stringify(e))),!0)}function as(e){return e.type===Fi.Custom&&\"sessionIdle\"===e.data.tag}function ls(e,t){return t.some((t=>\"regex\"===t.matching&&new RegExp(t.url).test(e)))}class us{get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get rrwebRecord(){var e,t;return null==_||null===(e=_.__PosthogExtensions__)||void 0===e||null===(t=e.rrweb)||void 0===t?void 0:t.record}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error(ts+\" must be started with a valid sessionManager.\");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var e,t;return\"trigger_pending\"===this.triggerStatus?6e4:null!==(e=null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.full_snapshot_interval_millis)&&void 0!==e?e:rs}get isSampled(){var e=this.instance.get_property(xe);return K(e)?e:null}get sessionDuration(){var e,t,i=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],{sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return i?i.timestamp-r:null}get isRecordingEnabled(){var e=!!this.instance.get_property(fe),i=!this.instance.config.disable_session_recording;return t&&e&&i}get isConsoleLogCaptureEnabled(){var e=!!this.instance.get_property(me),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}get canvasRecording(){var e,t,i,r,s,n,o=this.instance.config.session_recording.captureCanvas,a=this.instance.get_property(ye),l=null!==(e=null!==(t=null==o?void 0:o.recordCanvas)&&void 0!==t?t:null==a?void 0:a.enabled)&&void 0!==e&&e,u=null!==(i=null!==(r=null==o?void 0:o.canvasFps)&&void 0!==r?r:null==a?void 0:a.fps)&&void 0!==i?i:0,c=null!==(s=null!==(n=null==o?void 0:o.canvasQuality)&&void 0!==n?n:null==a?void 0:a.quality)&&void 0!==s?s:0;return{enabled:l,fps:pr(u,0,12,\"canvas recording fps\"),quality:pr(c,0,1,\"canvas recording quality\")}}get networkPayloadCapture(){var e,t,i=this.instance.get_property(be),r={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},s=(null==r?void 0:r.recordHeaders)||(null==i?void 0:i.recordHeaders),n=(null==r?void 0:r.recordBody)||(null==i?void 0:i.recordBody),o=U(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,a=!!(K(o)?o:null==i?void 0:i.capturePerformance);return s||n||a?{recordHeaders:s,recordBody:n,recordPerformance:a}:void 0}get sampleRate(){var e=this.instance.get_property(we);return Y(e)?e:null}get minimumDuration(){var e=this.instance.get_property(Se);return Y(e)?e:null}get status(){return this.receivedDecide?this.isRecordingEnabled?!1===this.isSampled?\"disabled\":this._urlBlocked?\"paused\":J(this._linkedFlag)||this._linkedFlagSeen?\"trigger_pending\"===this.triggerStatus?\"buffering\":K(this.isSampled)?this.isSampled?\"sampled\":\"disabled\":\"active\":\"buffering\":\"disabled\":\"buffering\"}get urlTriggerStatus(){var e;return 0===this._urlTriggers.length?\"trigger_disabled\":(null===(e=this.instance)||void 0===e?void 0:e.get_property(Ie))===this.sessionId?\"trigger_activated\":\"trigger_pending\"}get eventTriggerStatus(){var e;return 0===this._eventTriggers.length?\"trigger_disabled\":(null===(e=this.instance)||void 0===e?void 0:e.get_property(Ce))===this.sessionId?\"trigger_activated\":\"trigger_pending\"}get triggerStatus(){var e=\"trigger_activated\"===this.eventTriggerStatus||\"trigger_activated\"===this.urlTriggerStatus,t=\"trigger_pending\"===this.eventTriggerStatus||\"trigger_pending\"===this.urlTriggerStatus;return e?\"trigger_activated\":t?\"trigger_pending\":\"trigger_disabled\"}constructor(e){if(oe(this,\"queuedRRWebEvents\",[]),oe(this,\"isIdle\",!1),oe(this,\"_linkedFlagSeen\",!1),oe(this,\"_lastActivityTimestamp\",Date.now()),oe(this,\"_linkedFlag\",null),oe(this,\"_removePageViewCaptureHook\",void 0),oe(this,\"_onSessionIdListener\",void 0),oe(this,\"_persistDecideOnSessionListener\",void 0),oe(this,\"_samplingSessionListener\",void 0),oe(this,\"_urlTriggers\",[]),oe(this,\"_urlBlocklist\",[]),oe(this,\"_urlBlocked\",!1),oe(this,\"_eventTriggers\",[]),oe(this,\"_removeEventTriggerCaptureHook\",void 0),oe(this,\"_forceAllowLocalhostNetworkCapture\",!1),oe(this,\"_onBeforeUnload\",(()=>{this._flushBuffer()})),oe(this,\"_onOffline\",(()=>{this._tryAddCustomEvent(\"browser offline\",{})})),oe(this,\"_onOnline\",(()=>{this._tryAddCustomEvent(\"browser online\",{})})),oe(this,\"_onVisibilityChange\",(()=>{if(null!=a&&a.visibilityState){var e=\"window \"+a.visibilityState;this._tryAddCustomEvent(e,{})}})),this.instance=e,this._captureStarted=!1,this._endpoint=\"/s/\",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw is.error(\"started without valid sessionManager\"),new Error(ts+\" started without valid sessionManager. This is a bug.\");if(this.instance.config.__preview_experimental_cookieless_mode)throw new Error(ts+\" cannot be used with __preview_experimental_cookieless_mode.\");var{sessionId:t,windowId:i}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=t,this.windowId=i,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&is.warn(\"session_idle_threshold_ms (\".concat(this.sessionIdleThresholdMilliseconds,\") is greater than the session timeout (\").concat(this.sessionManager.sessionTimeoutMs,\"). Session will never be detected as idle\"))}startIfEnabledOrStop(e){this.isRecordingEnabled?(this._startCapture(e),R(t,\"beforeunload\",this._onBeforeUnload),R(t,\"offline\",this._onOffline),R(t,\"online\",this._onOnline),R(t,\"visibilitychange\",this._onVisibilityChange),this._setupSampling(),this._addEventTriggerListener(),J(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance.on(\"eventCaptured\",(e=>{try{if(\"$pageview\"===e.event){var t=null!=e&&e.properties.$current_url?this._maskUrl(null==e?void 0:e.properties.$current_url):\"\";if(!t)return;this._tryAddCustomEvent(\"$pageview\",{href:t})}}catch(e){is.error(\"Could not add $pageview to rrweb session\",e)}}))),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId(((e,t,i)=>{var r,s,n,o;i&&(this._tryAddCustomEvent(\"$session_id_change\",{sessionId:e,windowId:t,changeReason:i}),null===(r=this.instance)||void 0===r||null===(s=r.persistence)||void 0===s||s.unregister(Ce),null===(n=this.instance)||void 0===n||null===(o=n.persistence)||void 0===o||o.unregister(Ie))})))):this.stopRecording()}stopRecording(){var e,i,r,s;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,null==t||t.removeEventListener(\"beforeunload\",this._onBeforeUnload),null==t||t.removeEventListener(\"offline\",this._onOffline),null==t||t.removeEventListener(\"online\",this._onOnline),null==t||t.removeEventListener(\"visibilitychange\",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),null===(e=this._removePageViewCaptureHook)||void 0===e||e.call(this),this._removePageViewCaptureHook=void 0,null===(i=this._removeEventTriggerCaptureHook)||void 0===i||i.call(this),this._removeEventTriggerCaptureHook=void 0,null===(r=this._onSessionIdListener)||void 0===r||r.call(this),this._onSessionIdListener=void 0,null===(s=this._samplingSessionListener)||void 0===s||s.call(this),this._samplingSessionListener=void 0,is.info(\"stopped\"))}makeSamplingDecision(e){var t,i=this.sessionId!==e,r=this.sampleRate;if(Y(r)){var s=this.isSampled,n=i||!K(s),o=n?es(e,r):s;n&&(o?this._reportStarted(\"sampled\"):is.warn(\"Sample rate (\".concat(r,\") has determined that this sessionId (\").concat(e,\") will not be sent to the server.\")),this._tryAddCustomEvent(\"samplingDecisionMade\",{sampleRate:r,isSampled:o})),null===(t=this.instance.persistence)||void 0===t||t.register({[xe]:o})}else{var a;null===(a=this.instance.persistence)||void 0===a||a.register({[xe]:null})}}onRemoteConfig(e){var t,i,r,s,n,o;(this._tryAddCustomEvent(\"$remote_config_received\",e),this._persistRemoteConfig(e),this._linkedFlag=(null===(t=e.sessionRecording)||void 0===t?void 0:t.linkedFlag)||null,null!==(i=e.sessionRecording)&&void 0!==i&&i.endpoint)&&(this._endpoint=null===(o=e.sessionRecording)||void 0===o?void 0:o.endpoint);if(this._setupSampling(),!J(this._linkedFlag)&&!this._linkedFlagSeen){var a=W(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,l=W(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(((e,t)=>{var i=U(t)&&a in t,r=l?t[a]===l:i;r&&this._reportStarted(\"linked_flag_matched\",{linkedFlag:a,linkedVariant:l}),this._linkedFlagSeen=r}))}null!==(r=e.sessionRecording)&&void 0!==r&&r.urlTriggers&&(this._urlTriggers=e.sessionRecording.urlTriggers),null!==(s=e.sessionRecording)&&void 0!==s&&s.urlBlocklist&&(this._urlBlocklist=e.sessionRecording.urlBlocklist),null!==(n=e.sessionRecording)&&void 0!==n&&n.eventTriggers&&(this._eventTriggers=e.sessionRecording.eventTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){Y(this.sampleRate)&&J(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId((e=>{this.makeSamplingDecision(e)})))}_persistRemoteConfig(e){if(this.instance.persistence){var t,i=this.instance.persistence,r=()=>{var t,r,s,n,o,a,l,u,c=null===(t=e.sessionRecording)||void 0===t?void 0:t.sampleRate,d=J(c)?null:parseFloat(c),h=null===(r=e.sessionRecording)||void 0===r?void 0:r.minimumDurationMilliseconds;i.register({[fe]:!!e.sessionRecording,[me]:null===(s=e.sessionRecording)||void 0===s?void 0:s.consoleLogRecordingEnabled,[be]:ne({capturePerformance:e.capturePerformance},null===(n=e.sessionRecording)||void 0===n?void 0:n.networkPayloadCapture),[ye]:{enabled:null===(o=e.sessionRecording)||void 0===o?void 0:o.recordCanvas,fps:null===(a=e.sessionRecording)||void 0===a?void 0:a.canvasFps,quality:null===(l=e.sessionRecording)||void 0===l?void 0:l.canvasQuality},[we]:d,[Se]:z(h)?null:h,[ke]:null===(u=e.sessionRecording)||void 0===u?void 0:u.scriptConfig})};r(),null===(t=this._persistDecideOnSessionListener)||void 0===t||t.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(r)}}log(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"log\";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:\"rrweb/console@1\",payload:{level:i,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}_startCapture(e){if(!z(Object.assign)&&!z(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var t,i;if(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord)this._onScriptLoaded();else null===(t=_.__PosthogExtensions__)||void 0===t||null===(i=t.loadExternalDependency)||void 0===i||i.call(t,this.instance,this.scriptName,(e=>{if(e)return is.error(\"could not load recorder\",e);this._onScriptLoaded()}));is.info(\"starting\"),\"active\"===this.status&&this._reportStarted(e||\"recording_initialized\")}}get scriptName(){var e,t,i;return(null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t||null===(i=t.get_property(ke))||void 0===i?void 0:i.script)||\"recorder\"}isInteractiveEvent(e){var t;return 3===e.type&&-1!==ss.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}_updateWindowAndSessionIds(e){var t=this.isInteractiveEvent(e);t||this.isIdle||e.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent(\"sessionIdle\",{eventTimestamp:e.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());var i=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent(\"sessionNoLongerIdle\",{reason:\"user activity\",type:e.type}),i=!0)),!this.isIdle){var{windowId:r,sessionId:s}=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),n=this.sessionId!==s,o=this.windowId!==r;this.windowId=r,this.sessionId=s,n||o?(this.stopRecording(),this.startIfEnabledOrStop(\"session_id_changed\")):i&&this._scheduleFullSnapshot()}}_tryRRWebMethod(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):is.warn(\"could not emit queued rrweb event.\",t,e),!1}}_tryAddCustomEvent(e,t){return this._tryRRWebMethod(ns((()=>this.rrwebRecord.addCustomEvent(e,t))))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(ns((()=>this.rrwebRecord.takeFullSnapshot())))}_onScriptLoaded(){var e,t={blockClass:\"ph-no-capture\",blockSelector:void 0,ignoreClass:\"ph-ignore-input\",maskTextClass:\"ph-mask\",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording;for(var[r,s]of Object.entries(i||{}))r in t&&(\"maskInputOptions\"===r?t.maskInputOptions=ne({password:!0},s):t[r]=s);if(this.canvasRecording&&this.canvasRecording.enabled&&(t.recordCanvas=!0,t.sampling={canvas:this.canvasRecording.fps},t.dataURLOptions={type:\"image/webp\",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new vr(this.rrwebRecord,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(e,t)=>{var i=\"Too many mutations on node '\".concat(e,\"'. Rate limiting. This could be due to SVG animations or something similar\");is.info(i,{node:t}),this.log(ts+\" \"+i,\"warn\")}});var n=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(ne({emit:e=>{this.onRRwebEmit(e)},plugins:n},t)),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent(\"$session_options\",{sessionRecordingOptions:t,activePlugins:n.map((e=>null==e?void 0:e.name))}),this._tryAddCustomEvent(\"$posthog_config\",{config:this.instance.config})}else is.error(\"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.\")}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var e=this.fullSnapshotIntervalMillis;e&&(this._fullSnapshotTimer=setInterval((()=>{this._tryTakeFullSnapshot()}),e))}}_gatherRRWebPlugins(){var e,t,i,r,s=[],n=null===(e=_.__PosthogExtensions__)||void 0===e||null===(t=e.rrwebPlugins)||void 0===t?void 0:t.getRecordConsolePlugin;n&&this.isConsoleLogCaptureEnabled&&s.push(n());var o=null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.rrwebPlugins)||void 0===r?void 0:r.getRecordNetworkPlugin;this.networkPayloadCapture&&H(o)&&(!bt.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(o(_r(this.instance.config,this.networkPayloadCapture))):is.info(\"NetworkCapture not started because we are on localhost.\"));return s}onRRwebEmit(e){var t;if(this._processQueuedEvents(),e&&U(e)){if(e.type===Fi.Meta){var i=this._maskUrl(e.data.href);if(this._lastHref=i,!i)return;e.data.href=i}else this._pageViewFallBack();if(this._checkUrlTriggerConditions(),!this._urlBlocked||function(e){return e.type===Fi.Custom&&\"recording paused\"===e.data.tag}(e)){e.type===Fi.FullSnapshot&&this._scheduleFullSnapshot(),e.type===Fi.FullSnapshot&&\"trigger_pending\"===this.triggerStatus&&this.clearBuffer();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(r){var s=function(e){var t=e;if(t&&U(t)&&6===t.type&&U(t.data)&&\"rrweb/console@1\"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push(\"...[truncated]\"));for(var i=[],r=0;r<t.data.payload.payload.length;r++)t.data.payload.payload[r]&&t.data.payload.payload[r].length>2e3?i.push(t.data.payload.payload[r].slice(0,2e3)+\"...[truncated]\"):i.push(t.data.payload.payload[r]);return t.data.payload.payload=i,e}return e}(r);if(this._updateWindowAndSessionIds(s),!this.isIdle||as(s)){if(as(s)){var n=s.data.payload;if(n){var o=n.lastActivityTimestamp,a=n.threshold;s.timestamp=o+a}}var l=null===(t=this.instance.config.session_recording.compress_events)||void 0===t||t?function(e){if(Ci(e)<1024)return e;try{if(e.type===Fi.FullSnapshot)return ne(ne({},e),{},{data:os(e.data),cv:\"2024-10\"});if(e.type===Fi.IncrementalSnapshot&&e.data.source===Ti.Mutation)return ne(ne({},e),{},{cv:\"2024-10\",data:ne(ne({},e.data),{},{texts:os(e.data.texts),attributes:os(e.data.attributes),removes:os(e.data.removes),adds:os(e.data.adds)})});if(e.type===Fi.IncrementalSnapshot&&e.data.source===Ti.StyleSheetRule)return ne(ne({},e),{},{cv:\"2024-10\",data:ne(ne({},e.data),{},{adds:os(e.data.adds),removes:os(e.data.removes)})})}catch(e){is.error(\"could not compress event - will use uncompressed event\",e)}return e}(s):s,u={$snapshot_bytes:Ci(l),$snapshot_data:l,$session_id:this.sessionId,$window_id:this.windowId};\"disabled\"!==this.status?this._captureSnapshotBuffered(u):this.clearBuffer()}}}}}_pageViewFallBack(){if(!this.instance.config.capture_pageview&&t){var e=this._maskUrl(t.location.href);this._lastHref!==e&&(this._tryAddCustomEvent(\"$url_changed\",{href:e}),this._lastHref=e)}}_processQueuedEvents(){if(this.queuedRRWebEvents.length){var e=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],e.forEach((e=>{Date.now()-e.enqueuedAt<=2e3&&this._tryRRWebMethod(e)}))}}_maskUrl(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var i,r={url:e};return null===(i=r=t.maskNetworkRequestFn(r))||void 0===i?void 0:i.url}return e}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var e=this.minimumDuration,t=this.sessionDuration,i=Y(t)&&t>=0,r=Y(e)&&i&&t<e;if(\"buffering\"===this.status||\"paused\"===this.status||\"disabled\"===this.status||r)return this.flushBufferTimer=setTimeout((()=>{this._flushBuffer()}),2e3),this.buffer;this.buffer.data.length>0&&Pi(this.buffer).forEach((e=>{this._captureSnapshot({$snapshot_bytes:e.size,$snapshot_data:e.data,$session_id:e.sessionId,$window_id:e.windowId,$lib:\"web\",$lib_version:p.LIB_VERSION})}));return this.clearBuffer()}_captureSnapshotBuffered(e){var t,i=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);!this.isIdle&&(this.buffer.size+e.$snapshot_bytes+i>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout((()=>{this._flushBuffer()}),2e3))}_captureSnapshot(e){this.instance.capture(\"$snapshot\",e,{_url:this.instance.requestRouter.endpointFor(\"api\",this._endpoint),_noTruncate:!0,_batchKey:\"recordings\",skip_client_rate_limiting:!0})}_checkUrlTriggerConditions(){if(void 0!==t&&t.location.href){var e=t.location.href,i=this._urlBlocked,r=ls(e,this._urlBlocklist);r&&!i?this._pauseRecording():!r&&i&&this._resumeRecording(),ls(e,this._urlTriggers)&&this._activateTrigger(\"url\")}}_activateTrigger(e){var t,i;\"trigger_pending\"===this.triggerStatus&&(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register({[\"url\"===e?Ie:Ce]:this.sessionId}),this._flushBuffer(),this._reportStarted(e+\"_trigger_matched\"))}_pauseRecording(){this._urlBlocked||(this._urlBlocked=!0,clearInterval(this._fullSnapshotTimer),is.info(\"recording paused due to URL blocker\"),this._tryAddCustomEvent(\"recording paused\",{reason:\"url blocker\"}))}_resumeRecording(){this._urlBlocked&&(this._urlBlocked=!1,this._tryTakeFullSnapshot(),this._scheduleFullSnapshot(),this._tryAddCustomEvent(\"recording resumed\",{reason:\"left blocked url\"}),is.info(\"recording resumed\"))}_addEventTriggerListener(){0!==this._eventTriggers.length&&J(this._removeEventTriggerCaptureHook)&&(this._removeEventTriggerCaptureHook=this.instance.on(\"eventCaptured\",(e=>{try{this._eventTriggers.includes(e.event)&&this._activateTrigger(\"event\")}catch(e){is.error(\"Could not activate event trigger\",e)}})))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._tryTakeFullSnapshot(),this._reportStarted(\"linked_flag_overridden\")}overrideSampling(){var e;null===(e=this.instance.persistence)||void 0===e||e.register({[xe]:!0}),this._tryTakeFullSnapshot(),this._reportStarted(\"sampling_overridden\")}overrideTrigger(e){this._activateTrigger(e)}_reportStarted(e,t){this.instance.register_for_session({$session_recording_start_reason:e}),is.info(e.replace(\"_\",\" \"),t),$([\"recording_initialized\",\"session_id_changed\"],e)||this._tryAddCustomEvent(e,t)}}var cs=te(\"[RemoteConfig]\");class ds{constructor(e){this.instance=e}get remoteConfig(){var e,t;return null===(e=_._POSTHOG_REMOTE_CONFIG)||void 0===e||null===(t=e[this.instance.config.token])||void 0===t?void 0:t.config}_loadRemoteConfigJs(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.loadExternalDependency?null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"remote-config\",(()=>e(this.remoteConfig))):(cs.error(\"PostHog Extensions not found. Cannot load remote config.\"),e())}_loadRemoteConfigJSON(e){this.instance._send_request({method:\"GET\",url:this.instance.requestRouter.endpointFor(\"assets\",\"/array/\".concat(this.instance.config.token,\"/config\")),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return cs.info(\"Using preloaded remote config\",this.remoteConfig),void this.onRemoteConfig(this.remoteConfig);if(this.instance.config.advanced_disable_decide)return void cs.warn(\"Remote config is disabled. Falling back to local config.\");this._loadRemoteConfigJs((e=>{if(!e)return cs.info(\"No config found after loading remote JS config. Falling back to JSON.\"),void this._loadRemoteConfigJSON((e=>{this.onRemoteConfig(e)}));this.onRemoteConfig(e)}))}catch(e){cs.error(\"Error loading remote config\",e)}}onRemoteConfig(e){e?this.instance.config.__preview_remote_config?(this.instance._onRemoteConfig(e),!1!==e.hasFeatureFlags&&this.instance.featureFlags.ensureFlagsLoaded()):cs.info(\"__preview_remote_config is disabled. Logging config instead\",e):cs.error(\"Failed to fetch remote config from PostHog.\")}}var hs,_s=null!=t&&t.location?Et(t.location.hash,\"__posthog\")||Et(location.hash,\"state\"):null,ps=\"_postHogToolbarParams\",vs=te(\"[Toolbar]\");!function(e){e[e.UNINITIALIZED=0]=\"UNINITIALIZED\",e[e.LOADING=1]=\"LOADING\",e[e.LOADED=2]=\"LOADED\"}(hs||(hs={}));class gs{constructor(e){this.instance=e}setToolbarState(e){_.ph_toolbar_state=e}getToolbarState(){var e;return null!==(e=_.ph_toolbar_state)&&void 0!==e?e:hs.UNINITIALIZED}maybeLoadToolbar(){var e,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!t||!a)return!1;r=null!==(e=r)&&void 0!==e?e:t.location,n=null!==(i=n)&&void 0!==i?i:t.history;try{if(!s){try{t.localStorage.setItem(\"test\",\"test\"),t.localStorage.removeItem(\"test\")}catch(e){return!1}s=null==t?void 0:t.localStorage}var o,l=_s||Et(r.hash,\"__posthog\")||Et(r.hash,\"state\"),u=l?E((()=>JSON.parse(atob(decodeURIComponent(l)))))||E((()=>JSON.parse(decodeURIComponent(l)))):null;return u&&\"ph_authorize\"===u.action?((o=u).source=\"url\",o&&Object.keys(o).length>0&&(u.desiredHash?r.hash=u.desiredHash:n?n.replaceState(n.state,\"\",r.pathname+r.search):r.hash=\"\")):((o=JSON.parse(s.getItem(ps)||\"{}\")).source=\"localstorage\",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch(e){return!1}}_callLoadToolbar(e){var t=_.ph_load_toolbar||_.ph_load_editor;!J(t)&&H(t)?t(e,this.instance):vs.warn(\"No toolbar load function found\")}loadToolbar(e){var i=!(null==a||!a.getElementById(Ue));if(!t||i)return!1;var r=\"custom\"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,s=ne(ne({token:this.instance.config.token},e),{},{apiURL:this.instance.requestRouter.endpointFor(\"ui\")},r?{instrument:!1}:{});if(t.localStorage.setItem(ps,JSON.stringify(ne(ne({},s),{},{source:void 0}))),this.getToolbarState()===hs.LOADED)this._callLoadToolbar(s);else if(this.getToolbarState()===hs.UNINITIALIZED){var n,o;this.setToolbarState(hs.LOADING),null===(n=_.__PosthogExtensions__)||void 0===n||null===(o=n.loadExternalDependency)||void 0===o||o.call(n,this.instance,\"toolbar\",(e=>{if(e)return vs.error(\"[Toolbar] Failed to load\",e),void this.setToolbarState(hs.UNINITIALIZED);this.setToolbarState(hs.LOADED),this._callLoadToolbar(s)})),R(t,\"turbolinks:load\",(()=>{this.setToolbarState(hs.UNINITIALIZED),this.loadToolbar(s)}))}return!0}_loadEditor(e){return this.loadToolbar(e)}maybeLoadEditor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,i)}}var fs=3e3;class ms{constructor(e,t){oe(this,\"isPaused\",!0),oe(this,\"queue\",[]),this.flushTimeoutMs=pr((null==t?void 0:t.flush_interval_ms)||fs,250,5e3,\"flush interval\",fs),this.sendRequest=e}enqueue(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();var e=this.queue.length>0?this.formatQueue():{},t=Object.values(e),i=[...t.filter((e=>0===e.url.indexOf(\"/e\"))),...t.filter((e=>0!==e.url.indexOf(\"/e\")))];i.map((e=>{this.sendRequest(ne(ne({},e),{},{transport:\"sendBeacon\"}))}))}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){var e=this;this.isPaused||(this.flushTimeout=setTimeout((()=>{if(this.clearFlushTimeout(),this.queue.length>0){var t=this.formatQueue(),i=function(i){var r=t[i],s=(new Date).getTime();r.data&&B(r.data)&&y(r.data,(e=>{e.offset=Math.abs(e.timestamp-s),delete e.timestamp})),e.sendRequest(r)};for(var r in t)i(r)}}),this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){var e={};return y(this.queue,(t=>{var i,r=t,s=(r?r.batchKey:null)||r.url;z(e[s])&&(e[s]=ne(ne({},r),{},{data:[]})),null===(i=e[s].data)||void 0===i||i.push(r.data)})),this.queue=[],e}}var bs=function(e){var t,i,r,s,n=\"\";for(t=i=0,r=(e=(e+\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).length,s=0;s<r;s++){var o=e.charCodeAt(s),a=null;o<128?i++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),G(a)||(i>t&&(n+=e.substring(t,i)),n+=a,t=i=s+1)}return i>t&&(n+=e.substring(t,e.length)),n},ys=!!c||!!u,ws=\"text/plain\",Ss=(e,t)=>{var[i,r]=e.split(\"?\"),s=ne({},t);null==r||r.split(\"&\").forEach((e=>{var[t]=e.split(\"=\");delete s[t]}));var n=wt(s);return n=n?(r?r+\"&\":\"\")+n:r,\"\".concat(i,\"?\").concat(n)},ks=(e,t)=>JSON.stringify(e,((e,t)=>\"bigint\"==typeof t?t.toString():t),t),Es=t=>{var{data:i,compression:r}=t;if(i){if(r===e.GZipJS){var s=Qr(Zr(ks(i)),{mtime:0}),n=new Blob([s],{type:ws});return{contentType:ws,body:n,estimatedSize:n.size}}if(r===e.Base64){var o=function(e){var t,i,r,s,n,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",a=0,l=0,u=\"\",c=[];if(!e)return e;e=bs(e);do{t=(n=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,i=n>>12&63,r=n>>6&63,s=63&n,c[l++]=o.charAt(t)+o.charAt(i)+o.charAt(r)+o.charAt(s)}while(a<e.length);switch(u=c.join(\"\"),e.length%3){case 1:u=u.slice(0,-2)+\"==\";break;case 2:u=u.slice(0,-1)+\"=\"}return u}(ks(i)),a=(e=>\"data=\"+encodeURIComponent(\"string\"==typeof e?e:ks(e)))(o);return{contentType:\"application/x-www-form-urlencoded\",body:a,estimatedSize:new Blob([a]).size}}var l=ks(i);return{contentType:\"application/json\",body:l,estimatedSize:new Blob([l]).size}}},xs=[];u&&xs.push({transport:\"fetch\",method:e=>{var t,i,{contentType:r,body:s,estimatedSize:n}=null!==(t=Es(e))&&void 0!==t?t:{},o=new Headers;y(e.headers,(function(e,t){o.append(t,e)})),r&&o.append(\"Content-Type\",r);var a=e.url,l=null;if(d){var c=new d;l={signal:c.signal,timeout:setTimeout((()=>c.abort()),e.timeout)}}u(a,ne({method:(null==e?void 0:e.method)||\"GET\",headers:o,keepalive:\"POST\"===e.method&&(n||0)<52428.8,body:s,signal:null===(i=l)||void 0===i?void 0:i.signal},e.fetchOptions)).then((t=>t.text().then((i=>{var r,s={statusCode:t.status,text:i};if(200===t.status)try{s.json=JSON.parse(i)}catch(e){ee.error(e)}null===(r=e.callback)||void 0===r||r.call(e,s)})))).catch((t=>{var i;ee.error(t),null===(i=e.callback)||void 0===i||i.call(e,{statusCode:0,text:t})})).finally((()=>l?clearTimeout(l.timeout):null))}}),c&&xs.push({transport:\"XHR\",method:e=>{var t,i=new c;i.open(e.method||\"GET\",e.url,!0);var{contentType:r,body:s}=null!==(t=Es(e))&&void 0!==t?t:{};y(e.headers,(function(e,t){i.setRequestHeader(t,e)})),r&&i.setRequestHeader(\"Content-Type\",r),e.timeout&&(i.timeout=e.timeout),i.withCredentials=!0,i.onreadystatechange=()=>{if(4===i.readyState){var t,r={statusCode:i.status,text:i.responseText};if(200===i.status)try{r.json=JSON.parse(i.responseText)}catch(e){}null===(t=e.callback)||void 0===t||t.call(e,r)}},i.send(s)}}),null!=o&&o.sendBeacon&&xs.push({transport:\"sendBeacon\",method:e=>{var t=Ss(e.url,{beacon:\"1\"});try{var i,{contentType:r,body:s}=null!==(i=Es(e))&&void 0!==i?i:{},n=\"string\"==typeof s?new Blob([s],{type:r}):s;o.sendBeacon(t,n)}catch(e){}}});var Is=[\"retriesPerformedSoFar\"];class Cs{constructor(e){oe(this,\"isPolling\",!1),oe(this,\"pollIntervalMs\",3e3),oe(this,\"queue\",[]),this.instance=e,this.queue=[],this.areWeOnline=!0,!z(t)&&\"onLine\"in t.navigator&&(this.areWeOnline=t.navigator.onLine,R(t,\"online\",(()=>{this.areWeOnline=!0,this.flush()})),R(t,\"offline\",(()=>{this.areWeOnline=!1})))}retriableRequest(e){var{retriesPerformedSoFar:t}=e,i=ae(e,Is);Y(t)&&t>0&&(i.url=Ss(i.url,{retry_count:t})),this.instance._send_request(ne(ne({},i),{},{callback:e=>{var r;200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.enqueue(ne({retriesPerformedSoFar:t},i)):null===(r=i.callback)||void 0===r||r.call(i,e)}}))}enqueue(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var i=function(e){var t=3e3*Math.pow(2,e),i=t/2,r=Math.min(18e5,t),s=(Math.random()-.5)*(r-i);return Math.ceil(r+s)}(t),r=Date.now()+i;this.queue.push({retryAt:r,requestOptions:e});var s=\"Enqueued failed request for retry in \".concat(i);navigator.onLine||(s+=\" (Browser is offline)\"),ee.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout((()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()}),this.pollIntervalMs)}flush(){var e=Date.now(),t=[],i=this.queue.filter((i=>i.retryAt<e||(t.push(i),!1)));if(this.queue=t,i.length>0)for(var{requestOptions:r}of i)this.retriableRequest(r)}unload(){for(var{requestOptions:e}of(this.poller&&(clearTimeout(this.poller),this.poller=void 0),this.queue))try{this.instance._send_request(ne(ne({},e),{},{transport:\"sendBeacon\"}))}catch(e){ee.error(e)}this.queue=[]}}var Ps,Fs=te(\"[SessionId]\");class Ts{constructor(e,t,i){var r;if(oe(this,\"_sessionIdChangedHandlers\",[]),!e.persistence)throw new Error(\"SessionIdManager requires a PostHogPersistence instance\");if(e.config.__preview_experimental_cookieless_mode)throw new Error(\"SessionIdManager cannot be used with __preview_experimental_cookieless_mode\");this.config=e.config,this.persistence=e.persistence,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=t||st,this._windowIdGenerator=i||st;var s=this.config.persistence_name||this.config.token,n=this.config.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*pr(n,60,36e3,\"session_idle_timeout_seconds\",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.resetIdleTimer(),this._window_id_storage_key=\"ph_\"+s+\"_window_id\",this._primary_window_exists_storage_key=\"ph_\"+s+\"_primary_window_exists\",this._canUseSessionStorage()){var o=mt.parse(this._window_id_storage_key),a=mt.parse(this._primary_window_exists_storage_key);o&&!a?this._windowId=o:mt.remove(this._window_id_storage_key),mt.set(this._primary_window_exists_storage_key,!0)}if(null!==(r=this.config.bootstrap)&&void 0!==r&&r.sessionID)try{var l=(e=>{var t=e.replace(/-/g,\"\");if(32!==t.length)throw new Error(\"Not a valid UUID\");if(\"7\"!==t[12])throw new Error(\"Not a UUIDv7\");return parseInt(t.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,(new Date).getTime(),l)}catch(e){Fs.error(\"Invalid sessionID in bootstrap\",e)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return z(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter((t=>t!==e))}}_canUseSessionStorage(){return\"memory\"!==this.config.persistence&&!this.persistence.disabled&&mt.is_supported()}_setWindowId(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&mt.set(this._window_id_storage_key,e))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?mt.parse(this._window_id_storage_key):null}_setSessionId(e,t,i){e===this._sessionId&&t===this._sessionActivityTimestamp&&i===this._sessionStartTimestamp||(this._sessionStartTimestamp=i,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register({[Ee]:[t,e,i]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[Ee];return B(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){R(t,\"beforeunload\",(()=>{this._canUseSessionStorage()&&mt.remove(this._primary_window_exists_storage_key)}),{capture:!1})}checkAndGetSessionAndWindowId(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.config.__preview_experimental_cookieless_mode)throw new Error(\"checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode\");var i=t||(new Date).getTime(),[r,s,n]=this._getSessionId(),o=this._getWindowId(),a=Y(n)&&n>0&&Math.abs(i-n)>864e5,l=!1,u=!s,c=!e&&Math.abs(i-r)>this.sessionTimeoutMs;u||c||a?(s=this._sessionIdGenerator(),o=this._windowIdGenerator(),Fs.info(\"new session ID generated\",{sessionId:s,windowId:o,changeReason:{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}}),n=i,l=!0):o||(o=this._windowIdGenerator(),l=!0);var d=0===r||!e||a?i:r,h=0===n?(new Date).getTime():n;return this._setWindowId(o),this._setSessionId(s,d,h),e||this.resetIdleTimer(),l&&this._sessionIdChangedHandlers.forEach((e=>e(s,o,l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}:void 0))),{sessionId:s,windowId:o,sessionStartTimestamp:h,changeReason:l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:r}}resetIdleTimer(){clearTimeout(this._enforceIdleTimeout),this._enforceIdleTimeout=setTimeout((()=>{this.resetSessionId()}),1.1*this.sessionTimeoutMs)}}!function(e){e.US=\"us\",e.EU=\"eu\",e.CUSTOM=\"custom\"}(Ps||(Ps={}));var Rs=\"i.posthog.com\";class $s{constructor(e){oe(this,\"_regionCache\",{}),this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\\/$/,\"\");return\"https://app.posthog.com\"===e?\"https://us.i.posthog.com\":e}get uiHost(){var e,t=null===(e=this.instance.config.ui_host)||void 0===e?void 0:e.replace(/\\/$/,\"\");return t||(t=this.apiHost.replace(\".\".concat(Rs),\".posthog.com\")),\"https://app.posthog.com\"===t?\"https://us.posthog.com\":t}get region(){return this._regionCache[this.apiHost]||(/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Ps.US:/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Ps.EU:this._regionCache[this.apiHost]=Ps.CUSTOM),this._regionCache[this.apiHost]}endpointFor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";if(t&&(t=\"/\"===t[0]?t:\"/\".concat(t)),\"ui\"===e)return this.uiHost+t;if(this.region===Ps.CUSTOM)return this.apiHost+t;var i=Rs+t;switch(e){case\"assets\":return\"https://\".concat(this.region,\"-assets.\").concat(i);case\"api\":return\"https://\".concat(this.region,\".\").concat(i)}}}var Os=\"posthog-js\";function Ms(e){var{organization:t,projectId:i,prefix:r,severityAllowList:s=[\"error\"]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{var o,a,l,u,c;if(!(\"*\"===s||s.includes(n.level))||!e.__loaded)return n;n.tags||(n.tags={});var d=e.requestRouter.endpointFor(\"ui\",\"/project/\".concat(e.config.token,\"/person/\").concat(e.get_distinct_id()));n.tags[\"PostHog Person URL\"]=d,e.sessionRecordingStarted()&&(n.tags[\"PostHog Recording URL\"]=e.get_session_replay_url({withTimestamp:!0}));var h=(null===(o=n.exception)||void 0===o?void 0:o.values)||[];h.forEach((e=>{e.stacktrace&&(e.stacktrace.type=\"raw\",e.stacktrace.frames.forEach((e=>{e.platform=\"web:javascript\"})))}));var _={$exception_message:(null===(a=h[0])||void 0===a?void 0:a.value)||n.message,$exception_type:null===(l=h[0])||void 0===l?void 0:l.type,$exception_personURL:d,$exception_level:n.level,$exception_list:h,$sentry_event_id:n.event_id,$sentry_exception:n.exception,$sentry_exception_message:(null===(u=h[0])||void 0===u?void 0:u.value)||n.message,$sentry_exception_type:null===(c=h[0])||void 0===c?void 0:c.type,$sentry_tags:n.tags};return t&&i&&(_.$sentry_url=(r||\"https://sentry.io/organizations/\")+t+\"/issues/?project=\"+i+\"&query=\"+n.event_id),e.exceptions.sendExceptionEvent(_),n}}class As{constructor(e,t,i,r,s){this.name=Os,this.setupOnce=function(n){n(Ms(e,{organization:t,projectId:i,prefix:r,severityAllowList:s}))}}}var Ls=te(\"[SegmentIntegration]\");function Ds(e,t){var i=e.config.segment;if(!i)return t();!function(e,t){var i=e.config.segment;if(!i)return t();var r=i=>{var r=()=>i.anonymousId()||st();e.config.get_device_id=r,i.id()&&(e.register({distinct_id:i.id(),$device_id:r()}),e.persistence.set_property(Ae,\"identified\")),t()},s=i.user();\"then\"in s&&H(s.then)?s.then((e=>r(e))):r(s)}(e,(()=>{i.register((e=>{Promise&&Promise.resolve||Ls.warn(\"This browser does not have Promise support, and can not use the segment integration\");var t=(t,i)=>{var r;if(!i)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(Ls.info(\"No userId set, resetting PostHog\"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(Ls.info(\"UserId set, identifying with PostHog\"),e.identify(t.event.userId));var s=e._calculate_event_properties(i,null!==(r=t.event.properties)&&void 0!==r?r:{},new Date);return t.event.properties=Object.assign({},s,t.event.properties),t};return{name:\"PostHog JS\",type:\"enrichment\",version:\"1.0.0\",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>t(e,e.event.event),page:e=>t(e,\"$pageview\"),identify:e=>t(e,\"$identify\"),screen:e=>t(e,\"$screen\")}})(e)).then((()=>{t()}))}))}class Ns{constructor(e){this._instance=e}doPageView(e,i){var r,s=this._previousPageViewProperties(e,i);return this._currentPageview={pathname:null!==(r=null==t?void 0:t.location.pathname)&&void 0!==r?r:\"\",pageViewId:i,timestamp:e},this._instance.scrollManager.resetContext(),s}doPageLeave(e){var t;return this._previousPageViewProperties(e,null===(t=this._currentPageview)||void 0===t?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:null===(e=this._currentPageview)||void 0===e?void 0:e.pageViewId}}_previousPageViewProperties(e,t){var i=this._currentPageview;if(!i)return{$pageview_id:t};var r={$pageview_id:t,$prev_pageview_id:i.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:n,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:u,maxContentY:c}=s;if(!(z(n)||z(o)||z(a)||z(l)||z(u)||z(c))){n=Math.ceil(n),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c);var d=n<=1?1:pr(o/n,0,1),h=n<=1?1:pr(a/n,0,1),_=l<=1?1:pr(u/l,0,1),p=l<=1?1:pr(c/l,0,1);r=w(r,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:h,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:_,$prev_pageview_max_content:c,$prev_pageview_max_content_percentage:p})}}return i.pathname&&(r.$prev_pageview_pathname=i.pathname),i.timestamp&&(r.$prev_pageview_duration=(e.getTime()-i.timestamp.getTime())/1e3),r}}var qs,Bs,Hs,Us,js,zs,Ws,Vs,Gs={},Js=[],Ys=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ks=Array.isArray;function Xs(e,t){for(var i in t)e[i]=t[i];return e}function Qs(e){var t=e.parentNode;t&&t.removeChild(e)}function Zs(e,t,i,r,s){var n={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==s?++Hs:s,__i:-1,__u:0};return null==s&&null!=Bs.vnode&&Bs.vnode(n),n}function en(e){return e.children}function tn(e,t){this.props=e,this.context=t}function rn(e,t){if(null==t)return e.__?rn(e.__,e.__i+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return\"function\"==typeof e.type?rn(e):null}function sn(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return sn(e)}}function nn(e){(!e.__d&&(e.__d=!0)&&Us.push(e)&&!on.__r++||js!==Bs.debounceRendering)&&((js=Bs.debounceRendering)||zs)(on)}function on(){var e,t,i,r,s,n,o,a,l;for(Us.sort(Ws);e=Us.shift();)e.__d&&(t=Us.length,r=void 0,n=(s=(i=e).__v).__e,a=[],l=[],(o=i.__P)&&((r=Xs({},s)).__v=s.__v+1,Bs.vnode&&Bs.vnode(r),vn(o,r,s,i.__n,void 0!==o.ownerSVGElement,32&s.__u?[n]:null,a,null==n?rn(s):n,!!(32&s.__u),l),r.__.__k[r.__i]=r,gn(a,r,l),r.__e!=n&&sn(r)),Us.length>t&&Us.sort(Ws));on.__r=0}function an(e,t,i,r,s,n,o,a,l,u,c){var d,h,_,p,v,g=r&&r.__k||Js,f=t.length;for(i.__d=l,ln(i,t,g),l=i.__d,d=0;d<f;d++)null!=(_=i.__k[d])&&\"boolean\"!=typeof _&&\"function\"!=typeof _&&(h=-1===_.__i?Gs:g[_.__i]||Gs,_.__i=d,vn(e,_,h,s,n,o,a,l,u,c),p=_.__e,_.ref&&h.ref!=_.ref&&(h.ref&&mn(h.ref,null,_),c.push(_.ref,_.__c||p,_)),null==v&&null!=p&&(v=p),65536&_.__u||h.__k===_.__k?l=un(_,l,e):\"function\"==typeof _.type&&void 0!==_.__d?l=_.__d:p&&(l=p.nextSibling),_.__d=void 0,_.__u&=-196609);i.__d=l,i.__e=v}function ln(e,t,i){var r,s,n,o,a,l=t.length,u=i.length,c=u,d=0;for(e.__k=[],r=0;r<l;r++)null!=(s=e.__k[r]=null==(s=t[r])||\"boolean\"==typeof s||\"function\"==typeof s?null:\"string\"==typeof s||\"number\"==typeof s||\"bigint\"==typeof s||s.constructor==String?Zs(null,s,null,null,s):Ks(s)?Zs(en,{children:s},null,null,null):void 0===s.constructor&&s.__b>0?Zs(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)?(s.__=e,s.__b=e.__b+1,a=cn(s,i,o=r+d,c),s.__i=a,n=null,-1!==a&&(c--,(n=i[a])&&(n.__u|=131072)),null==n||null===n.__v?(-1==a&&d--,\"function\"!=typeof s.type&&(s.__u|=65536)):a!==o&&(a===o+1?d++:a>o?c>l-o?d+=a-o:d--:d=a<o&&a==o-1?a-o:0,a!==r+d&&(s.__u|=65536))):(n=i[r])&&null==n.key&&n.__e&&(n.__e==e.__d&&(e.__d=rn(n)),bn(n,n,!1),i[r]=null,c--);if(c)for(r=0;r<u;r++)null!=(n=i[r])&&0==(131072&n.__u)&&(n.__e==e.__d&&(e.__d=rn(n)),bn(n,n))}function un(e,t,i){var r,s;if(\"function\"==typeof e.type){for(r=e.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=e,t=un(r[s],t,i));return t}return e.__e!=t&&(i.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function cn(e,t,i,r){var s=e.key,n=e.type,o=i-1,a=i+1,l=t[i];if(null===l||l&&s==l.key&&n===l.type)return i;if(r>(null!=l&&0==(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&s==l.key&&n===l.type)return o;o--}if(a<t.length){if((l=t[a])&&0==(131072&l.__u)&&s==l.key&&n===l.type)return a;a++}}return-1}function dn(e,t,i){\"-\"===t[0]?e.setProperty(t,null==i?\"\":i):e[t]=null==i?\"\":\"number\"!=typeof i||Ys.test(t)?i:i+\"px\"}function hn(e,t,i,r,s){var n;e:if(\"style\"===t)if(\"string\"==typeof i)e.style.cssText=i;else{if(\"string\"==typeof r&&(e.style.cssText=r=\"\"),r)for(t in r)i&&t in i||dn(e.style,t,\"\");if(i)for(t in i)r&&i[t]===r[t]||dn(e.style,t,i[t])}else if(\"o\"===t[0]&&\"n\"===t[1])n=t!==(t=t.replace(/(PointerCapture)$|Capture$/,\"$1\")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+n]=i,i?r?i.u=r.u:(i.u=Date.now(),e.addEventListener(t,n?pn:_n,n)):e.removeEventListener(t,n?pn:_n,n);else{if(s)t=t.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==t&&\"height\"!==t&&\"href\"!==t&&\"list\"!==t&&\"form\"!==t&&\"tabIndex\"!==t&&\"download\"!==t&&\"rowSpan\"!==t&&\"colSpan\"!==t&&\"role\"!==t&&t in e)try{e[t]=null==i?\"\":i;break e}catch(e){}\"function\"==typeof i||(null==i||!1===i&&\"-\"!==t[4]?e.removeAttribute(t):e.setAttribute(t,i))}}function _n(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(Bs.event?Bs.event(e):e)}function pn(e){return this.l[e.type+!0](Bs.event?Bs.event(e):e)}function vn(e,t,i,r,s,n,o,a,l,u){var c,d,h,_,p,v,g,f,m,b,y,w,S,k,E,x=t.type;if(void 0!==t.constructor)return null;128&i.__u&&(l=!!(32&i.__u),n=[a=t.__e=i.__e]),(c=Bs.__b)&&c(t);e:if(\"function\"==typeof x)try{if(f=t.props,m=(c=x.contextType)&&r[c.__c],b=c?m?m.props.value:c.__:r,i.__c?g=(d=t.__c=i.__c).__=d.__E:(\"prototype\"in x&&x.prototype.render?t.__c=d=new x(f,b):(t.__c=d=new tn(f,b),d.constructor=x,d.render=yn),m&&m.sub(d),d.props=f,d.state||(d.state={}),d.context=b,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=x.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=Xs({},d.__s)),Xs(d.__s,x.getDerivedStateFromProps(f,d.__s))),_=d.props,p=d.state,d.__v=t,h)null==x.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==x.getDerivedStateFromProps&&f!==_&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(f,b),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(f,d.__s,b)||t.__v===i.__v)){for(t.__v!==i.__v&&(d.props=f,d.state=d.__s,d.__d=!1),t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),y=0;y<d._sb.length;y++)d.__h.push(d._sb[y]);d._sb=[],d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(f,d.__s,b),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(_,p,v)}))}if(d.context=b,d.props=f,d.__P=e,d.__e=!1,w=Bs.__r,S=0,\"prototype\"in x&&x.prototype.render){for(d.state=d.__s,d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[]}else do{d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++S<25);d.state=d.__s,null!=d.getChildContext&&(r=Xs(Xs({},r),d.getChildContext())),h||null==d.getSnapshotBeforeUpdate||(v=d.getSnapshotBeforeUpdate(_,p)),an(e,Ks(E=null!=c&&c.type===en&&null==c.key?c.props.children:c)?E:[E],t,i,r,s,n,o,a,l,u),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),g&&(d.__E=d.__=null)}catch(e){t.__v=null,l||null!=n?(t.__e=a,t.__u|=l?160:32,n[n.indexOf(a)]=null):(t.__e=i.__e,t.__k=i.__k),Bs.__e(e,t,i)}else null==n&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=fn(i.__e,t,i,r,s,n,o,l,u);(c=Bs.diffed)&&c(t)}function gn(e,t,i){t.__d=void 0;for(var r=0;r<i.length;r++)mn(i[r],i[++r],i[++r]);Bs.__c&&Bs.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Bs.__e(e,t.__v)}}))}function fn(e,t,i,r,s,n,o,a,l){var u,c,d,h,_,p,v,g=i.props,f=t.props,m=t.type;if(\"svg\"===m&&(s=!0),null!=n)for(u=0;u<n.length;u++)if((_=n[u])&&\"setAttribute\"in _==!!m&&(m?_.localName===m:3===_.nodeType)){e=_,n[u]=null;break}if(null==e){if(null===m)return document.createTextNode(f);e=s?document.createElementNS(\"http://www.w3.org/2000/svg\",m):document.createElement(m,f.is&&f),n=null,a=!1}if(null===m)g===f||a&&e.data===f||(e.data=f);else{if(n=n&&qs.call(e.childNodes),g=i.props||Gs,!a&&null!=n)for(g={},u=0;u<e.attributes.length;u++)g[(_=e.attributes[u]).name]=_.value;for(u in g)_=g[u],\"children\"==u||(\"dangerouslySetInnerHTML\"==u?d=_:\"key\"===u||u in f||hn(e,u,null,_,s));for(u in f)_=f[u],\"children\"==u?h=_:\"dangerouslySetInnerHTML\"==u?c=_:\"value\"==u?p=_:\"checked\"==u?v=_:\"key\"===u||a&&\"function\"!=typeof _||g[u]===_||hn(e,u,_,g[u],s);if(c)a||d&&(c.__html===d.__html||c.__html===e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(d&&(e.innerHTML=\"\"),an(e,Ks(h)?h:[h],t,i,r,s&&\"foreignObject\"!==m,n,o,n?n[0]:i.__k&&rn(i,0),a,l),null!=n)for(u=n.length;u--;)null!=n[u]&&Qs(n[u]);a||(u=\"value\",void 0!==p&&(p!==e[u]||\"progress\"===m&&!p||\"option\"===m&&p!==g[u])&&hn(e,u,p,g[u],!1),u=\"checked\",void 0!==v&&v!==e[u]&&hn(e,u,v,g[u],!1))}return e}function mn(e,t,i){try{\"function\"==typeof e?e(t):e.current=t}catch(e){Bs.__e(e,i)}}function bn(e,t,i){var r,s;if(Bs.unmount&&Bs.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||mn(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Bs.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&bn(r[s],t,i||\"function\"!=typeof e.type);i||null==e.__e||Qs(e.__e),e.__=e.__e=e.__d=void 0}function yn(e,t,i){return this.constructor(e,i)}qs=Js.slice,Bs={__e:function(e,t,i,r){for(var s,n,o;t=t.__;)if((s=t.__c)&&!s.__)try{if((n=s.constructor)&&null!=n.getDerivedStateFromError&&(s.setState(n.getDerivedStateFromError(e)),o=s.__d),null!=s.componentDidCatch&&(s.componentDidCatch(e,r||{}),o=s.__d),o)return s.__E=s}catch(t){e=t}throw e}},Hs=0,tn.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Xs({},this.state),\"function\"==typeof e&&(e=e(Xs({},i),this.props)),e&&Xs(i,e),null!=e&&this.__v&&(t&&this._sb.push(t),nn(this))},tn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),nn(this))},tn.prototype.render=en,Us=[],zs=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ws=function(e,t){return e.__v.__b-t.__v.__b},on.__r=0,Vs=0;var wn,Sn,kn;!function(e,t){var i={__c:t=\"__cC\"+Vs++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,r;return this.getChildContext||(i=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some((function(e){e.__e=!0,nn(e)}))},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};i.Provider.__=i.Consumer.contextType=i}({isPreviewMode:!1,previewPageIndex:0,handleCloseSurveyPopup:()=>{},isPopup:!0,onPreviewSubmit:()=>{}}),function(e){e.Popover=\"popover\",e.API=\"api\",e.Widget=\"widget\"}(wn||(wn={})),function(e){e.Open=\"open\",e.MultipleChoice=\"multiple_choice\",e.SingleChoice=\"single_choice\",e.Rating=\"rating\",e.Link=\"link\"}(Sn||(Sn={})),function(e){e.NextQuestion=\"next_question\",e.End=\"end\",e.ResponseBased=\"response_based\",e.SpecificQuestion=\"specific_question\"}(kn||(kn={}));class En{constructor(){oe(this,\"events\",{}),this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.events[e]=this.events[e].filter((e=>e!==t))}}emit(e,t){for(var i of this.events[e]||[])i(t);for(var r of this.events[\"*\"]||[])r(e,t)}}class xn{constructor(e){oe(this,\"_debugEventEmitter\",new En),oe(this,\"checkStep\",((e,t)=>this.checkStepEvent(e,t)&&this.checkStepUrl(e,t)&&this.checkStepElement(e,t))),oe(this,\"checkStepEvent\",((e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event))),this.instance=e,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var e;if(!z(null===(e=this.instance)||void 0===e?void 0:e._addCaptureHook)){var t;null===(t=this.instance)||void 0===t||t._addCaptureHook(((e,t)=>{this.on(e,t)}))}}register(e){var t,i;if(!z(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)&&(e.forEach((e=>{var t,i;null===(t=this.actionRegistry)||void 0===t||t.add(e),null===(i=e.steps)||void 0===i||i.forEach((e=>{var t;null===(t=this.actionEvents)||void 0===t||t.add((null==e?void 0:e.event)||\"\")}))})),null!==(i=this.instance)&&void 0!==i&&i.autocapture)){var r,s=new Set;e.forEach((e=>{var t;null===(t=e.steps)||void 0===t||t.forEach((e=>{null!=e&&e.selector&&s.add(null==e?void 0:e.selector)}))})),null===(r=this.instance)||void 0===r||r.autocapture.setElementSelectors(s)}}on(e,t){var i;null!=t&&0!=e.length&&(this.actionEvents.has(e)||this.actionEvents.has(null==t?void 0:t.event))&&this.actionRegistry&&(null===(i=this.actionRegistry)||void 0===i?void 0:i.size)>0&&this.actionRegistry.forEach((e=>{this.checkAction(t,e)&&this._debugEventEmitter.emit(\"actionCaptured\",e.name)}))}_addActionHook(e){this.onAction(\"actionCaptured\",(t=>e(t)))}checkAction(e,t){if(null==(null==t?void 0:t.steps))return!1;for(var i of t.steps)if(this.checkStep(e,i))return!0;return!1}onAction(e,t){return this._debugEventEmitter.on(e,t)}checkStepUrl(e,t){if(null!=t&&t.url){var i,r=null==e||null===(i=e.properties)||void 0===i?void 0:i.$current_url;if(!r||\"string\"!=typeof r)return!1;if(!xn.matchString(r,null==t?void 0:t.url,(null==t?void 0:t.url_matching)||\"contains\"))return!1}return!0}static matchString(e,i,r){switch(r){case\"regex\":return!!t&&A(e,i);case\"exact\":return i===e;case\"contains\":var s=xn.escapeStringRegexp(i).replace(/_/g,\".\").replace(/%/g,\".*\");return A(e,s);default:return!1}}static escapeStringRegexp(e){return e.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}checkStepElement(e,t){if((null!=t&&t.href||null!=t&&t.tag_name||null!=t&&t.text)&&!this.getElementsList(e).some((e=>!(null!=t&&t.href&&!xn.matchString(e.href||\"\",null==t?void 0:t.href,(null==t?void 0:t.href_matching)||\"exact\"))&&((null==t||!t.tag_name||e.tag_name===(null==t?void 0:t.tag_name))&&!(null!=t&&t.text&&!xn.matchString(e.text||\"\",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||\"exact\")&&!xn.matchString(e.$el_text||\"\",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||\"exact\"))))))return!1;if(null!=t&&t.selector){var i,r=null==e||null===(i=e.properties)||void 0===i?void 0:i.$element_selectors;if(!r)return!1;if(!r.includes(null==t?void 0:t.selector))return!1}return!0}getElementsList(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}class In{constructor(e){this.instance=e,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(e){var t;z(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)||(this.setupEventBasedSurveys(e),this.setupActionBasedSurveys(e))}setupActionBasedSurveys(e){var t=e.filter((e=>{var t,i,r,s;return(null===(t=e.conditions)||void 0===t?void 0:t.actions)&&(null===(i=e.conditions)||void 0===i||null===(r=i.actions)||void 0===r||null===(s=r.values)||void 0===s?void 0:s.length)>0}));if(0!==t.length){if(null==this.actionMatcher){this.actionMatcher=new xn(this.instance),this.actionMatcher.init();this.actionMatcher._addActionHook((e=>{this.onAction(e)}))}t.forEach((e=>{var t,i,r,s,n,o,a,l,u,c;e.conditions&&null!==(t=e.conditions)&&void 0!==t&&t.actions&&null!==(i=e.conditions)&&void 0!==i&&null!==(r=i.actions)&&void 0!==r&&r.values&&(null===(s=e.conditions)||void 0===s||null===(n=s.actions)||void 0===n||null===(o=n.values)||void 0===o?void 0:o.length)>0&&(null===(a=this.actionMatcher)||void 0===a||a.register(e.conditions.actions.values),null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u||null===(c=u.values)||void 0===c||c.forEach((t=>{if(t&&t.name){var i=this.actionToSurveys.get(t.name);i&&i.push(e.id),this.actionToSurveys.set(t.name,i||[e.id])}})))}))}}setupEventBasedSurveys(e){var t;if(0!==e.filter((e=>{var t,i,r,s;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(r=i.events)||void 0===r||null===(s=r.values)||void 0===s?void 0:s.length)>0})).length){null===(t=this.instance)||void 0===t||t._addCaptureHook(((e,t)=>{this.onEvent(e,t)})),e.forEach((e=>{var t,i,r;null===(t=e.conditions)||void 0===t||null===(i=t.events)||void 0===i||null===(r=i.values)||void 0===r||r.forEach((t=>{if(t&&t.name){var i=this.eventToSurveys.get(t.name);i&&i.push(e.id),this.eventToSurveys.set(t.name,i||[e.id])}}))}))}}onEvent(e,t){var i,r,s=(null===(i=this.instance)||void 0===i||null===(r=i.persistence)||void 0===r?void 0:r.props[Oe])||[];if(In.SURVEY_SHOWN_EVENT_NAME==e&&t&&s.length>0){var n,o=null==t||null===(n=t.properties)||void 0===n?void 0:n.$survey_id;if(o){var a=s.indexOf(o);a>=0&&(s.splice(a,1),this._updateActivatedSurveys(s))}}else this.eventToSurveys.has(e)&&this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(e)||[]))}onAction(e){var t,i,r=(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i?void 0:i.props[Oe])||[];this.actionToSurveys.has(e)&&this._updateActivatedSurveys(r.concat(this.actionToSurveys.get(e)||[]))}_updateActivatedSurveys(e){var t,i;null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register({[Oe]:[...new Set(e)]})}getSurveys(){var e,t,i=null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t?void 0:t.props[Oe];return i||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}}oe(In,\"SURVEY_SHOWN_EVENT_NAME\",\"survey shown\");var Cn=te(\"[Surveys]\"),Pn={icontains:(e,t)=>e.some((e=>t.toLowerCase().includes(e.toLowerCase()))),not_icontains:(e,t)=>e.every((e=>!t.toLowerCase().includes(e.toLowerCase()))),regex:(e,t)=>e.some((e=>A(t,e))),not_regex:(e,t)=>e.every((e=>!A(t,e))),exact:(e,t)=>e.some((e=>t===e)),is_not:(e,t)=>e.every((e=>t!==e))};function Fn(e,t,i){var r,s=e.questions[t],n=t+1;if(null===(r=s.branching)||void 0===r||!r.type)return t===e.questions.length-1?kn.End:n;if(s.branching.type===kn.End)return kn.End;if(s.branching.type===kn.SpecificQuestion){if(Number.isInteger(s.branching.index))return s.branching.index}else if(s.branching.type===kn.ResponseBased){if(s.type===Sn.SingleChoice){var o,a,l=s.choices.indexOf(\"\".concat(i));if(null!==(o=s.branching)&&void 0!==o&&null!==(a=o.responseValues)&&void 0!==a&&a.hasOwnProperty(l)){var u=s.branching.responseValues[l];return Number.isInteger(u)?u:u===kn.End?kn.End:n}}else if(s.type===Sn.Rating){var c,d;if(\"number\"!=typeof i||!Number.isInteger(i))throw new Error(\"The response type must be an integer\");var h=function(e,t){if(3===t){if(e<1||e>3)throw new Error(\"The response must be in range 1-3\");return 1===e?\"negative\":2===e?\"neutral\":\"positive\"}if(5===t){if(e<1||e>5)throw new Error(\"The response must be in range 1-5\");return e<=2?\"negative\":3===e?\"neutral\":\"positive\"}if(7===t){if(e<1||e>7)throw new Error(\"The response must be in range 1-7\");return e<=3?\"negative\":4===e?\"neutral\":\"positive\"}if(10===t){if(e<0||e>10)throw new Error(\"The response must be in range 0-10\");return e<=6?\"detractors\":e<=8?\"passives\":\"promoters\"}throw new Error(\"The scale must be one of: 3, 5, 7, 10\")}(i,s.scale);if(null!==(c=s.branching)&&void 0!==c&&null!==(d=c.responseValues)&&void 0!==d&&d.hasOwnProperty(h)){var _=s.branching.responseValues[h];return Number.isInteger(_)?_:_===kn.End?kn.End:n}}return n}return Cn.warn(\"Falling back to next question index due to unexpected branching type\"),n}function Tn(e){return null!=e?e:\"icontains\"}class Rn{constructor(e){oe(this,\"getNextSurveyStep\",Fn),this.instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){this._decideServerResponse=!!e.surveys,Cn.info(\"decideServerResponse set to \".concat(this._decideServerResponse)),this.loadIfEnabled()}reset(){localStorage.removeItem(\"lastSeenSurveyDate\");var e=(()=>{for(var e=[],t=0;t<localStorage.length;t++){var i=localStorage.key(t);null!=i&&i.startsWith(\"seenSurvey_\")&&e.push(i)}return e})();e.forEach((e=>localStorage.removeItem(e)))}loadIfEnabled(){if(!this._surveyManager)if(this.instance.config.disable_surveys)Cn.info(\"Disabled. Not loading surveys.\");else{var e=null==_?void 0:_.__PosthogExtensions__;if(e){var t=e.generateSurveys;if(this._decideServerResponse)if(null==this._surveyEventReceiver&&(this._surveyEventReceiver=new In(this.instance)),t)this._surveyManager=t(this.instance);else{var i=e.loadExternalDependency;i?i(this.instance,\"surveys\",(t=>{var i;t?Cn.error(\"Could not load surveys script\",t):this._surveyManager=null===(i=e.generateSurveys)||void 0===i?void 0:i.call(e,this.instance)})):Cn.error(\"PostHog loadExternalDependency extension not found. Cannot load remote config.\")}else Cn.warn(\"Decide not loaded yet. Not loading surveys.\")}else Cn.error(\"PostHog Extensions not found.\")}}getSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.instance.config.disable_surveys)return Cn.info(\"Disabled. Not loading surveys.\"),e([]);null==this._surveyEventReceiver&&(this._surveyEventReceiver=new In(this.instance));var i=this.instance.get_property($e);if(i&&!t)return e(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/surveys/?token=\".concat(this.instance.config.token)),method:\"GET\",callback:t=>{var i,r=t.statusCode;if(200!==r||!t.json)return Cn.error(\"Surveys API could not be loaded, status: \".concat(r)),e([]);var s,n=t.json.surveys||[],o=n.filter((e=>{var t,i,r,s,n,o,a,l,u,c,d,h;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(r=i.events)||void 0===r?void 0:r.values)&&(null===(s=e.conditions)||void 0===s||null===(n=s.events)||void 0===n||null===(o=n.values)||void 0===o?void 0:o.length)>0||(null===(a=e.conditions)||void 0===a?void 0:a.actions)&&(null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u?void 0:u.values)&&(null===(c=e.conditions)||void 0===c||null===(d=c.actions)||void 0===d||null===(h=d.values)||void 0===h?void 0:h.length)>0}));o.length>0&&(null===(s=this._surveyEventReceiver)||void 0===s||s.register(o));return null===(i=this.instance.persistence)||void 0===i||i.register({[$e]:n}),e(n)}})}isSurveyFeatureFlagEnabled(e){return!e||this.instance.featureFlags.isFeatureEnabled(e)}getActiveMatchingSurveys(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys((i=>{var r,s=i.filter((e=>!(!e.start_date||e.end_date))).filter((e=>{var i;if(!e.conditions)return!0;var r=function(e){var i,r,s;if(null===(i=e.conditions)||void 0===i||!i.url)return!0;var n=null==t||null===(r=t.location)||void 0===r?void 0:r.href;if(!n)return!1;var o=[e.conditions.url];return Pn[Tn(null===(s=e.conditions)||void 0===s?void 0:s.urlMatchType)](o,n)}(e),s=null===(i=e.conditions)||void 0===i||!i.selector||(null==a?void 0:a.querySelector(e.conditions.selector)),n=function(e){var t,i;if(null===(t=e.conditions)||void 0===t||!t.deviceTypes)return!0;if(!h)return!1;var r=Ei.deviceType(h);return Pn[Tn(null===(i=e.conditions)||void 0===i?void 0:i.deviceTypesMatchType)](e.conditions.deviceTypes,r)}(e);return r&&s&&n})),n=null===(r=this._surveyEventReceiver)||void 0===r?void 0:r.getSurveys(),o=s.filter((e=>{var t,i,r,s,o,a,l,u,c;if(!(e.linked_flag_key||e.targeting_flag_key||e.internal_targeting_flag_key||null!==(t=e.feature_flag_keys)&&void 0!==t&&t.length))return!0;var d=this.isSurveyFeatureFlagEnabled(e.linked_flag_key),h=this.isSurveyFeatureFlagEnabled(e.targeting_flag_key),_=(null!==(i=null===(r=e.conditions)||void 0===r||null===(s=r.events)||void 0===s||null===(o=s.values)||void 0===o?void 0:o.length)&&void 0!==i?i:0)>0,p=(null!==(a=null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u||null===(c=u.values)||void 0===c?void 0:c.length)&&void 0!==a?a:0)>0,v=!_&&!p||(null==n?void 0:n.includes(e.id)),g=this._canActivateRepeatedly(e)||this.isSurveyFeatureFlagEnabled(e.internal_targeting_flag_key),f=this.checkFlags(e);return d&&h&&g&&v&&f}));return e(o)}),i)}checkFlags(e){var t;return null===(t=e.feature_flag_keys)||void 0===t||!t.length||e.feature_flag_keys.every((e=>{var{key:t,value:i}=e;return!t||!i||this.instance.featureFlags.isFeatureEnabled(i)}))}_canActivateRepeatedly(e){var t;return J(null===(t=_.__PosthogExtensions__)||void 0===t?void 0:t.canActivateRepeatedly)?(Cn.warn(\"init was not called\"),!1):_.__PosthogExtensions__.canActivateRepeatedly(e)}canRenderSurvey(e){J(this._surveyManager)?Cn.warn(\"init was not called\"):this.getSurveys((t=>{var i=t.filter((t=>t.id===e))[0];this._surveyManager.canRenderSurvey(i)}))}renderSurvey(e,t){J(this._surveyManager)?Cn.warn(\"init was not called\"):this.getSurveys((i=>{var r=i.filter((t=>t.id===e))[0];this._surveyManager.renderSurvey(r,null==a?void 0:a.querySelector(t))}))}}var $n=te(\"[RateLimiter]\");class On{constructor(e){var t,i;oe(this,\"serverLimits\",{}),oe(this,\"lastEventRateLimited\",!1),oe(this,\"checkForLimiting\",(e=>{var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach((e=>{$n.info(\"\".concat(e||\"events\",\" is quota limited.\")),this.serverLimits[e]=(new Date).getTime()+6e4}))}catch(e){return void $n.warn('could not rate limit - continuing. Error: \"'.concat(null==e?void 0:e.message,'\"'),{text:t})}})),this.instance=e,this.captureEventsPerSecond=(null===(t=e.config.rate_limiting)||void 0===t?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null===(i=e.config.rate_limiting)||void 0===i?void 0:i.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var e,t,i,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=(new Date).getTime(),n=null!==(e=null===(t=this.instance.persistence)||void 0===t?void 0:t.get_property(De))&&void 0!==e?e:{tokens:this.captureEventsBurstLimit,last:s};n.tokens+=(s-n.last)/1e3*this.captureEventsPerSecond,n.last=s,n.tokens>this.captureEventsBurstLimit&&(n.tokens=this.captureEventsBurstLimit);var o=n.tokens<1;return o||r||(n.tokens=Math.max(0,n.tokens-1)),!o||this.lastEventRateLimited||r||this.instance.capture(\"$$client_ingestion_warning\",{$$client_ingestion_warning_message:\"posthog-js client rate limited. Config is set to \".concat(this.captureEventsPerSecond,\" events per second and \").concat(this.captureEventsBurstLimit,\" events burst limit.\")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null===(i=this.instance.persistence)||void 0===i||i.set_property(De,n),{isRateLimited:o,remainingTokens:n.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||\"events\"]||!1;return!1!==t&&(new Date).getTime()<t}}var Mn=e=>{var t=null==e?void 0:e.config;return ne({initialPathName:(null==l?void 0:l.pathname)||\"\",referringDomain:Ei.referringDomain()},Ei.campaignParams({customTrackedParams:null==t?void 0:t.custom_campaign_params,maskPersonalDataProperties:null==t?void 0:t.mask_personal_data_properties,customPersonalDataProperties:null==t?void 0:t.custom_personal_data_properties}))};class An{constructor(e,t,i,r){oe(this,\"_onSessionIdCallback\",(e=>{var t=this._getStoredProps();if(!t||t.sessionId!==e){var i={sessionId:e,props:this._sessionSourceParamGenerator(this.instance)};this._persistence.register({[Le]:i})}})),this.instance=e,this._sessionIdManager=t,this._persistence=i,this._sessionSourceParamGenerator=r||Mn,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStoredProps(){return this._persistence.props[Le]}getSessionProps(){var e,t=null===(e=this._getStoredProps())||void 0===e?void 0:e.props;return t?{$client_session_initial_referring_host:t.referringDomain,$client_session_initial_pathname:t.initialPathName,$client_session_initial_utm_source:t.utm_source,$client_session_initial_utm_campaign:t.utm_campaign,$client_session_initial_utm_medium:t.utm_medium,$client_session_initial_utm_content:t.utm_content,$client_session_initial_utm_term:t.utm_term}:{}}}var Ln=[\"ahrefsbot\",\"ahrefssiteaudit\",\"applebot\",\"baiduspider\",\"better uptime bot\",\"bingbot\",\"bingpreview\",\"bot.htm\",\"bot.php\",\"crawler\",\"deepscan\",\"duckduckbot\",\"facebookexternal\",\"facebookcatalog\",\"http://yandex.com/bots\",\"hubspot\",\"ia_archiver\",\"linkedinbot\",\"mj12bot\",\"msnbot\",\"nessus\",\"petalbot\",\"pinterest\",\"prerender\",\"rogerbot\",\"screaming frog\",\"semrushbot\",\"sitebulb\",\"slurp\",\"turnitin\",\"twitterbot\",\"vercelbot\",\"yahoo! slurp\",\"yandexbot\",\"gptbot\",\"oai-searchbot\",\"chatgpt-user\",\"headlesschrome\",\"cypress\",\"Google-HotelAdsVerifier\",\"adsbot-google\",\"apis-google\",\"duplexweb-google\",\"feedfetcher-google\",\"google favicon\",\"google web preview\",\"google-read-aloud\",\"googlebot\",\"googleweblight\",\"mediapartners-google\",\"storebot-google\",\"Bytespider;\"],Dn=function(e,t){if(!e)return!1;var i=e.toLowerCase();return Ln.concat(t||[]).some((e=>{var t=e.toLowerCase();return-1!==i.indexOf(t)}))},Nn=function(e,t){if(!e)return!1;var i=e.userAgent;if(i&&Dn(i,t))return!0;try{var r=null==e?void 0:e.userAgentData;if(null!=r&&r.brands&&r.brands.some((e=>Dn(null==e?void 0:e.brand,t))))return!0}catch(e){}return!!e.webdriver};class qn{constructor(){this.clicks=[]}isRageClick(e,t,i){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&i-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:i}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:i}];return!1}}var Bn=te(\"[Dead Clicks]\"),Hn=()=>!0,Un=e=>{var t,i=!(null===(t=e.instance.persistence)||void 0===t||!t.get_property(ve)),r=e.instance.config.capture_dead_clicks;return K(r)?r:i};class jn{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(e,t,i){this.instance=e,this.isEnabled=t,this.onCapture=i,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[ve]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.loadScript((()=>{this.start()}))}loadScript(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.initDeadClicksAutocapture&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"dead-clicks-autocapture\",(t=>{t?Bn.error(\"failed to load script\",t):e()}))}start(){var e;if(a){if(!this._lazyLoadedDeadClicksAutocapture&&null!==(e=_.__PosthogExtensions__)&&void 0!==e&&e.initDeadClicksAutocapture){var t=U(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this._lazyLoadedDeadClicksAutocapture=_.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this._lazyLoadedDeadClicksAutocapture.start(a),Bn.info(\"starting...\")}}else Bn.error(\"`document` not found. Cannot start.\")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,Bn.info(\"stopping...\"))}}var zn=te(\"[Heatmaps]\");function Wn(e){return U(e)&&\"clientX\"in e&&\"clientY\"in e&&Y(e.clientX)&&Y(e.clientY)}class Vn{constructor(e){var i;oe(this,\"rageclicks\",new qn),oe(this,\"_enabledServerSide\",!1),oe(this,\"_initialized\",!1),oe(this,\"_flushInterval\",null),this.instance=e,this._enabledServerSide=!(null===(i=this.instance.persistence)||void 0===i||!i.props[he]),R(t,\"beforeunload\",this.flush)}get flushIntervalMilliseconds(){var e=5e3;return U(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return z(this.instance.config.capture_heatmaps)?z(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;zn.info(\"starting...\"),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var e,t;clearInterval(null!==(e=this._flushInterval)&&void 0!==e?e:void 0),null===(t=this.deadClicksCapture)||void 0===t||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[he]:t}),this._enabledServerSide=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.buffer;return this.buffer=void 0,e}_onDeadClick(e){this._onClick(e.originalEvent,\"deadclick\")}_setupListeners(){t&&a&&(R(a,\"click\",(e=>this._onClick(e||(null==t?void 0:t.event))),{capture:!0}),R(a,\"mousemove\",(e=>this._onMouseMove(e||(null==t?void 0:t.event))),{capture:!0}),this.deadClicksCapture=new jn(this.instance,Hn,this._onDeadClick.bind(this)),this.deadClicksCapture.startIfEnabled(),this._initialized=!0)}_getProperties(e,i){var r=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),n=this.instance.scrollManager.scrollElement(),o=function(e,i,r){for(var s=e;s&&$i(s)&&!Oi(s,\"body\");){if(s===r)return!1;if($(i,null==t?void 0:t.getComputedStyle(s).position))return!0;s=ji(s)}return!1}(Hi(e),[\"fixed\",\"sticky\"],n);return{x:e.clientX+(o?0:s),y:e.clientY+(o?0:r),target_fixed:o,type:i}}_onClick(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"click\";if(!Ri(e.target)&&Wn(e)){var r=this._getProperties(e,i);null!==(t=this.rageclicks)&&void 0!==t&&t.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._capture(ne(ne({},r),{},{type:\"rageclick\"})),this._capture(r)}}_onMouseMove(e){!Ri(e.target)&&Wn(e)&&(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout((()=>{this._capture(this._getProperties(e,\"mousemove\"))}),500))}_capture(e){if(t){var i=t.location.href;this.buffer=this.buffer||{},this.buffer[i]||(this.buffer[i]=[]),this.buffer[i].push(e)}}flush(){this.buffer&&!j(this.buffer)&&this.instance.capture(\"$$heatmap\",{$heatmap_data:this.getAndClearBuffer()})}}class Gn{constructor(e){oe(this,\"_updateScrollData\",(()=>{var e,t,i,r;this.context||(this.context={});var s=this.scrollElement(),n=this.scrollY(),o=s?Math.max(0,s.scrollHeight-s.clientHeight):0,a=n+((null==s?void 0:s.clientHeight)||0),l=(null==s?void 0:s.scrollHeight)||0;this.context.lastScrollY=Math.ceil(n),this.context.maxScrollY=Math.max(n,null!==(e=this.context.maxScrollY)&&void 0!==e?e:0),this.context.maxScrollHeight=Math.max(o,null!==(t=this.context.maxScrollHeight)&&void 0!==t?t:0),this.context.lastContentY=a,this.context.maxContentY=Math.max(a,null!==(i=this.context.maxContentY)&&void 0!==i?i:0),this.context.maxContentHeight=Math.max(l,null!==(r=this.context.maxContentHeight)&&void 0!==r?r:0)})),this.instance=e}getContext(){return this.context}resetContext(){var e=this.context;return setTimeout(this._updateScrollData,0),e}startMeasuringScrollPosition(){R(t,\"scroll\",this._updateScrollData,{capture:!0}),R(t,\"scrollend\",this._updateScrollData,{capture:!0}),R(t,\"resize\",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return null==t?void 0:t.document.documentElement;var e=B(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(var i of e){var r=null==t?void 0:t.document.querySelector(i);if(r)return r}}scrollY(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return t&&(t.scrollY||t.pageYOffset||t.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return t&&(t.scrollX||t.pageXOffset||t.document.documentElement.scrollLeft)||0}}var Jn=te(\"[AutoCapture]\");function Yn(e,t){return t.length>e?t.slice(0,e)+\"...\":t}function Kn(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do{t=t.previousSibling}while(t&&!$i(t));return t}function Xn(e,t,i,r){var s=e.tagName.toLowerCase(),n={tag_name:s};Ui.indexOf(s)>-1&&!i&&(\"a\"===s.toLowerCase()||\"button\"===s.toLowerCase()?n.$el_text=Yn(1024,er(e)):n.$el_text=Yn(1024,Bi(e)));var o=Ni(e);o.length>0&&(n.classes=o.filter((function(e){return\"\"!==e}))),y(e.attributes,(function(i){var s;if((!Vi(e)||-1!==[\"name\",\"id\",\"class\",\"aria-label\"].indexOf(i.name))&&((null==r||!r.includes(i.name))&&!t&&Zi(i.value)&&(s=i.name,!W(s)||\"_ngcontent\"!==s.substring(0,10)&&\"_nghost\"!==s.substring(0,7)))){var o=i.value;\"class\"===i.name&&(o=Li(o).join(\" \")),n[\"attr__\"+i.name]=Yn(1024,o)}}));for(var a=1,l=1,u=e;u=Kn(u);)a++,u.tagName===e.tagName&&l++;return n.nth_child=a,n.nth_of_type=l,n}function Qn(e,i){for(var r,s,{e:n,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:u}=i,c=[e],d=e;d.parentNode&&!Oi(d,\"body\");)Ai(d.parentNode)?(c.push(d.parentNode.host),d=d.parentNode.host):(c.push(d.parentNode),d=d.parentNode);var h,_=[],p={},v=!1,g=!1;if(y(c,(e=>{var t=Wi(e);\"a\"===e.tagName.toLowerCase()&&(v=e.getAttribute(\"href\"),v=t&&v&&Zi(v)&&v),$(Ni(e),\"ph-no-capture\")&&(g=!0),_.push(Xn(e,o,a,l));var i=function(e){if(!Wi(e))return{};var t={};return y(e.attributes,(function(e){if(e.name&&0===e.name.indexOf(\"data-ph-capture-attribute\")){var i=e.name.replace(\"data-ph-capture-attribute-\",\"\"),r=e.value;i&&r&&Zi(r)&&(t[i]=r)}})),t}(e);w(p,i)})),g)return{props:{},explicitNoCapture:g};if(a||(\"a\"===e.tagName.toLowerCase()||\"button\"===e.tagName.toLowerCase()?_[0].$el_text=er(e):_[0].$el_text=Bi(e)),v){var f,m;_[0].attr__href=v;var b=null===(f=yt(v))||void 0===f?void 0:f.host,S=null==t||null===(m=t.location)||void 0===m?void 0:m.host;b&&S&&b!==S&&(h=v)}return{props:w({$event_type:n.type,$ce_version:1},u?{}:{$elements:_},{$elements_chain:ir(_)},null!==(r=_[0])&&void 0!==r&&r.$el_text?{$el_text:null===(s=_[0])||void 0===s?void 0:s.$el_text}:{},h&&\"click\"===n.type?{$external_click_url:h}:{},p)}}class Zn{constructor(e){oe(this,\"_initialized\",!1),oe(this,\"_isDisabledServerSide\",null),oe(this,\"rageclicks\",new qn),oe(this,\"_elementsChainAsString\",!1),this.instance=e,this._elementSelectors=null}get config(){var e,t,i=U(this.instance.config.autocapture)?this.instance.config.autocapture:{};return i.url_allowlist=null===(e=i.url_allowlist)||void 0===e?void 0:e.map((e=>new RegExp(e))),i.url_ignorelist=null===(t=i.url_ignorelist)||void 0===t?void 0:t.map((e=>new RegExp(e))),i}_addDomEventHandlers(){if(this.isBrowserSupported()){if(t&&a){var e=e=>{e=e||(null==t?void 0:t.event);try{this._captureEvent(e)}catch(e){Jn.error(\"Failed to capture event\",e)}};if(R(a,\"submit\",e,{capture:!0}),R(a,\"change\",e,{capture:!0}),R(a,\"click\",e,{capture:!0}),this.config.capture_copied_text){var i=e=>{e=e||(null==t?void 0:t.event),this._captureEvent(e,v)};R(a,\"copy\",i,{capture:!0}),R(a,\"cut\",i,{capture:!0})}}}else Jn.info(\"Disabling Automatic Event Collection because this browser is not supported\")}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[de]:!!e.autocapture_opt_out}),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this._elementSelectors=e}getElementSelectors(e){var t,i=[];return null===(t=this._elementSelectors)||void 0===t||t.forEach((t=>{var r=null==a?void 0:a.querySelectorAll(t);null==r||r.forEach((r=>{e===r&&i.push(t)}))})),i}get isEnabled(){var e,t,i=null===(e=this.instance.persistence)||void 0===e?void 0:e.props[de],r=this._isDisabledServerSide;if(G(r)&&!K(i)&&!this.instance.config.advanced_disable_decide)return!1;var s=null!==(t=this._isDisabledServerSide)&&void 0!==t?t:!!i;return!!this.instance.config.autocapture&&!s}_captureEvent(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"$autocapture\";if(this.isEnabled){var r,s=Hi(e);if(Mi(s)&&(s=s.parentNode||null),\"$autocapture\"===i&&\"click\"===e.type&&e instanceof MouseEvent)this.instance.config.rageclick&&null!==(r=this.rageclicks)&&void 0!==r&&r.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,\"$rageclick\");var n=i===v;if(s&&zi(s,e,this.config,n,n?[\"copy\",\"cut\"]:void 0)){var{props:o,explicitNoCapture:a}=Qn(s,{e:e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(a)return!1;var l=this.getElementSelectors(s);if(l&&l.length>0&&(o.$element_selectors=l),i===v){var u,c=qi(null==t||null===(u=t.getSelection())||void 0===u?void 0:u.toString()),d=e.type||\"clipboard\";if(!c)return!1;o.$selected_content=c,o.$copy_type=d}return this.instance.capture(i,o),!0}}}isBrowserSupported(){return H(null==a?void 0:a.querySelectorAll)}}var eo=te(\"[TracingHeaders]\");class to{constructor(e){oe(this,\"_restoreXHRPatch\",void 0),oe(this,\"_restoreFetchPatch\",void 0),oe(this,\"_startCapturing\",(()=>{var e,t,i,r;z(this._restoreXHRPatch)&&(null===(e=_.__PosthogExtensions__)||void 0===e||null===(t=e.tracingHeadersPatchFns)||void 0===t||t._patchXHR(this.instance.sessionManager));z(this._restoreFetchPatch)&&(null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.tracingHeadersPatchFns)||void 0===r||r._patchFetch(this.instance.sessionManager))})),this.instance=e}_loadScript(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.tracingHeadersPatchFns&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"tracing-headers\",(t=>{if(t)return eo.error(\"failed to load script\",t);e()}))}startIfEnabledOrStop(){var e,t;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):(null===(e=this._restoreXHRPatch)||void 0===e||e.call(this),null===(t=this._restoreFetchPatch)||void 0===t||t.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}var io;!function(e){e[e.PENDING=-1]=\"PENDING\",e[e.DENIED=0]=\"DENIED\",e[e.GRANTED=1]=\"GRANTED\"}(io||(io={}));class ro{constructor(e){this.instance=e}get config(){return this.instance.config}get consent(){return this.getDnt()?io.DENIED:this.storedConsent}isOptedOut(){return this.consent===io.DENIED||this.consent===io.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.storage.set(this.storageKey,e?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){var{token:e,opt_out_capturing_cookie_prefix:t}=this.instance.config;return(t||\"__ph_opt_in_out_\")+e}get storedConsent(){var e=this.storage.get(this.storageKey);return\"1\"===e?io.GRANTED:\"0\"===e?io.DENIED:io.PENDING}get storage(){if(!this._storage){var e=this.config.opt_out_capturing_persistence_type;this._storage=\"localStorage\"===e?ht:ct;var t=\"localStorage\"===e?ct:ht;t.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(\"1\"===t.get(this.storageKey)),t.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!T([null==o?void 0:o.doNotTrack,null==o?void 0:o.msDoNotTrack,_.doNotTrack],(e=>$([!0,1,\"1\",\"yes\"],e)))}}var so=te(\"[ExceptionAutocapture]\");class no{constructor(e){var i;oe(this,\"originalOnUnhandledRejectionHandler\",void 0),oe(this,\"startCapturing\",(()=>{var e,i,r,s;if(t&&this.isEnabled&&!this.hasHandlers&&!this.isCapturing){var n=null===(e=_.__PosthogExtensions__)||void 0===e||null===(i=e.errorWrappingFunctions)||void 0===i?void 0:i.wrapOnError,o=null===(r=_.__PosthogExtensions__)||void 0===r||null===(s=r.errorWrappingFunctions)||void 0===s?void 0:s.wrapUnhandledRejection;if(n&&o)try{this.unwrapOnError=n(this.captureException.bind(this)),this.unwrapUnhandledRejection=o(this.captureException.bind(this))}catch(e){so.error(\"failed to start\",e),this.stopCapturing()}else so.error(\"failed to load error wrapping functions - cannot start\")}})),this.instance=e,this.remoteEnabled=!(null===(i=this.instance.persistence)||void 0===i||!i.props[_e]),this.startIfEnabled()}get isEnabled(){var e;return null!==(e=this.remoteEnabled)&&void 0!==e&&e}get isCapturing(){var e;return!(null==t||null===(e=t.onerror)||void 0===e||!e.__POSTHOG_INSTRUMENTED__)}get hasHandlers(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}startIfEnabled(){this.isEnabled&&!this.isCapturing&&(so.info(\"enabled, starting...\"),this.loadScript(this.startCapturing))}loadScript(e){var t,i;this.hasHandlers&&e(),null===(t=_.__PosthogExtensions__)||void 0===t||null===(i=t.loadExternalDependency)||void 0===i||i.call(t,this.instance,\"exception-autocapture\",(t=>{if(t)return so.error(\"failed to load script\",t);e()}))}stopCapturing(){var e,t;null===(e=this.unwrapOnError)||void 0===e||e.call(this),null===(t=this.unwrapUnhandledRejection)||void 0===t||t.call(this)}onRemoteConfig(e){var t=e.autocaptureExceptions;this.remoteEnabled=!!t||!1,this.instance.persistence&&this.instance.persistence.register({[_e]:this.remoteEnabled}),this.startIfEnabled()}captureException(e){var t=this.instance.requestRouter.endpointFor(\"ui\");e.$exception_personURL=\"\".concat(t,\"/project/\").concat(this.instance.config.token,\"/person/\").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(e)}}var oo=te(\"[Web Vitals]\"),ao=9e5;class lo{constructor(e){var t;oe(this,\"_enabledServerSide\",!1),oe(this,\"_initialized\",!1),oe(this,\"buffer\",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),oe(this,\"_flushToCapture\",(()=>{clearTimeout(this._delayedFlushTimer),0!==this.buffer.metrics.length&&(this.instance.capture(\"$web_vitals\",this.buffer.metrics.reduce(((e,t)=>ne(ne({},e),{},{[\"$web_vitals_\".concat(t.name,\"_event\")]:ne({},t),[\"$web_vitals_\".concat(t.name,\"_value\")]:t.value})),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})})),oe(this,\"_addToBuffer\",(e=>{var t,i=null===(t=this.instance.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0);if(z(i))oo.error(\"Could not read session ID. Dropping metrics!\");else{this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this._currentURL();if(!z(r))if(J(null==e?void 0:e.name)||J(null==e?void 0:e.value))oo.error(\"Invalid metric received\",e);else if(this._maxAllowedValue&&e.value>=this._maxAllowedValue)oo.error(\"Ignoring metric with value >= \"+this._maxAllowedValue,e);else this.buffer.url!==r&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),z(this.buffer.url)&&(this.buffer.url=r),this.buffer.firstMetricTimestamp=z(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.buffer.metrics.push(ne(ne({},e),{},{$current_url:r,$session_id:i.sessionId,$window_id:i.windowId,timestamp:Date.now()})),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()}})),oe(this,\"_startCapturing\",(()=>{var e,t,i,r,s=_.__PosthogExtensions__;z(s)||z(s.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:i,onINP:r}=s.postHogWebVitalsCallbacks),e&&t&&i&&r?(this.allowedMetrics.indexOf(\"LCP\")>-1&&e(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"CLS\")>-1&&t(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"FCP\")>-1&&i(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"INP\")>-1&&r(this._addToBuffer.bind(this)),this._initialized=!0):oo.error(\"web vitals callbacks not loaded - not starting\")})),this.instance=e,this._enabledServerSide=!(null===(t=this.instance.persistence)||void 0===t||!t.props[pe]),this.startIfEnabled()}get allowedMetrics(){var e,t,i=U(this.instance.config.capture_performance)?null===(e=this.instance.config.capture_performance)||void 0===e?void 0:e.web_vitals_allowed_metrics:void 0;return z(i)?(null===(t=this.instance.persistence)||void 0===t?void 0:t.props[ge])||[\"CLS\",\"FCP\",\"INP\",\"LCP\"]:i}get flushToCaptureTimeoutMs(){return(U(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){var e=U(this.instance.config.capture_performance)&&Y(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:ao;return 0<e&&e<=6e4?ao:e}get isEnabled(){var e=U(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return K(e)?e:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(oo.info(\"enabled, starting...\"),this.loadScript(this._startCapturing))}onRemoteConfig(e){var t=U(e.capturePerformance)&&!!e.capturePerformance.web_vitals,i=U(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[pe]:t}),this.instance.persistence.register({[ge]:i})),this._enabledServerSide=t,this.startIfEnabled()}loadScript(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.postHogWebVitalsCallbacks&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"web-vitals\",(t=>{t?oo.error(\"failed to load script\",t):e()}))}_currentURL(){var e=t?t.location.href:void 0;return e||oo.error(\"Could not determine current URL\"),e}}var uo={icontains:(e,i)=>!!t&&i.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,i)=>!!t&&-1===i.href.toLowerCase().indexOf(e.toLowerCase()),regex:(e,i)=>!!t&&A(i.href,e),not_regex:(e,i)=>!!t&&!A(i.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class co{constructor(e){var t=this;oe(this,\"getWebExperimentsAndEvaluateDisplayLogic\",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.getWebExperiments((e=>{co.logInfo(\"retrieved web experiments from the server\"),t._flagToExperiments=new Map,e.forEach((e=>{if(e.feature_flag_key){var i;if(t._flagToExperiments)co.logInfo(\"setting flag key \",e.feature_flag_key,\" to web experiment \",e),null===(i=t._flagToExperiments)||void 0===i||i.set(e.feature_flag_key,e);var r=t.instance.getFeatureFlag(e.feature_flag_key);W(r)&&e.variants[r]&&t.applyTransforms(e.name,r,e.variants[r].transforms)}else if(e.variants)for(var s in e.variants){var n=e.variants[s];co.matchesTestVariant(n)&&t.applyTransforms(e.name,s,n.transforms)}}))}),e)})),this.instance=e,this.instance.onFeatureFlags((e=>{this.onFeatureFlags(e)}))}onFeatureFlags(e){if(this._is_bot())co.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\");else if(!this.instance.config.disable_web_experiments){if(J(this._flagToExperiments))return this._flagToExperiments=new Map,this.loadIfEnabled(),void this.previewWebExperiment();co.logInfo(\"applying feature flags\",e),e.forEach((e=>{var t;if(this._flagToExperiments&&null!==(t=this._flagToExperiments)&&void 0!==t&&t.has(e)){var i,r=this.instance.getFeatureFlag(e),s=null===(i=this._flagToExperiments)||void 0===i?void 0:i.get(e);r&&null!=s&&s.variants[r]&&this.applyTransforms(s.name,r,s.variants[r].transforms)}}))}}previewWebExperiment(){var e=co.getWindowLocation();if(null!=e&&e.search){var t=St(null==e?void 0:e.search,\"__experiment_id\"),i=St(null==e?void 0:e.search,\"__experiment_variant\");t&&i&&(co.logInfo(\"previewing web experiments \".concat(t,\" && \").concat(i)),this.getWebExperiments((e=>{this.showPreviewWebExperiment(parseInt(t),i,e)}),!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,i){if(this.instance.config.disable_web_experiments&&!i)return e([]);var r=this.instance.get_property(\"$web_experiments\");if(r&&!t)return e(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/web_experiments/?token=\".concat(this.instance.config.token)),method:\"GET\",callback:t=>{if(200!==t.statusCode||!t.json)return e([]);var i=t.json.experiments||[];return e(i)}})}showPreviewWebExperiment(e,t,i){var r=i.filter((t=>t.id===e));r&&r.length>0&&(co.logInfo(\"Previewing web experiment [\".concat(r[0].name,\"] with variant [\").concat(t,\"]\")),this.applyTransforms(r[0].name,t,r[0].variants[t].transforms))}static matchesTestVariant(e){return!J(e.conditions)&&(co.matchUrlConditions(e)&&co.matchUTMConditions(e))}static matchUrlConditions(e){var t;if(J(e.conditions)||J(null===(t=e.conditions)||void 0===t?void 0:t.url))return!0;var i,r,s,n=co.getWindowLocation();return!!n&&(null===(i=e.conditions)||void 0===i||!i.url||uo[null!==(r=null===(s=e.conditions)||void 0===s?void 0:s.urlMatchType)&&void 0!==r?r:\"icontains\"](e.conditions.url,n))}static getWindowLocation(){return null==t?void 0:t.location}static matchUTMConditions(e){var t;if(J(e.conditions)||J(null===(t=e.conditions)||void 0===t?void 0:t.utm))return!0;var i=Ei.campaignParams();if(i.utm_source){var r,s,n,o,a,l,u,c,d,h,_,p,v,g,f,m,b=null===(r=e.conditions)||void 0===r||null===(s=r.utm)||void 0===s||!s.utm_campaign||(null===(n=e.conditions)||void 0===n||null===(o=n.utm)||void 0===o?void 0:o.utm_campaign)==i.utm_campaign,y=null===(a=e.conditions)||void 0===a||null===(l=a.utm)||void 0===l||!l.utm_source||(null===(u=e.conditions)||void 0===u||null===(c=u.utm)||void 0===c?void 0:c.utm_source)==i.utm_source,w=null===(d=e.conditions)||void 0===d||null===(h=d.utm)||void 0===h||!h.utm_medium||(null===(_=e.conditions)||void 0===_||null===(p=_.utm)||void 0===p?void 0:p.utm_medium)==i.utm_medium,S=null===(v=e.conditions)||void 0===v||null===(g=v.utm)||void 0===g||!g.utm_term||(null===(f=e.conditions)||void 0===f||null===(m=f.utm)||void 0===m?void 0:m.utm_term)==i.utm_term;return b&&w&&S&&y}return!1}static logInfo(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];ee.info(\"[WebExperiments] \".concat(e),i)}applyTransforms(e,t,i){this._is_bot()?co.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\"):\"control\"!==t?i.forEach((i=>{if(i.selector){var r;co.logInfo(\"applying transform of variant \".concat(t,\" for experiment \").concat(e,\" \"),i);var s=null===(r=document)||void 0===r?void 0:r.querySelectorAll(i.selector);null==s||s.forEach((e=>{var t=e;i.attributes&&i.attributes.forEach((e=>{switch(e.name){case\"text\":t.innerText=e.value;break;case\"html\":t.innerHTML=e.value;break;case\"cssClass\":t.className=e.value;break;default:t.setAttribute(e.name,e.value)}})),i.text&&(t.innerText=i.text),i.html&&(t.parentElement?t.parentElement.innerHTML=i.html:t.innerHTML=i.html),i.css&&t.setAttribute(\"style\",i.css)}))}})):co.logInfo(\"Control variants leave the page unmodified.\")}_is_bot(){return o&&this.instance?Nn(o,this.instance.config.custom_blocked_useragents):void 0}}class ho{constructor(e){this.instance=e}sendExceptionEvent(e){this.instance.capture(\"$exception\",e,{_noTruncate:!0,_batchKey:\"exceptionEvent\"})}}var _o=[\"$set_once\",\"$set\"],po=te(\"[SiteApps]\");class vo{constructor(e){this.instance=e,this.bufferedInvocations=[],this.apps={}}get isEnabled(){return!!this.instance.config.opt_in_site_apps}eventCollector(e,t){if(t){var i=this.globalsForEvent(t);this.bufferedInvocations.push(i),this.bufferedInvocations.length>1e3&&(this.bufferedInvocations=this.bufferedInvocations.slice(10))}}get siteAppLoaders(){var e,t;return null===(e=_._POSTHOG_REMOTE_CONFIG)||void 0===e||null===(t=e[this.instance.config.token])||void 0===t?void 0:t.siteApps}init(){if(this.isEnabled){var e=this.instance._addCaptureHook(this.eventCollector.bind(this));this.stopBuffering=()=>{e(),this.bufferedInvocations=[],this.stopBuffering=void 0}}}globalsForEvent(e){var t,i,r,s,n,o,a;if(!e)throw new Error(\"Event payload is required\");var l={},u=this.instance.get_property(\"$groups\")||[],c=this.instance.get_property(\"$stored_group_properties\")||{};for(var[d,h]of Object.entries(c))l[d]={id:u[d],type:d,properties:h};var{$set_once:_,$set:p}=e;return{event:ne(ne({},ae(e,_o)),{},{properties:ne(ne(ne({},e.properties),p?{$set:ne(ne({},null!==(t=null===(i=e.properties)||void 0===i?void 0:i.$set)&&void 0!==t?t:{}),p)}:{}),_?{$set_once:ne(ne({},null!==(r=null===(s=e.properties)||void 0===s?void 0:s.$set_once)&&void 0!==r?r:{}),_)}:{}),elements_chain:null!==(n=null===(o=e.properties)||void 0===o?void 0:o.$elements_chain)&&void 0!==n?n:\"\",distinct_id:null===(a=e.properties)||void 0===a?void 0:a.distinct_id}),person:{properties:this.instance.get_property(\"$stored_person_properties\")},groups:l}}setupSiteApp(e){var t={id:e.id,loaded:!1,errored:!1};this.apps[e.id]=t;var i=i=>{var r;for(var s of(this.apps[e.id].errored=!i,this.apps[e.id].loaded=!0,po.info(\"Site app with id \".concat(e.id,\" \").concat(i?\"loaded\":\"errored\")),i&&this.bufferedInvocations.length&&(po.info(\"Processing \".concat(this.bufferedInvocations.length,\" events for site app with id \").concat(e.id)),this.bufferedInvocations.forEach((e=>{var i;return null===(i=t.processEvent)||void 0===i?void 0:i.call(t,e)}))),Object.values(this.apps)))if(!s.loaded)return;null===(r=this.stopBuffering)||void 0===r||r.call(this)};try{var{processEvent:r}=e.init({posthog:this.instance,callback:e=>{i(e)}});r&&(t.processEvent=r)}catch(t){po.error(\"Error while initializing PostHog app with config id \".concat(e.id),t),i(!1)}}onCapturedEvent(e){if(0!==Object.keys(this.apps).length){var t=this.globalsForEvent(e);for(var i of Object.values(this.apps))try{var r;null===(r=i.processEvent)||void 0===r||r.call(i,t)}catch(t){po.error(\"Error while processing event \".concat(e.event,\" for site app \").concat(i.id),t)}}}onRemoteConfig(e){var t,i,r,s=this;if(null!==(t=this.siteAppLoaders)&&void 0!==t&&t.length){if(!this.isEnabled)return void po.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');for(var n of this.siteAppLoaders)this.setupSiteApp(n);this.instance.on(\"eventCaptured\",(e=>this.onCapturedEvent(e)))}else if(null===(i=this.stopBuffering)||void 0===i||i.call(this),null!==(r=e.siteApps)&&void 0!==r&&r.length)if(this.isEnabled){var o=function(e,t){var i,r;_[\"__$$ph_site_app_\".concat(e)]=s.instance,null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadSiteApp)||void 0===r||r.call(i,s.instance,t,(t=>{if(t)return po.error(\"Error while initializing PostHog app with config id \".concat(e),t)}))};for(var{id:a,url:l}of e.siteApps)o(a,l)}else po.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')}}function go(e,t,i){return ks({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:i})}var fo={},mo=()=>{},bo=\"posthog\",yo=!ys&&-1===(null==h?void 0:h.indexOf(\"MSIE\"))&&-1===(null==h?void 0:h.indexOf(\"Mozilla\")),wo=()=>{var e;return{api_host:\"https://us.i.posthog.com\",ui_host:null,token:\"\",autocapture:!0,rageclick:!0,cross_subdomain_cookie:F(null==a?void 0:a.location),persistence:\"localStorage+cookie\",persistence_name:\"\",loaded:mo,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:\"if_capture_pageview\",debug:l&&W(null==l?void 0:l.search)&&-1!==l.search.indexOf(\"__posthog_debug=true\")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:\"https:\"===(null==t||null===(e=t.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:\"localStorage\",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:e=>{var t=\"Bad HTTP status: \"+e.statusCode+\" \"+e.text;ee.error(t)},get_device_id:e=>e,capture_performance:void 0,name:\"posthog\",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:\"identified_only\",before_send:void 0,request_queue_config:{flush_interval_ms:fs},_onCapture:mo}},So=e=>{var t={};z(e.process_person)||(t.person_profiles=e.process_person),z(e.xhr_headers)||(t.request_headers=e.xhr_headers),z(e.cookie_name)||(t.persistence_name=e.cookie_name),z(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),z(e.store_google)||(t.save_campaign_params=e.store_google),z(e.verbose)||(t.debug=e.verbose);var i=w({},t,e);return B(e.property_blacklist)&&(z(e.property_denylist)?i.property_denylist=e.property_blacklist:B(e.property_denylist)?i.property_denylist=[...e.property_blacklist,...e.property_denylist]:ee.error(\"Invalid value for property_denylist config: \"+e.property_denylist)),i};class ko{constructor(){oe(this,\"__forceAllowLocalhost\",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(e){ee.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"),this.__forceAllowLocalhost=e}}class Eo{get decideEndpointWasHit(){var e,t;return null!==(e=null===(t=this.featureFlags)||void 0===t?void 0:t.hasLoadedFlags)&&void 0!==e&&e}constructor(){oe(this,\"webPerformance\",new ko),oe(this,\"version\",p.LIB_VERSION),oe(this,\"_internalEventEmitter\",new En),this.config=wo(),this.SentryIntegration=As,this.sentryIntegration=e=>function(e,t){var i=Ms(e,t);return{name:Os,processEvent:e=>i(e)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint=\"/e/\",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this._cachedIdentify=null,this.featureFlags=new Xe(this),this.toolbar=new gs(this),this.scrollManager=new Gn(this),this.pageViewManager=new Ns(this),this.surveys=new Rn(this),this.experiments=new co(this),this.exceptions=new ho(this),this.rateLimiter=new On(this),this.requestRouter=new $s(this),this.consent=new ro(this),this.people={set:(e,t,i)=>{var r=W(e)?{[e]:t}:e;this.setPersonProperties(r),null==i||i({})},set_once:(e,t,i)=>{var r=W(e)?{[e]:t}:e;this.setPersonProperties(void 0,r),null==i||i({})}},this.on(\"eventCaptured\",(e=>ee.info('send \"'.concat(null==e?void 0:e.event,'\"'),e)))}init(e,t,i){if(i&&i!==bo){var r,s=null!==(r=fo[i])&&void 0!==r?r:new Eo;return s._init(e,t,i),fo[i]=s,fo[bo][i]=s,s}return this._init(e,t,i)}_init(i){var r,s,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(z(i)||V(i))return ee.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"),this;if(this.__loaded)return ee.warn(\"You have already initialized PostHog! Re-initializing is a no-op\"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],n.person_profiles&&(this._initialPersonProfilesConfig=n.person_profiles),this.set_config(w({},wo(),So(n),{name:o,token:i})),this.config.on_xhr_error&&ee.error(\"on_xhr_error is deprecated. Use on_request_error instead\"),this.compression=n.disable_compression?void 0:e.GZipJS,this.persistence=new Ii(this.config),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Ii(ne(ne({},this.config),{},{persistence:\"sessionStorage\"}));var a=ne({},this.persistence.props),l=ne({},this.sessionPersistence.props);if(this._requestQueue=new ms((e=>this._send_retriable_request(e)),this.config.request_queue_config),this._retryQueue=new Cs(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new Ts(this),this.sessionPropsManager=new An(this,this.sessionManager,this.persistence)),new to(this).startIfEnabledOrStop(),this.siteApps=new vo(this),null===(r=this.siteApps)||void 0===r||r.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new us(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Zn(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Vn(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new lo(this),this.exceptionObserver=new no(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new jn(this,Un),this.deadClicksAutocapture.startIfEnabled(),p.DEBUG=p.DEBUG||this.config.debug,p.DEBUG&&ee.info(\"Starting in debug mode\",{this:this,config:n,thisC:ne({},this.config),p:a,s:l}),this._sync_opt_out_with_persistence(),void 0!==(null===(s=n.bootstrap)||void 0===s?void 0:s.distinctID)){var u,c,d=this.config.get_device_id(st()),h=null!==(u=n.bootstrap)&&void 0!==u&&u.isIdentifiedID?d:n.bootstrap.distinctID;this.persistence.set_property(Ae,null!==(c=n.bootstrap)&&void 0!==c&&c.isIdentifiedID?\"identified\":\"anonymous\"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:h})}if(this._hasBootstrappedFeatureFlags()){var _,v,g=Object.keys((null===(_=n.bootstrap)||void 0===_?void 0:_.featureFlags)||{}).filter((e=>{var t,i;return!(null===(t=n.bootstrap)||void 0===t||null===(i=t.featureFlags)||void 0===i||!i[e])})).reduce(((e,t)=>{var i,r;return e[t]=(null===(i=n.bootstrap)||void 0===i||null===(r=i.featureFlags)||void 0===r?void 0:r[t])||!1,e}),{}),f=Object.keys((null===(v=n.bootstrap)||void 0===v?void 0:v.featureFlagPayloads)||{}).filter((e=>g[e])).reduce(((e,t)=>{var i,r,s,o;null!==(i=n.bootstrap)&&void 0!==i&&null!==(r=i.featureFlagPayloads)&&void 0!==r&&r[t]&&(e[t]=null===(s=n.bootstrap)||void 0===s||null===(o=s.featureFlagPayloads)||void 0===o?void 0:o[t]);return e}),{});this.featureFlags.receivedFeatureFlags({featureFlags:g,featureFlagPayloads:f})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:je,$device_id:null},\"\");else if(!this.get_distinct_id()){var m=this.config.get_device_id(st());this.register_once({distinct_id:m,$device_id:m},\"\"),this.persistence.set_property(Ae,\"anonymous\")}return R(t,\"onpagehide\"in self?\"pagehide\":\"unload\",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?Ds(this,(()=>this._loaded())):this._loaded(),H(this.config._onCapture)&&this.config._onCapture!==mo&&(ee.warn(\"onCapture is deprecated. Please use `before_send` instead\"),this.on(\"eventCaptured\",(e=>this.config._onCapture(e.event,e)))),this}_onRemoteConfig(t){var i,r,s,n,o,l,u,c;if(!a||!a.body)return ee.info(\"document not ready yet, trying again in 500 milliseconds...\"),void setTimeout((()=>{this._onRemoteConfig(t)}),500);this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=$(t.supportedCompression,e.GZipJS)?e.GZipJS:$(t.supportedCompression,e.Base64)?e.Base64:void 0),null!==(i=t.analytics)&&void 0!==i&&i.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:\"identified_only\"}),null===(r=this.siteApps)||void 0===r||r.onRemoteConfig(t),null===(s=this.sessionRecording)||void 0===s||s.onRemoteConfig(t),null===(n=this.autocapture)||void 0===n||n.onRemoteConfig(t),null===(o=this.heatmaps)||void 0===o||o.onRemoteConfig(t),this.surveys.onRemoteConfig(t),null===(l=this.webVitalsAutocapture)||void 0===l||l.onRemoteConfig(t),null===(u=this.exceptionObserver)||void 0===u||u.onRemoteConfig(t),null===(c=this.deadClicksAutocapture)||void 0===c||c.onRemoteConfig(t)}_loaded(){try{this.config.loaded(this)}catch(e){ee.critical(\"`loaded` function failed\",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout((()=>{this.consent.isOptedIn()&&this._captureInitialPageview()}),1),new ds(this).load(),this.featureFlags.decide()}_start_queue_if_opted_in(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||b(this.__request_queue,(e=>this._send_retriable_request(e))),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture(\"$pageleave\"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this._shouldCapturePageleave()&&this.capture(\"$pageleave\",null,{transport:\"sendBeacon\"})}_send_request(e){this.__loaded&&(yo?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Ss(e.url,{ip:this.config.ip?1:0}),e.headers=ne({},this.config.request_headers),e.compression=\"best-available\"===e.compression?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(e=>{var t,i,r,s=ne({},e);s.timeout=s.timeout||6e4,s.url=Ss(s.url,{_:(new Date).getTime().toString(),ver:p.LIB_VERSION,compression:s.compression});var n=null!==(t=s.transport)&&void 0!==t?t:\"fetch\",o=null!==(i=null===(r=T(xs,(e=>e.transport===n)))||void 0===r?void 0:r.method)&&void 0!==i?i:xs[0].method;if(!o)throw new Error(\"No available transport method\");o(s)})(ne(ne({},e),{},{callback:t=>{var i,r,s;(this.rateLimiter.checkForLimiting(t),t.statusCode>=400)&&(null===(r=(s=this.config).on_request_error)||void 0===r||r.call(s,t));null===(i=e.callback)||void 0===i||i.call(e,t)}}))))}_send_retriable_request(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}_execute_array(e){var t,i=[],r=[],s=[];b(e,(e=>{e&&(t=e[0],B(t)?s.push(e):H(e)?e.call(this):B(e)&&\"alias\"===t?i.push(e):B(e)&&-1!==t.indexOf(\"capture\")&&H(this[t])?s.push(e):r.push(e))}));var n=function(e,t){b(e,(function(e){if(B(e[0])){var i=t;y(e,(function(e){i=i[e[0]].apply(i,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};n(i,this),n(r,this),n(s,this)}_hasBootstrappedFeatureFlags(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,i){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut())if(!z(e)&&W(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=null!=i&&i.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==s||!s.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var n=new Date,o=(null==i?void 0:i.timestamp)||n,a=st(),l={uuid:a,event:e,properties:this._calculate_event_properties(e,t||{},o,a)};s&&(l.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),(null==i?void 0:i.$set)&&(l.$set=null==i?void 0:i.$set);var u=this._calculate_set_once_properties(null==i?void 0:i.$set_once);u&&(l.$set_once=u),(l=C(l,null!=i&&i._noTruncate?null:this.config.properties_string_max_length)).timestamp=o,z(null==i?void 0:i.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=n);var c=ne(ne({},l.properties.$set),l.$set);if(j(c)||this.setPersonPropertiesForFlags(c),!J(this.config.before_send)){var d=this._runBeforeSend(l);if(!d)return;l=d}this._internalEventEmitter.emit(\"eventCaptured\",l);var h={method:\"POST\",url:null!==(r=null==i?void 0:i._url)&&void 0!==r?r:this.requestRouter.endpointFor(\"api\",this.analyticsDefaultEndpoint),data:l,compression:\"best-available\",batchKey:null==i?void 0:i._batchKey};return!this.config.request_batching||i&&(null==i||!i._batchKey)||null!=i&&i.send_instantly?this._send_retriable_request(h):this._requestQueue.enqueue(h),l}ee.critical(\"This capture call is ignored due to client rate limiting.\")}}else ee.error(\"No event name provided to posthog.capture\")}else ee.uninitializedWarning(\"posthog.capture\")}_addCaptureHook(e){return this.on(\"eventCaptured\",(t=>e(t.event,t)))}_calculate_event_properties(e,t,i,r){if(i=i||new Date,!this.persistence||!this.sessionPersistence)return t;var s=this.persistence.remove_event_timer(e),n=ne({},t);if(n.token=this.config.token,this.config.__preview_experimental_cookieless_mode&&(n.$cookieless_mode=!0),\"$snapshot\"===e){var o=ne(ne({},this.persistence.properties()),this.sessionPersistence.properties());return n.distinct_id=o.distinct_id,(!W(n.distinct_id)&&!Y(n.distinct_id)||V(n.distinct_id))&&ee.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"),n}var l,u=Ei.properties({maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties});if(this.sessionManager){var{sessionId:c,windowId:d}=this.sessionManager.checkAndGetSessionAndWindowId();n.$session_id=c,n.$window_id=d}if(this.sessionRecording&&(n.$recording_status=this.sessionRecording.status),this.requestRouter.region===Ps.CUSTOM&&(n.$lib_custom_api_host=this.config.api_host),l=\"$pageview\"===e?this.pageViewManager.doPageView(i,r):\"$pageleave\"===e?this.pageViewManager.doPageLeave(i):this.pageViewManager.doEvent(),n=w(n,l),\"$pageview\"===e&&a&&(n.title=a.title),!z(s)){var _=i.getTime()-s;n.$duration=parseFloat((_/1e3).toFixed(3))}h&&this.config.opt_out_useragent_filter&&(n.$browser_type=this._is_bot()?\"bot\":\"browser\"),(n=w({},u,this.persistence.properties(),this.sessionPersistence.properties(),n)).$is_identified=this._isIdentified(),B(this.config.property_denylist)?y(this.config.property_denylist,(function(e){delete n[e]})):ee.error(\"Invalid value for property_denylist config: \"+this.config.property_denylist+\" or property_blacklist config: \"+this.config.property_blacklist);var p=this.config.sanitize_properties;p&&(ee.error(\"sanitize_properties is deprecated. Use before_send instead\"),n=p(n,e));var v=this._hasPersonProcessing();return n.$process_person_profile=v,v&&this._requirePersonProcessing(\"_calculate_event_properties\"),n}_calculate_set_once_properties(e){if(!this.persistence||!this._hasPersonProcessing())return e;var t=w({},this.persistence.get_initial_props(),e||{}),i=this.config.sanitize_properties;return i&&(ee.error(\"sanitize_properties is deprecated. Use before_send instead\"),t=i(t,\"$set_once\")),j(t)?void 0:t}register(e,t){var i;null===(i=this.persistence)||void 0===i||i.register(e,t)}register_once(e,t,i){var r;null===(r=this.persistence)||void 0===r||r.register_once(e,t,i)}register_for_session(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}unregister(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}unregister_for_session(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}_register_single(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}getEarlyAccessFeatures(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,t)}on(e,t){return this._internalEventEmitter.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSessionId(e){var t,i;return null!==(t=null===(i=this.sessionManager)||void 0===i?void 0:i.onSessionId(e))&&void 0!==t?t:()=>{}}getSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){this.surveys.canRenderSurvey(e)}getNextSurveyStep(e,t,i){return this.surveys.getNextSurveyStep(e,t,i)}identify(e,t,i){if(!this.__loaded||!this.persistence)return ee.uninitializedWarning(\"posthog.identify\");if(Y(e)&&(e=e.toString(),ee.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")),e){if([\"distinct_id\",\"distinctid\"].includes(e.toLowerCase()))ee.critical('The string \"'.concat(e,'\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing(\"posthog.identify\")){var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property(\"$device_id\")){var s=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},\"\")}e!==r&&e!==this.get_property(ue)&&(this.unregister(ue),this.register({distinct_id:e}));var n=\"anonymous\"===(this.persistence.get_property(Ae)||\"anonymous\");e!==r&&n?(this.persistence.set_property(Ae,\"identified\"),this.setPersonPropertiesForFlags(ne(ne({},i||{}),t||{}),!1),this.capture(\"$identify\",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:i||{}}),this.featureFlags.setAnonymousDistinctId(r),this._cachedIdentify=go(e,t,i)):(t||i)&&(this._cachedIdentify!==go(e,t,i)?(this.setPersonProperties(t,i),this._cachedIdentify=go(e,t,i)):ee.info(\"A duplicate posthog.identify call was made with the same properties. It has been ignored.\")),e!==r&&(this.reloadFeatureFlags(),this.unregister(Me))}}else ee.error(\"Unique user id has not been set in posthog.identify\")}setPersonProperties(e,t){(e||t)&&this._requirePersonProcessing(\"posthog.setPersonProperties\")&&(this.setPersonPropertiesForFlags(ne(ne({},t||{}),e||{})),this.capture(\"$set\",{$set:e||{},$set_once:t||{}}))}group(e,t,i){if(e&&t){if(this._requirePersonProcessing(\"posthog.group\")){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:ne(ne({},r),{},{[e]:t})}),i&&(this.capture(\"$groupidentify\",{$group_type:e,$group_key:t,$group_set:i}),this.setGroupPropertiesForFlags({[e]:i})),r[e]===t||i||this.reloadFeatureFlags()}}else ee.error(\"posthog.group requires a group type and group key\")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing(\"posthog.setGroupPropertiesForFlags\")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,i,r,s;if(ee.info(\"reset\"),!this.__loaded)return ee.uninitializedWarning(\"posthog.reset\");var n=this.get_property(\"$device_id\");if(this.consent.reset(),null===(t=this.persistence)||void 0===t||t.clear(),null===(i=this.sessionPersistence)||void 0===i||i.clear(),this.surveys.reset(),null===(r=this.persistence)||void 0===r||r.set_property(Ae,\"anonymous\"),null===(s=this.sessionManager)||void 0===s||s.resetSessionId(),this._cachedIdentify=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:je,$device_id:null},\"\");else{var o=this.config.get_device_id(st());this.register_once({distinct_id:o,$device_id:e?o:n},\"\")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property(\"distinct_id\")}getGroups(){return this.get_property(\"$groups\")||{}}get_session_id(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:\"\"}get_session_replay_url(e){if(!this.sessionManager)return\"\";var{sessionId:t,sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor(\"ui\",\"/project/\".concat(this.config.token,\"/replay/\").concat(t));if(null!=e&&e.withTimestamp&&i){var s,n=null!==(s=e.timestampLookBack)&&void 0!==s?s:10;if(!i)return r;var o=Math.max(Math.floor(((new Date).getTime()-i)/1e3)-n,0);r+=\"?t=\".concat(o)}return r}alias(e,t){return e===this.get_property(le)?(ee.critical(\"Attempting to create alias for existing People user - aborting.\"),-2):this._requirePersonProcessing(\"posthog.alias\")?(z(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(ue,e),this.capture(\"$create_alias\",{alias:e,distinct_id:t})):(ee.warn(\"alias matches current distinct_id - skipping api call.\"),this.identify(e),-1)):void 0}set_config(e){var t,i,r,s,n=ne({},this.config);U(e)&&(w(this.config,So(e)),null===(t=this.persistence)||void 0===t||t.update_config(this.config,n),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Ii(ne(ne({},this.config),{},{persistence:\"sessionStorage\"})),ht.is_supported()&&\"true\"===ht.get(\"ph_debug\")&&(this.config.debug=!0),this.config.debug&&(p.DEBUG=!0,ee.info(\"set_config\",{config:e,oldConfig:n,newConfig:ne({},this.config)})),null===(i=this.sessionRecording)||void 0===i||i.startIfEnabledOrStop(),null===(r=this.autocapture)||void 0===r||r.startIfEnabled(),null===(s=this.heatmaps)||void 0===s||s.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(e){var t=!0===e,i={sampling:t||!(null==e||!e.sampling),linked_flag:t||!(null==e||!e.linked_flag),url_trigger:t||!(null==e||!e.url_trigger),event_trigger:t||!(null==e||!e.event_trigger)};if(Object.values(i).some(Boolean)){var r,s,n,o,a;if(null===(r=this.sessionManager)||void 0===r||r.checkAndGetSessionAndWindowId(),i.sampling)null===(s=this.sessionRecording)||void 0===s||s.overrideSampling();if(i.linked_flag)null===(n=this.sessionRecording)||void 0===n||n.overrideLinkedFlag();if(i.url_trigger)null===(o=this.sessionRecording)||void 0===o||o.overrideTrigger(\"url\");if(i.event_trigger)null===(a=this.sessionRecording)||void 0===a||a.overrideTrigger(\"event\")}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}captureException(e,t){var i,r=new Error(\"PostHog syntheticException\"),s=H(null===(i=_.__PosthogExtensions__)||void 0===i?void 0:i.parseErrorAsProperties)?ne(ne({},_.__PosthogExtensions__.parseErrorAsProperties([e.message,void 0,void 0,void 0,e],{syntheticException:r})),t):ne({$exception_level:\"error\",$exception_list:[{type:e.name,value:e.message,mechanism:{handled:!0,synthetic:!1}}]},t);this.exceptions.sendExceptionEvent(s)}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}getSessionProperty(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}toString(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:bo;return t!==bo&&(t=bo+\".\"+t),t}_isIdentified(){var e,t;return\"identified\"===(null===(e=this.persistence)||void 0===e?void 0:e.get_property(Ae))||\"identified\"===(null===(t=this.sessionPersistence)||void 0===t?void 0:t.get_property(Ae))}_hasPersonProcessing(){var e,t,i,r;return!(\"never\"===this.config.person_profiles||\"identified_only\"===this.config.person_profiles&&!this._isIdentified()&&j(this.getGroups())&&(null===(e=this.persistence)||void 0===e||null===(t=e.props)||void 0===t||!t[ue])&&(null===(i=this.persistence)||void 0===i||null===(r=i.props)||void 0===r||!r[He]))}_shouldCapturePageleave(){return!0===this.config.capture_pageleave||\"if_capture_pageview\"===this.config.capture_pageleave&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing(\"posthog.createPersonProfile\")&&this.setPersonProperties({},{})}_requirePersonProcessing(e){return\"never\"===this.config.person_profiles?(ee.error(e+' was called, but process_person is set to \"never\". This call will be ignored.'),!1):(this._register_single(He,!0),!0)}_sync_opt_out_with_persistence(){var e,t,i,r,s=this.consent.isOptedOut(),n=this.config.opt_out_persistence_by_default,o=this.config.disable_persistence||s&&!!n;(null===(e=this.persistence)||void 0===e?void 0:e.disabled)!==o&&(null===(i=this.persistence)||void 0===i||i.set_disabled(o));(null===(t=this.sessionPersistence)||void 0===t?void 0:t.disabled)!==o&&(null===(r=this.sessionPersistence)||void 0===r||r.set_disabled(o))}opt_in_capturing(e){var t;(this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),z(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:\"$opt_in\",null==e?void 0:e.captureProperties,{send_instantly:!0});this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return o?Nn(o,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){a&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture(\"$pageview\",{title:a.title},{send_instantly:!0}))}debug(e){!1===e?(null==t||t.console.log(\"You've disabled debug mode.\"),localStorage&&localStorage.removeItem(\"ph_debug\"),this.set_config({debug:!1})):(null==t||t.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"),localStorage&&localStorage.setItem(\"ph_debug\",\"true\"),this.set_config({debug:!0}))}_runBeforeSend(e){if(J(this.config.before_send))return e;var t=B(this.config.before_send)?this.config.before_send:[this.config.before_send],i=e;for(var r of t){if(i=r(i),J(i)){var s=\"Event '\".concat(e.event,\"' was rejected in beforeSend function\");return Q(e.event)?ee.warn(\"\".concat(s,\". This can cause unexpected behavior.\")):ee.info(s),null}i.properties&&!j(i.properties)||ee.warn(\"Event '\".concat(e.event,\"' has no properties after beforeSend function, this is likely an error.\"))}return i}getPageViewId(){var e;return null===(e=this.pageViewManager._currentPageview)||void 0===e?void 0:e.pageViewId}}!function(e,t){for(var i=0;i<t.length;i++)e.prototype[t[i]]=x(e.prototype[t[i]])}(Eo,[\"identify\"]);var xo,Io=(xo=fo[bo]=new Eo,function(){function e(){e.done||(e.done=!0,yo=!1,y(fo,(function(e){e._dom_loaded()})))}null!=a&&a.addEventListener?\"complete\"===a.readyState?e():R(a,\"DOMContentLoaded\",e,{capture:!1}):t&&ee.error(\"Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized\")}(),xo);\n//# sourceMappingURL=module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL3Bvc3Rob2ctanMvZGlzdC9tb2R1bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLG1hQUFtYSxJQUFJLCtCQUErQiwrUUFBK1EsYUFBYSxxQ0FBcUMsU0FBUyxHQUFHLDREQUE0RCxrQkFBa0IsMkNBQTJDLGtFQUFrRSxJQUFJLDJDQUEyQyxrQkFBa0IsVUFBVSx3QkFBd0IsU0FBUywyREFBMkQsaUVBQWlFLGtCQUFrQixzREFBc0QsSUFBSSx3QkFBd0Isd0JBQXdCLDBDQUEwQyxLQUFLLGVBQWUsc0RBQXNELElBQUksd0JBQXdCLHdCQUF3QixpQkFBaUIsVUFBVSxHQUFHLE1BQU0sY0FBYyxtREFBbUQsSUFBSSxxQkFBcUIsU0FBUyxrQkFBa0IsSUFBSSxXQUFXLFNBQVMsUUFBUSxlQUFlLGtCQUFrQixJQUFJLDhDQUE4QyxJQUFJLHNCQUFzQix1QkFBdUIsU0FBUyw4SkFBOEosZUFBZSxTQUFTLDBCQUEwQiwyQkFBMkIsTUFBTSxnQkFBZ0IscUVBQXFFLDhFQUE4RSxhQUFhLFNBQVMsY0FBYyx3QkFBd0IsT0FBTyxNQUFNLElBQUksVUFBVSxtREFBbUQsY0FBYyxnQ0FBZ0Msa0JBQWtCLHVDQUF1QyxpQ0FBaUMsU0FBUyxnQkFBZ0IsWUFBWSxXQUFXLDJCQUEyQixvQkFBb0IsSUFBSSwwQkFBMEIsY0FBYyxpQ0FBaUMsb0JBQW9CLEVBQUUsZ0JBQWdCLHdCQUF3QixrQkFBa0IsMERBQTBELGVBQWUsNEJBQTRCLG9CQUFvQixnQkFBZ0IsSUFBSSxjQUFjLFNBQVMsU0FBUyxTQUFTLGFBQWEsSUFBSSw2QkFBNkIsU0FBUyxVQUFVLHFGQUFxRixtQ0FBbUMsMkRBQTJELFNBQVMsdUNBQXVDLFNBQVMsU0FBUyxtT0FBbU8sT0FBTyxpQkFBaUIsNERBQTRELDJJQUEySSxJQUFJLHdCQUF3QixXQUFXLGlCQUFpQiw4Q0FBOEMsSUFBSSxzQkFBc0IsbUJBQW1CLGlCQUFpQiw4Q0FBOEMsSUFBSSxzQkFBc0Isb0JB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a1RBQWtULDBCQUEwQiw4SEFBOEgsc0JBQXNCLHNIQUFzSCxHQUFHLEVBQUUsNEJBQTRCLCtLQUErSyxpQ0FBaUMsK0hBQStILDhIQUE4SCw0SUFBNEksb0JBQW9CLE1BQU0sMlBBQTJQLGtCQUFrQixFQUFFLDZEQUE2RCxvQkFBb0IsZ0VBQWdFLHlCQUF5QixnQ0FBZ0MsMEJBQTBCLGlDQUFpQyw2QkFBNkIsMkRBQTJELFVBQVUsNERBQTRELDBCQUEwQiwrRkFBK0YsY0FBYyxFQUFFLGtCQUFrQixHQUFHLFNBQVMsaUlBQWlJLFNBQVMsdU9BQXVPLFNBQVMsR0FBRyxrQkFBa0IsdUNBQXVDLHVGQUF1RixnQkFBZ0IsZ0JBQWdCLHdFQUF3RSxnR0FBZ0csNklBQTZJLFNBQVMsZ0JBQWdCLE1BQU0seUZBQXlGLGVBQWUsWUFBWSxXQUFXLDJDQUEyQyxrQkFBa0IsdUNBQXVDLGFBQWEsMkNBQTJDLGdCQUFnQixJQUFJLG9GQUFvRixXQUFXLHdHQUF3RyxPQUFvTztBQUNqOWtMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWluZC1tZW50b3IvLi4vbm9kZV9tb2R1bGVzL3Bvc3Rob2ctanMvZGlzdC9tb2R1bGUuanM/MWRhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZSx0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCxpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dCxyPUFycmF5LnByb3RvdHlwZSxzPXIuZm9yRWFjaCxuPXIuaW5kZXhPZixvPW51bGw9PWk/dm9pZCAwOmkubmF2aWdhdG9yLGE9bnVsbD09aT92b2lkIDA6aS5kb2N1bWVudCxsPW51bGw9PWk/dm9pZCAwOmkubG9jYXRpb24sdT1udWxsPT1pP3ZvaWQgMDppLmZldGNoLGM9bnVsbCE9aSYmaS5YTUxIdHRwUmVxdWVzdCYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIG5ldyBpLlhNTEh0dHBSZXF1ZXN0P2kuWE1MSHR0cFJlcXVlc3Q6dm9pZCAwLGQ9bnVsbD09aT92b2lkIDA6aS5BYm9ydENvbnRyb2xsZXIsaD1udWxsPT1vP3ZvaWQgMDpvLnVzZXJBZ2VudCxfPW51bGwhPXQ/dDp7fSxwPXtERUJVRzohMSxMSUJfVkVSU0lPTjpcIjEuMjE1LjZcIn0sdj1cIiRjb3B5X2F1dG9jYXB0dXJlXCIsZz1bXCIkc25hcHNob3RcIixcIiRwYWdldmlld1wiLFwiJHBhZ2VsZWF2ZVwiLFwiJHNldFwiLFwic3VydmV5IGRpc21pc3NlZFwiLFwic3VydmV5IHNlbnRcIixcInN1cnZleSBzaG93blwiLFwiJGlkZW50aWZ5XCIsXCIkZ3JvdXBpZGVudGlmeVwiLFwiJGNyZWF0ZV9hbGlhc1wiLFwiJCRjbGllbnRfaW5nZXN0aW9uX3dhcm5pbmdcIixcIiR3ZWJfZXhwZXJpbWVudF9hcHBsaWVkXCIsXCIkZmVhdHVyZV9lbnJvbGxtZW50X3VwZGF0ZVwiLFwiJGZlYXR1cmVfZmxhZ19jYWxsZWRcIl07IWZ1bmN0aW9uKGUpe2UuR1ppcEpTPVwiZ3ppcC1qc1wiLGUuQmFzZTY0PVwiYmFzZTY0XCJ9KGV8fChlPXt9KSk7dmFyIGY9W1wiZmF0YWxcIixcImVycm9yXCIsXCJ3YXJuaW5nXCIsXCJsb2dcIixcImluZm9cIixcImRlYnVnXCJdLG09e307ZnVuY3Rpb24gYihlLHQsaSl7aWYoQihlKSlpZihzJiZlLmZvckVhY2g9PT1zKWUuZm9yRWFjaCh0LGkpO2Vsc2UgaWYoXCJsZW5ndGhcImluIGUmJmUubGVuZ3RoPT09K2UubGVuZ3RoKWZvcih2YXIgcj0wLG49ZS5sZW5ndGg7cjxuO3IrKylpZihyIGluIGUmJnQuY2FsbChpLGVbcl0scik9PT1tKXJldHVybn1mdW5jdGlvbiB5KGUsdCxpKXtpZighSihlKSl7aWYoQihlKSlyZXR1cm4gYihlLHQsaSk7aWYoWChlKSl7Zm9yKHZhciByIG9mIGUuZW50cmllcygpKWlmKHQuY2FsbChpLHJbMV0sclswXSk9PT1tKXJldHVybn1lbHNlIGZvcih2YXIgcyBpbiBlKWlmKE4uY2FsbChlLHMpJiZ0LmNhbGwoaSxlW3NdLHMpPT09bSlyZXR1cm59fXZhciB3PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQ+MT90LTE6MCkscj0xO3I8dDtyKyspaVtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gYihpLChmdW5jdGlvbih0KXtmb3IodmFyIGkgaW4gdCl2b2lkIDAhPT10W2ldJiYoZVtpXT10W2ldKX0pKSxlfSxTPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQ+MT90LTE6MCkscj0xO3I8dDtyKyspaVtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gYihpLChmdW5jdGlvbih0KXtiKHQsKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pKX0pKSxlfTtmdW5jdGlvbiBrKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxpPXQubGVuZ3RoLHI9bmV3IEFycmF5KGkpO2ktLTspcltpXT1bdFtpXSxlW3RbaV1dXTtyZXR1cm4gcn12YXIgRT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGUoKX1jYXRjaChlKXtyZXR1cm59fSx4PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3RyeXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKylpW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gZS5hcHBseSh0aGlzLGkpfWNhdGNoKGUpe2VlLmNyaXRpY2FsKFwiSW1wbGVtZW50YXRpb24gZXJyb3IuIFBsZWFzZSB0dXJuIG9uIGRlYnVnIG1vZGUgYW5kIG9wZW4gYSB0aWNrZXQgb24gaHR0cHM6Ly9hcHAucG9zdGhvZy5jb20vaG9tZSNwYW5lbD1zdXBwb3J0JTNBc3VwcG9ydCUzQS5cIiksZWUuY3JpdGljYWwoZSl9fX0sST1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4geShlLChmdW5jdGlvbihlLGkpe1coZSkmJmUubGVuZ3RoPjAmJih0W2ldPWUpfSkpLHR9O2Z1bmN0aW9uIEMoZSx0KXtyZXR1cm4gaT1lLHI9ZT0+VyhlKSYmIUcodCk/ZS5zbGljZSgwLHQpOmUscz1uZXcgU2V0LGZ1bmN0aW9uIGUodCxpKXtyZXR1cm4gdCE9PU9iamVjdCh0KT9yP3IodCxpKTp0OnMuaGFzKHQpP3ZvaWQgMDoocy5hZGQodCksQih0KT8obj1bXSxiKHQsKHQ9PntuLnB1c2goZSh0KSl9KSkpOihuPXt9LHkodCwoKHQsaSk9PntzLmhhcyh0KXx8KG5baV09ZSh0LGkpKX0pKSksbik7dmFyIG59KGkpO3ZhciBpLHIsc312YXIgUD1bXCJoZXJva3VhcHAuY29tXCIsXCJ2ZXJjZWwuYXBwXCIsXCJuZXRsaWZ5LmFwcFwiXTtmdW5jdGlvbiBGKGUpe3ZhciB0PW51bGw9PWU/dm9pZCAwOmUuaG9zdG5hbWU7aWYoIVcodCkpcmV0dXJuITE7dmFyIGk9dC5zcGxpdChcIi5cIikuc2xpY2UoLTIpLmpvaW4oXCIuXCIpO2Zvcih2YXIgciBvZiBQKWlmKGk9PT1yKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFQoZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKylpZih0KGVbaV0pKXJldHVybiBlW2ldfWZ1bmN0aW9uIFIoZSx0LGkscil7dmFye2NhcHR1cmU6cz0hMSxwYXNzaXZlOm49ITB9PW51bGwhPXI/cjp7fTtudWxsPT1lfHxlLmFkZEV2ZW50TGlzdGVuZXIodCxpLHtjYXB0dXJlOnMscGFzc2l2ZTpufSl9ZnVuY3Rpb24gJChlLHQpe3JldHVybi0xIT09ZS5pbmRleE9mKHQpfXZhciBPPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFwiXCIpfSxNPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL15cXCQvLFwiXCIpfTt2YXIgQT1mdW5jdGlvbihlLHQpe2lmKCFmdW5jdGlvbihlKXt0cnl7bmV3IFJlZ0V4cChlKX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4hMH0odCkpcmV0dXJuITE7dHJ5e3JldHVybiBuZXcgUmVnRXhwKHQpLnRlc3QoZSl9Y2F0Y2goZSl7cmV0dXJuITF9fSxMPUFycmF5LmlzQXJyYXksRD1PYmplY3QucHJvdG90eXBlLE49RC5oYXNPd25Qcm9wZXJ0eSxxPUQudG9TdHJpbmcsQj1MfHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1xLmNhbGwoZSl9LEg9ZT0+XCJmdW5jdGlvblwiPT10eXBlb2YgZSxVPWU9PmU9PT1PYmplY3QoZSkmJiFCKGUpLGo9ZT0+e2lmKFUoZSkpe2Zvcih2YXIgdCBpbiBlKWlmKE4uY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfXJldHVybiExfSx6PWU9PnZvaWQgMD09PWUsVz1lPT5cIltvYmplY3QgU3RyaW5nXVwiPT1xLmNhbGwoZSksVj1lPT5XKGUpJiYwPT09ZS50cmltKCkubGVuZ3RoLEc9ZT0+bnVsbD09PWUsSj1lPT56KGUpfHxHKGUpLFk9ZT0+XCJbb2JqZWN0IE51bWJlcl1cIj09cS5jYWxsKGUpLEs9ZT0+XCJbb2JqZWN0IEJvb2xlYW5dXCI9PT1xLmNhbGwoZSksWD1lPT5lIGluc3RhbmNlb2YgRm9ybURhdGEsUT1lPT4kKGcsZSksWj1lPT57dmFyIGk9e19sb2c6ZnVuY3Rpb24oaSl7aWYodCYmKHAuREVCVUd8fF8uUE9TVEhPR19ERUJVRykmJiF6KHQuY29uc29sZSkmJnQuY29uc29sZSl7Zm9yKHZhciByPShcIl9fcnJ3ZWJfb3JpZ2luYWxfX1wiaW4gdC5jb25zb2xlW2ldP3QuY29uc29sZVtpXS5fX3Jyd2ViX29yaWdpbmFsX186dC5jb25zb2xlW2ldKSxzPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkocz4xP3MtMTowKSxvPTE7bzxzO28rKyluW28tMV09YXJndW1lbnRzW29dO3IoZSwuLi5uKX19LGluZm86ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTtpLl9sb2coXCJsb2dcIiwuLi50KX0sd2FybjpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKXRbcl09YXJndW1lbnRzW3JdO2kuX2xvZyhcIndhcm5cIiwuLi50KX0sZXJyb3I6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTtpLl9sb2coXCJlcnJvclwiLC4uLnQpfSxjcml0aWNhbDpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKWlbcl09YXJndW1lbnRzW3JdO2NvbnNvbGUuZXJyb3IoZSwuLi5pKX0sdW5pbml0aWFsaXplZFdhcm5pbmc6ZT0+e2kuZXJyb3IoXCJZb3UgbXVzdCBpbml0aWFsaXplIFBvc3RIb2cgYmVmb3JlIGNhbGxpbmcgXCIuY29uY2F0KGUpKX0sY3JlYXRlTG9nZ2VyOnQ9PlooXCJcIi5jb25jYXQoZSxcIiBcIikuY29uY2F0KHQpKX07cmV0dXJuIGl9LGVlPVooXCJbUG9zdEhvZy5qc11cIiksdGU9ZWUuY3JlYXRlTG9nZ2VyLGllPXRlKFwiW0V4dGVybmFsU2NyaXB0c0xvYWRlcl1cIikscmU9KGUsdCxpKT0+e2lmKGUuY29uZmlnLmRpc2FibGVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9sb2FkaW5nKXJldHVybiBpZS53YXJuKFwiXCIuY29uY2F0KHQsXCIgd2FzIHJlcXVlc3RlZCBidXQgbG9hZGluZyBvZiBleHRlcm5hbCBzY3JpcHRzIGlzIGRpc2FibGVkLlwiKSksaShcIkxvYWRpbmcgb2YgZXh0ZXJuYWwgc2NyaXB0cyBpcyBkaXNhYmxlZFwiKTt2YXIgcj0oKT0+e2lmKCFhKXJldHVybiBpKFwiZG9jdW1lbnQgbm90IGZvdW5kXCIpO3ZhciByPWEuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtpZihyLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIixyLmNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCIsci5zcmM9dCxyLm9ubG9hZD1lPT5pKHZvaWQgMCxlKSxyLm9uZXJyb3I9ZT0+aShlKSxlLmNvbmZpZy5wcmVwYXJlX2V4dGVybmFsX2RlcGVuZGVuY3lfc2NyaXB0JiYocj1lLmNvbmZpZy5wcmVwYXJlX2V4dGVybmFsX2RlcGVuZGVuY3lfc2NyaXB0KHIpKSwhcilyZXR1cm4gaShcInByZXBhcmVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9zY3JpcHQgcmV0dXJuZWQgbnVsbFwiKTt2YXIgcyxuPWEucXVlcnlTZWxlY3RvckFsbChcImJvZHkgPiBzY3JpcHRcIik7bi5sZW5ndGg+MD9udWxsPT09KHM9blswXS5wYXJlbnROb2RlKXx8dm9pZCAwPT09c3x8cy5pbnNlcnRCZWZvcmUocixuWzBdKTphLmJvZHkuYXBwZW5kQ2hpbGQocil9O251bGwhPWEmJmEuYm9keT9yKCk6bnVsbD09YXx8YS5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLHIpfTtmdW5jdGlvbiBzZShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGkscil9cmV0dXJuIGl9ZnVuY3Rpb24gbmUoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/c2UoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvZShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6c2UoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gb2UoZSx0LGkpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfWZ1bmN0aW9uIGFlKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgaSxyLHM9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBpLHIscz17fSxuPU9iamVjdC5rZXlzKGUpO2ZvcihyPTA7cjxuLmxlbmd0aDtyKyspaT1uW3JdLHQuaW5kZXhPZihpKT49MHx8KHNbaV09ZVtpXSk7cmV0dXJuIHN9KGUsdCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKWk9bltyXSx0LmluZGV4T2YoaSk+PTB8fE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLGkpJiYoc1tpXT1lW2ldKX1yZXR1cm4gc31fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXz1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfX3x8e30sXy5fX1Bvc3Rob2dFeHRlbnNpb25zX18ubG9hZEV4dGVybmFsRGVwZW5kZW5jeT0oZSx0LGkpPT57dmFyIHI9XCIvc3RhdGljL1wiLmNvbmNhdCh0LFwiLmpzXCIpK1wiP3Y9XCIuY29uY2F0KGUudmVyc2lvbik7aWYoXCJyZW1vdGUtY29uZmlnXCI9PT10JiYocj1cIi9hcnJheS9cIi5jb25jYXQoZS5jb25maWcudG9rZW4sXCIvY29uZmlnLmpzXCIpKSxcInRvb2xiYXJcIj09PXQpe3ZhciBzPTNlNSxuPU1hdGguZmxvb3IoRGF0ZS5ub3coKS9zKSpzO3I9XCJcIi5jb25jYXQocixcIiZ0PVwiKS5jb25jYXQobil9dmFyIG89ZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXNzZXRzXCIscik7cmUoZSxvLGkpfSxfLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5sb2FkU2l0ZUFwcD0oZSx0LGkpPT57dmFyIHI9ZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsdCk7cmUoZSxyLGkpfTt2YXIgbGU9XCIkcGVvcGxlX2Rpc3RpbmN0X2lkXCIsdWU9XCJfX2FsaWFzXCIsY2U9XCJfX3RpbWVyc1wiLGRlPVwiJGF1dG9jYXB0dXJlX2Rpc2FibGVkX3NlcnZlcl9zaWRlXCIsaGU9XCIkaGVhdG1hcHNfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLF9lPVwiJGV4Y2VwdGlvbl9jYXB0dXJlX2VuYWJsZWRfc2VydmVyX3NpZGVcIixwZT1cIiR3ZWJfdml0YWxzX2VuYWJsZWRfc2VydmVyX3NpZGVcIix2ZT1cIiRkZWFkX2NsaWNrc19lbmFibGVkX3NlcnZlcl9zaWRlXCIsZ2U9XCIkd2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3NcIixmZT1cIiRzZXNzaW9uX3JlY29yZGluZ19lbmFibGVkX3NlcnZlcl9zaWRlXCIsbWU9XCIkY29uc29sZV9sb2dfcmVjb3JkaW5nX2VuYWJsZWRfc2VydmVyX3NpZGVcIixiZT1cIiRzZXNzaW9uX3JlY29yZGluZ19uZXR3b3JrX3BheWxvYWRfY2FwdHVyZVwiLHllPVwiJHNlc3Npb25fcmVjb3JkaW5nX2NhbnZhc19yZWNvcmRpbmdcIix3ZT1cIiRyZXBsYXlfc2FtcGxlX3JhdGVcIixTZT1cIiRyZXBsYXlfbWluaW11bV9kdXJhdGlvblwiLGtlPVwiJHJlcGxheV9zY3JpcHRfY29uZmlnXCIsRWU9XCIkc2VzaWRcIix4ZT1cIiRzZXNzaW9uX2lzX3NhbXBsZWRcIixJZT1cIiRzZXNzaW9uX3JlY29yZGluZ191cmxfdHJpZ2dlcl9hY3RpdmF0ZWRfc2Vzc2lvblwiLENlPVwiJHNlc3Npb25fcmVjb3JkaW5nX2V2ZW50X3RyaWdnZXJfYWN0aXZhdGVkX3Nlc3Npb25cIixQZT1cIiRlbmFibGVkX2ZlYXR1cmVfZmxhZ3NcIixGZT1cIiRlYXJseV9hY2Nlc3NfZmVhdHVyZXNcIixUZT1cIiRzdG9yZWRfcGVyc29uX3Byb3BlcnRpZXNcIixSZT1cIiRzdG9yZWRfZ3JvdXBfcHJvcGVydGllc1wiLCRlPVwiJHN1cnZleXNcIixPZT1cIiRzdXJ2ZXlzX2FjdGl2YXRlZFwiLE1lPVwiJGZsYWdfY2FsbF9yZXBvcnRlZFwiLEFlPVwiJHVzZXJfc3RhdGVcIixMZT1cIiRjbGllbnRfc2Vzc2lvbl9wcm9wc1wiLERlPVwiJGNhcHR1cmVfcmF0ZV9saW1pdFwiLE5lPVwiJGluaXRpYWxfY2FtcGFpZ25fcGFyYW1zXCIscWU9XCIkaW5pdGlhbF9yZWZlcnJlcl9pbmZvXCIsQmU9XCIkaW5pdGlhbF9wZXJzb25faW5mb1wiLEhlPVwiJGVwcFwiLFVlPVwiX19QT1NUSE9HX1RPT0xCQVJfX1wiLGplPVwiJHBvc3Rob2dfY29va2llbGVzc1wiLHplPVtsZSx1ZSxcIl9fY21wbnNcIixjZSxmZSxoZSxFZSxQZSxBZSxGZSxSZSxUZSwkZSxNZSxMZSxEZSxOZSxxZSxIZV0sV2U9dGUoXCJbRmVhdHVyZUZsYWdzXVwiKSxWZT1cIiRhY3RpdmVfZmVhdHVyZV9mbGFnc1wiLEdlPVwiJG92ZXJyaWRlX2ZlYXR1cmVfZmxhZ3NcIixKZT1cIiRmZWF0dXJlX2ZsYWdfcGF5bG9hZHNcIixZZT1cIiRvdmVycmlkZV9mZWF0dXJlX2ZsYWdfcGF5bG9hZHNcIixLZT1lPT57dmFyIHQ9e307Zm9yKHZhcltpLHJdb2YgayhlfHx7fSkpciYmKHRbaV09cik7cmV0dXJuIHR9O2NsYXNzIFhle2NvbnN0cnVjdG9yKGUpe29lKHRoaXMsXCJfb3ZlcnJpZGVfd2FybmluZ1wiLCExKSxvZSh0aGlzLFwiX2hhc0xvYWRlZEZsYWdzXCIsITEpLG9lKHRoaXMsXCJfcmVxdWVzdEluRmxpZ2h0XCIsITEpLG9lKHRoaXMsXCJfcmVsb2FkaW5nRGlzYWJsZWRcIiwhMSksb2UodGhpcyxcIl9hZGRpdGlvbmFsUmVsb2FkUmVxdWVzdGVkXCIsITEpLG9lKHRoaXMsXCJfZGVjaWRlQ2FsbGVkXCIsITEpLG9lKHRoaXMsXCJfZmxhZ3NMb2FkZWRGcm9tUmVtb3RlXCIsITEpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycz1bXX1kZWNpZGUoKXtpZih0aGlzLmluc3RhbmNlLmNvbmZpZy5fX3ByZXZpZXdfcmVtb3RlX2NvbmZpZyl0aGlzLl9kZWNpZGVDYWxsZWQ9ITA7ZWxzZXt2YXIgZT0hdGhpcy5fcmVsb2FkRGVib3VuY2VyJiYodGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzfHx0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3Nfb25fZmlyc3RfbG9hZCk7dGhpcy5fY2FsbERlY2lkZUVuZHBvaW50KHtkaXNhYmxlRmxhZ3M6ZX0pfX1nZXQgaGFzTG9hZGVkRmxhZ3MoKXtyZXR1cm4gdGhpcy5faGFzTG9hZGVkRmxhZ3N9Z2V0RmxhZ3MoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5nZXRGbGFnVmFyaWFudHMoKSl9Z2V0RmxhZ1ZhcmlhbnRzKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoUGUpLHQ9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoR2UpO2lmKCF0KXJldHVybiBlfHx7fTtmb3IodmFyIGk9dyh7fSxlKSxyPU9iamVjdC5rZXlzKHQpLHM9MDtzPHIubGVuZ3RoO3MrKylpW3Jbc11dPXRbcltzXV07cmV0dXJuIHRoaXMuX292ZXJyaWRlX3dhcm5pbmd8fChXZS53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFncyFcIix7ZW5hYmxlZEZsYWdzOmUsb3ZlcnJpZGRlbkZsYWdzOnQsZmluYWxGbGFnczppfSksdGhpcy5fb3ZlcnJpZGVfd2FybmluZz0hMCksaX1nZXRGbGFnUGF5bG9hZHMoKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShKZSksdD10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShZZSk7aWYoIXQpcmV0dXJuIGV8fHt9O2Zvcih2YXIgaT13KHt9LGV8fHt9KSxyPU9iamVjdC5rZXlzKHQpLHM9MDtzPHIubGVuZ3RoO3MrKylpW3Jbc11dPXRbcltzXV07cmV0dXJuIHRoaXMuX292ZXJyaWRlX3dhcm5pbmd8fChXZS53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFnIHBheWxvYWRzIVwiLHtmbGFnUGF5bG9hZHM6ZSxvdmVycmlkZGVuUGF5bG9hZHM6dCxmaW5hbFBheWxvYWRzOml9KSx0aGlzLl9vdmVycmlkZV93YXJuaW5nPSEwKSxpfXJlbG9hZEZlYXR1cmVGbGFncygpe3RoaXMuX3JlbG9hZGluZ0Rpc2FibGVkfHx0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3N8fHRoaXMuX3JlbG9hZERlYm91bmNlcnx8KHRoaXMuX3JlbG9hZERlYm91bmNlcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2NhbGxEZWNpZGVFbmRwb2ludCgpfSksNSkpfWNsZWFyRGVib3VuY2VyKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3JlbG9hZERlYm91bmNlciksdGhpcy5fcmVsb2FkRGVib3VuY2VyPXZvaWQgMH1lbnN1cmVGbGFnc0xvYWRlZCgpe3RoaXMuX2hhc0xvYWRlZEZsYWdzfHx0aGlzLl9yZXF1ZXN0SW5GbGlnaHR8fHRoaXMuX3JlbG9hZERlYm91bmNlcnx8dGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1zZXRBbm9ueW1vdXNEaXN0aW5jdElkKGUpe3RoaXMuJGFub25fZGlzdGluY3RfaWQ9ZX1zZXRSZWxvYWRpbmdQYXVzZWQoZSl7dGhpcy5fcmVsb2FkaW5nRGlzYWJsZWQ9ZX1fY2FsbERlY2lkZUVuZHBvaW50KHQpe2lmKHRoaXMuY2xlYXJEZWJvdW5jZXIoKSwhdGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGUpaWYodGhpcy5fcmVxdWVzdEluRmxpZ2h0KXRoaXMuX2FkZGl0aW9uYWxSZWxvYWRSZXF1ZXN0ZWQ9ITA7ZWxzZXt2YXIgaT17dG9rZW46dGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4sZGlzdGluY3RfaWQ6dGhpcy5pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSxncm91cHM6dGhpcy5pbnN0YW5jZS5nZXRHcm91cHMoKSwkYW5vbl9kaXN0aW5jdF9pZDp0aGlzLiRhbm9uX2Rpc3RpbmN0X2lkLHBlcnNvbl9wcm9wZXJ0aWVzOnRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFRlKSxncm91cF9wcm9wZXJ0aWVzOnRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFJlKX07KG51bGwhPXQmJnQuZGlzYWJsZUZsYWdzfHx0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3MpJiYoaS5kaXNhYmxlX2ZsYWdzPSEwKSx0aGlzLl9yZXF1ZXN0SW5GbGlnaHQ9ITAsdGhpcy5pbnN0YW5jZS5fc2VuZF9yZXF1ZXN0KHttZXRob2Q6XCJQT1NUXCIsdXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2RlY2lkZS8/dj0zXCIpLGRhdGE6aSxjb21wcmVzc2lvbjp0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX2NvbXByZXNzaW9uP3ZvaWQgMDplLkJhc2U2NCx0aW1lb3V0OnRoaXMuaW5zdGFuY2UuY29uZmlnLmZlYXR1cmVfZmxhZ19yZXF1ZXN0X3RpbWVvdXRfbXMsY2FsbGJhY2s6ZT0+e3ZhciB0LHIscz0hMDsoMjAwPT09ZS5zdGF0dXNDb2RlJiYodGhpcy4kYW5vbl9kaXN0aW5jdF9pZD12b2lkIDAscz0hMSksdGhpcy5fcmVxdWVzdEluRmxpZ2h0PSExLHRoaXMuX2RlY2lkZUNhbGxlZCl8fCh0aGlzLl9kZWNpZGVDYWxsZWQ9ITAsdGhpcy5pbnN0YW5jZS5fb25SZW1vdGVDb25maWcobnVsbCE9PShyPWUuanNvbikmJnZvaWQgMCE9PXI/cjp7fSkpO2kuZGlzYWJsZV9mbGFnc3x8KHRoaXMuX2ZsYWdzTG9hZGVkRnJvbVJlbW90ZT0hcyx0aGlzLnJlY2VpdmVkRmVhdHVyZUZsYWdzKG51bGwhPT0odD1lLmpzb24pJiZ2b2lkIDAhPT10P3Q6e30scyksdGhpcy5fYWRkaXRpb25hbFJlbG9hZFJlcXVlc3RlZCYmKHRoaXMuX2FkZGl0aW9uYWxSZWxvYWRSZXF1ZXN0ZWQ9ITEsdGhpcy5fY2FsbERlY2lkZUVuZHBvaW50KCkpKX19KX19Z2V0RmVhdHVyZUZsYWcoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKHRoaXMuX2hhc0xvYWRlZEZsYWdzfHx0aGlzLmdldEZsYWdzKCkmJnRoaXMuZ2V0RmxhZ3MoKS5sZW5ndGg+MCl7dmFyIGkscixzLG4sbyxhPXRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKClbZV0sbD1cIlwiLmNvbmNhdChhKSx1PXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KE1lKXx8e307aWYodC5zZW5kX2V2ZW50fHwhKFwic2VuZF9ldmVudFwiaW4gdCkpaWYoIShlIGluIHUpfHwhdVtlXS5pbmNsdWRlcyhsKSlCKHVbZV0pP3VbZV0ucHVzaChsKTp1W2VdPVtsXSxudWxsPT09KGk9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkucmVnaXN0ZXIoe1tNZV06dX0pLHRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiRmZWF0dXJlX2ZsYWdfY2FsbGVkXCIseyRmZWF0dXJlX2ZsYWc6ZSwkZmVhdHVyZV9mbGFnX3Jlc3BvbnNlOmEsJGZlYXR1cmVfZmxhZ19wYXlsb2FkOnRoaXMuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKGUpfHxudWxsLCRmZWF0dXJlX2ZsYWdfYm9vdHN0cmFwcGVkX3Jlc3BvbnNlOihudWxsPT09KHI9dGhpcy5pbnN0YW5jZS5jb25maWcuYm9vdHN0cmFwKXx8dm9pZCAwPT09cnx8bnVsbD09PShzPXIuZmVhdHVyZUZsYWdzKXx8dm9pZCAwPT09cz92b2lkIDA6c1tlXSl8fG51bGwsJGZlYXR1cmVfZmxhZ19ib290c3RyYXBwZWRfcGF5bG9hZDoobnVsbD09PShuPXRoaXMuaW5zdGFuY2UuY29uZmlnLmJvb3RzdHJhcCl8fHZvaWQgMD09PW58fG51bGw9PT0obz1uLmZlYXR1cmVGbGFnUGF5bG9hZHMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvW2VdKXx8bnVsbCwkdXNlZF9ib290c3RyYXBfdmFsdWU6IXRoaXMuX2ZsYWdzTG9hZGVkRnJvbVJlbW90ZX0pO3JldHVybiBhfVdlLndhcm4oJ2dldEZlYXR1cmVGbGFnIGZvciBrZXkgXCInK2UrXCJcXFwiIGZhaWxlZC4gRmVhdHVyZSBmbGFncyBkaWRuJ3QgbG9hZCBpbiB0aW1lLlwiKX1nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZSl7cmV0dXJuIHRoaXMuZ2V0RmxhZ1BheWxvYWRzKClbZV19aXNGZWF0dXJlRW5hYmxlZChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYodGhpcy5faGFzTG9hZGVkRmxhZ3N8fHRoaXMuZ2V0RmxhZ3MoKSYmdGhpcy5nZXRGbGFncygpLmxlbmd0aD4wKXJldHVybiEhdGhpcy5nZXRGZWF0dXJlRmxhZyhlLHQpO1dlLndhcm4oJ2lzRmVhdHVyZUVuYWJsZWQgZm9yIGtleSBcIicrZStcIlxcXCIgZmFpbGVkLiBGZWF0dXJlIGZsYWdzIGRpZG4ndCBsb2FkIGluIHRpbWUuXCIpfWFkZEZlYXR1cmVGbGFnc0hhbmRsZXIoZSl7dGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnMucHVzaChlKX1yZW1vdmVGZWF0dXJlRmxhZ3NIYW5kbGVyKGUpe3RoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzPXRoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzLmZpbHRlcigodD0+dCE9PWUpKX1yZWNlaXZlZEZlYXR1cmVGbGFncyhlLHQpe2lmKHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2Upe3RoaXMuX2hhc0xvYWRlZEZsYWdzPSEwO3ZhciBpPXRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCkscj10aGlzLmdldEZsYWdQYXlsb2FkcygpOyFmdW5jdGlvbihlLHQpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxyPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fSxzPWUuZmVhdHVyZUZsYWdzLG49ZS5mZWF0dXJlRmxhZ1BheWxvYWRzO2lmKHMpaWYoQihzKSl7dmFyIG89e307aWYocylmb3IodmFyIGE9MDthPHMubGVuZ3RoO2ErKylvW3NbYV1dPSEwO3QmJnQucmVnaXN0ZXIoe1tWZV06cyxbUGVdOm99KX1lbHNle3ZhciBsPXMsdT1uO2UuZXJyb3JzV2hpbGVDb21wdXRpbmdGbGFncyYmKGw9bmUobmUoe30saSksbCksdT1uZShuZSh7fSxyKSx1KSksdCYmdC5yZWdpc3Rlcih7W1ZlXTpPYmplY3Qua2V5cyhLZShsKSksW1BlXTpsfHx7fSxbSmVdOnV8fHt9fSl9fShlLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UsaSxyKSx0aGlzLl9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKHQpfX1vdmVycmlkZShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO1dlLndhcm4oXCJvdmVycmlkZSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG92ZXJyaWRlRmVhdHVyZUZsYWdzIGluc3RlYWQuXCIpLHRoaXMub3ZlcnJpZGVGZWF0dXJlRmxhZ3Moe2ZsYWdzOmUsc3VwcHJlc3NXYXJuaW5nOnR9KX1vdmVycmlkZUZlYXR1cmVGbGFncyhlKXtpZighdGhpcy5pbnN0YW5jZS5fX2xvYWRlZHx8IXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpcmV0dXJuIFdlLnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5mZWF0dXJlX2ZsYWdzLm92ZXJyaWRlRmVhdHVyZUZsYWdzXCIpO2lmKCExPT09ZSlyZXR1cm4gdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKEdlKSx0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIoWWUpLHZvaWQgdGhpcy5fZmlyZUZlYXR1cmVGbGFnc0NhbGxiYWNrcygpO2lmKGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYoXCJmbGFnc1wiaW4gZXx8XCJwYXlsb2Fkc1wiaW4gZSkpe3ZhciB0LGk9ZTtpZih0aGlzLl9vdmVycmlkZV93YXJuaW5nPUJvb2xlYW4obnVsbCE9PSh0PWkuc3VwcHJlc3NXYXJuaW5nKSYmdm9pZCAwIT09dCYmdCksXCJmbGFnc1wiaW4gaSlpZighMT09PWkuZmxhZ3MpdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKEdlKTtlbHNlIGlmKGkuZmxhZ3MpaWYoQihpLmZsYWdzKSl7Zm9yKHZhciByPXt9LHM9MDtzPGkuZmxhZ3MubGVuZ3RoO3MrKylyW2kuZmxhZ3Nbc11dPSEwO3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tHZV06cn0pfWVsc2UgdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W0dlXTppLmZsYWdzfSk7cmV0dXJuXCJwYXlsb2Fkc1wiaW4gaSYmKCExPT09aS5wYXlsb2Fkcz90aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIoWWUpOmkucGF5bG9hZHMmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tZZV06aS5wYXlsb2Fkc30pKSx2b2lkIHRoaXMuX2ZpcmVGZWF0dXJlRmxhZ3NDYWxsYmFja3MoKX10aGlzLl9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKCl9b25GZWF0dXJlRmxhZ3MoZSl7aWYodGhpcy5hZGRGZWF0dXJlRmxhZ3NIYW5kbGVyKGUpLHRoaXMuX2hhc0xvYWRlZEZsYWdzKXt2YXJ7ZmxhZ3M6dCxmbGFnVmFyaWFudHM6aX09dGhpcy5fcHJlcGFyZUZlYXR1cmVGbGFnc0ZvckNhbGxiYWNrcygpO2UodCxpKX1yZXR1cm4oKT0+dGhpcy5yZW1vdmVGZWF0dXJlRmxhZ3NIYW5kbGVyKGUpfXVwZGF0ZUVhcmx5QWNjZXNzRmVhdHVyZUVucm9sbG1lbnQoZSx0KXt2YXIgaSxyPSh0aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShGZSl8fFtdKS5maW5kKCh0PT50LmZsYWdLZXk9PT1lKSkscz17W1wiJGZlYXR1cmVfZW5yb2xsbWVudC9cIi5jb25jYXQoZSldOnR9LG49eyRmZWF0dXJlX2ZsYWc6ZSwkZmVhdHVyZV9lbnJvbGxtZW50OnQsJHNldDpzfTtyJiYobi4kZWFybHlfYWNjZXNzX2ZlYXR1cmVfbmFtZT1yLm5hbWUpLHRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiRmZWF0dXJlX2Vucm9sbG1lbnRfdXBkYXRlXCIsbiksdGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MocywhMSk7dmFyIG89bmUobmUoe30sdGhpcy5nZXRGbGFnVmFyaWFudHMoKSkse30se1tlXTp0fSk7bnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnJlZ2lzdGVyKHtbVmVdOk9iamVjdC5rZXlzKEtlKG8pKSxbUGVdOm99KSx0aGlzLl9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKCl9Z2V0RWFybHlBY2Nlc3NGZWF0dXJlcyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLGk9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoRmUpO2lmKGkmJiF0KXJldHVybiBlKGkpO3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh7dXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS9lYXJseV9hY2Nlc3NfZmVhdHVyZXMvP3Rva2VuPVwiLmNvbmNhdCh0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbikpLG1ldGhvZDpcIkdFVFwiLGNhbGxiYWNrOnQ9Pnt2YXIgaTtpZih0Lmpzb24pe3ZhciByPXQuanNvbi5lYXJseUFjY2Vzc0ZlYXR1cmVzO3JldHVybiBudWxsPT09KGk9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkucmVnaXN0ZXIoe1tGZV06cn0pLGUocil9fX0pfV9wcmVwYXJlRmVhdHVyZUZsYWdzRm9yQ2FsbGJhY2tzKCl7dmFyIGU9dGhpcy5nZXRGbGFncygpLHQ9dGhpcy5nZXRGbGFnVmFyaWFudHMoKTtyZXR1cm57ZmxhZ3M6ZS5maWx0ZXIoKGU9PnRbZV0pKSxmbGFnVmFyaWFudHM6T2JqZWN0LmtleXModCkuZmlsdGVyKChlPT50W2VdKSkucmVkdWNlKCgoZSxpKT0+KGVbaV09dFtpXSxlKSkse30pfX1fZmlyZUZlYXR1cmVGbGFnc0NhbGxiYWNrcyhlKXt2YXJ7ZmxhZ3M6dCxmbGFnVmFyaWFudHM6aX09dGhpcy5fcHJlcGFyZUZlYXR1cmVGbGFnc0ZvckNhbGxiYWNrcygpO3RoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzLmZvckVhY2goKHI9PnIodCxpLHtlcnJvcnNMb2FkaW5nOmV9KSkpfXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLGk9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoVGUpfHx7fTt0aGlzLmluc3RhbmNlLnJlZ2lzdGVyKHtbVGVdOm5lKG5lKHt9LGkpLGUpfSksdCYmdGhpcy5pbnN0YW5jZS5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1yZXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncygpe3RoaXMuaW5zdGFuY2UudW5yZWdpc3RlcihUZSl9c2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxpPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFJlKXx8e307MCE9PU9iamVjdC5rZXlzKGkpLmxlbmd0aCYmT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgodD0+e2lbdF09bmUobmUoe30saVt0XSksZVt0XSksZGVsZXRlIGVbdF19KSksdGhpcy5pbnN0YW5jZS5yZWdpc3Rlcih7W1JlXTpuZShuZSh7fSxpKSxlKX0pLHQmJnRoaXMuaW5zdGFuY2UucmVsb2FkRmVhdHVyZUZsYWdzKCl9cmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyhlKXtpZihlKXt2YXIgdD10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShSZSl8fHt9O3RoaXMuaW5zdGFuY2UucmVnaXN0ZXIoe1tSZV06bmUobmUoe30sdCkse30se1tlXTp7fX0pfSl9ZWxzZSB0aGlzLmluc3RhbmNlLnVucmVnaXN0ZXIoUmUpfX1NYXRoLnRydW5jfHwoTWF0aC50cnVuYz1mdW5jdGlvbihlKXtyZXR1cm4gZTwwP01hdGguY2VpbChlKTpNYXRoLmZsb29yKGUpfSksTnVtYmVyLmlzSW50ZWdlcnx8KE51bWJlci5pc0ludGVnZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIFkoZSkmJmlzRmluaXRlKGUpJiZNYXRoLmZsb29yKGUpPT09ZX0pO3ZhciBRZT1cIjAxMjM0NTY3ODlhYmNkZWZcIjtjbGFzcyBaZXtjb25zdHJ1Y3RvcihlKXtpZih0aGlzLmJ5dGVzPWUsMTYhPT1lLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFwibm90IDEyOC1iaXQgbGVuZ3RoXCIpfXN0YXRpYyBmcm9tRmllbGRzVjcoZSx0LGkscil7aWYoIU51bWJlci5pc0ludGVnZXIoZSl8fCFOdW1iZXIuaXNJbnRlZ2VyKHQpfHwhTnVtYmVyLmlzSW50ZWdlcihpKXx8IU51bWJlci5pc0ludGVnZXIocil8fGU8MHx8dDwwfHxpPDB8fHI8MHx8ZT4weGZmZmZmZmZmZmZmZnx8dD40MDk1fHxpPjEwNzM3NDE4MjN8fHI+NDI5NDk2NzI5NSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImludmFsaWQgZmllbGQgdmFsdWVcIik7dmFyIHM9bmV3IFVpbnQ4QXJyYXkoMTYpO3JldHVybiBzWzBdPWUvTWF0aC5wb3coMiw0MCksc1sxXT1lL01hdGgucG93KDIsMzIpLHNbMl09ZS9NYXRoLnBvdygyLDI0KSxzWzNdPWUvTWF0aC5wb3coMiwxNiksc1s0XT1lL01hdGgucG93KDIsOCksc1s1XT1lLHNbNl09MTEyfHQ+Pj44LHNbN109dCxzWzhdPTEyOHxpPj4+MjQsc1s5XT1pPj4+MTYsc1sxMF09aT4+Pjgsc1sxMV09aSxzWzEyXT1yPj4+MjQsc1sxM109cj4+PjE2LHNbMTRdPXI+Pj44LHNbMTVdPXIsbmV3IFplKHMpfXRvU3RyaW5nKCl7Zm9yKHZhciBlPVwiXCIsdD0wO3Q8dGhpcy5ieXRlcy5sZW5ndGg7dCsrKWU9ZStRZS5jaGFyQXQodGhpcy5ieXRlc1t0XT4+PjQpK1FlLmNoYXJBdCgxNSZ0aGlzLmJ5dGVzW3RdKSwzIT09dCYmNSE9PXQmJjchPT10JiY5IT09dHx8KGUrPVwiLVwiKTtpZigzNiE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVVVJRHY3IHdhcyBnZW5lcmF0ZWRcIik7cmV0dXJuIGV9Y2xvbmUoKXtyZXR1cm4gbmV3IFplKHRoaXMuYnl0ZXMuc2xpY2UoMCkpfWVxdWFscyhlKXtyZXR1cm4gMD09PXRoaXMuY29tcGFyZVRvKGUpfWNvbXBhcmVUbyhlKXtmb3IodmFyIHQ9MDt0PDE2O3QrKyl7dmFyIGk9dGhpcy5ieXRlc1t0XS1lLmJ5dGVzW3RdO2lmKDAhPT1pKXJldHVybiBNYXRoLnNpZ24oaSl9cmV0dXJuIDB9fWNsYXNzIGV0e2NvbnN0cnVjdG9yKCl7b2UodGhpcyxcInRpbWVzdGFtcFwiLDApLG9lKHRoaXMsXCJjb3VudGVyXCIsMCksb2UodGhpcyxcInJhbmRvbVwiLG5ldyBydCl9Z2VuZXJhdGUoKXt2YXIgZT10aGlzLmdlbmVyYXRlT3JBYm9ydCgpO2lmKHooZSkpe3RoaXMudGltZXN0YW1wPTA7dmFyIHQ9dGhpcy5nZW5lcmF0ZU9yQWJvcnQoKTtpZih6KHQpKXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBnZW5lcmF0ZSBVVUlEIGFmdGVyIHRpbWVzdGFtcCByZXNldFwiKTtyZXR1cm4gdH1yZXR1cm4gZX1nZW5lcmF0ZU9yQWJvcnQoKXt2YXIgZT1EYXRlLm5vdygpO2lmKGU+dGhpcy50aW1lc3RhbXApdGhpcy50aW1lc3RhbXA9ZSx0aGlzLnJlc2V0Q291bnRlcigpO2Vsc2V7aWYoIShlKzFlND50aGlzLnRpbWVzdGFtcCkpcmV0dXJuO3RoaXMuY291bnRlcisrLHRoaXMuY291bnRlcj40Mzk4MDQ2NTExMTAzJiYodGhpcy50aW1lc3RhbXArKyx0aGlzLnJlc2V0Q291bnRlcigpKX1yZXR1cm4gWmUuZnJvbUZpZWxkc1Y3KHRoaXMudGltZXN0YW1wLE1hdGgudHJ1bmModGhpcy5jb3VudGVyL01hdGgucG93KDIsMzApKSx0aGlzLmNvdW50ZXImTWF0aC5wb3coMiwzMCktMSx0aGlzLnJhbmRvbS5uZXh0VWludDMyKCkpfXJlc2V0Q291bnRlcigpe3RoaXMuY291bnRlcj0xMDI0KnRoaXMucmFuZG9tLm5leHRVaW50MzIoKSsoMTAyMyZ0aGlzLnJhbmRvbS5uZXh0VWludDMyKCkpfX12YXIgdHQsaXQ9ZT0+e2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBVVUlEVjdfREVOWV9XRUFLX1JORyYmVVVJRFY3X0RFTllfV0VBS19STkcpdGhyb3cgbmV3IEVycm9yKFwibm8gY3J5cHRvZ3JhcGhpY2FsbHkgc3Ryb25nIFJORyBhdmFpbGFibGVcIik7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XT02NTUzNipNYXRoLnRydW5jKDY1NTM2Kk1hdGgucmFuZG9tKCkpK01hdGgudHJ1bmMoNjU1MzYqTWF0aC5yYW5kb20oKSk7cmV0dXJuIGV9O3QmJiF6KHQuY3J5cHRvKSYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmKGl0PWU9PmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoZSkpO2NsYXNzIHJ0e2NvbnN0cnVjdG9yKCl7b2UodGhpcyxcImJ1ZmZlclwiLG5ldyBVaW50MzJBcnJheSg4KSksb2UodGhpcyxcImN1cnNvclwiLDEvMCl9bmV4dFVpbnQzMigpe3JldHVybiB0aGlzLmN1cnNvcj49dGhpcy5idWZmZXIubGVuZ3RoJiYoaXQodGhpcy5idWZmZXIpLHRoaXMuY3Vyc29yPTApLHRoaXMuYnVmZmVyW3RoaXMuY3Vyc29yKytdfX12YXIgc3Q9KCk9Pm50KCkudG9TdHJpbmcoKSxudD0oKT0+KHR0fHwodHQ9bmV3IGV0KSkuZ2VuZXJhdGUoKSxvdD1cIlRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDAgR01UXCIsYXQ9XCJcIjt2YXIgbHQ9L1thLXowLTldW2EtejAtOS1dK1xcLlthLXpdezIsfSQvaTtmdW5jdGlvbiB1dChlLHQpe2lmKHQpe3ZhciBpPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTphO2lmKGF0KXJldHVybiBhdDtpZighdClyZXR1cm5cIlwiO2lmKFtcImxvY2FsaG9zdFwiLFwiMTI3LjAuMC4xXCJdLmluY2x1ZGVzKGUpKXJldHVyblwiXCI7Zm9yKHZhciBpPWUuc3BsaXQoXCIuXCIpLHI9TWF0aC5taW4oaS5sZW5ndGgsOCkscz1cImRtbl9jaGtfXCIrc3QoKSxuPW5ldyBSZWdFeHAoXCIoXnw7KVxcXFxzKlwiK3MrXCI9MVwiKTshYXQmJnItLTspe3ZhciBvPWkuc2xpY2Uocikuam9pbihcIi5cIiksbD1zK1wiPTE7ZG9tYWluPS5cIitvO3QuY29va2llPWwsbi50ZXN0KHQuY29va2llKSYmKHQuY29va2llPWwrXCI7ZXhwaXJlcz1cIitvdCxhdD1vKX1yZXR1cm4gYXR9KGUpO2lmKCFpKXt2YXIgcj0oZT0+e3ZhciB0PWUubWF0Y2gobHQpO3JldHVybiB0P3RbMF06XCJcIn0pKGUpO3IhPT1pJiZlZS5pbmZvKFwiV2FybmluZzogY29va2llIHN1YmRvbWFpbiBkaXNjb3ZlcnkgbWlzbWF0Y2hcIixyLGkpLGk9cn1yZXR1cm4gaT9cIjsgZG9tYWluPS5cIitpOlwiXCJ9cmV0dXJuXCJcIn12YXIgY3Q9e2lzX3N1cHBvcnRlZDooKT0+ISFhLGVycm9yOmZ1bmN0aW9uKGUpe2VlLmVycm9yKFwiY29va2llU3RvcmUgZXJyb3I6IFwiK2UpfSxnZXQ6ZnVuY3Rpb24oZSl7aWYoYSl7dHJ5e2Zvcih2YXIgdD1lK1wiPVwiLGk9YS5jb29raWUuc3BsaXQoXCI7XCIpLmZpbHRlcigoZT0+ZS5sZW5ndGgpKSxyPTA7cjxpLmxlbmd0aDtyKyspe2Zvcih2YXIgcz1pW3JdO1wiIFwiPT1zLmNoYXJBdCgwKTspcz1zLnN1YnN0cmluZygxLHMubGVuZ3RoKTtpZigwPT09cy5pbmRleE9mKHQpKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQocy5zdWJzdHJpbmcodC5sZW5ndGgscy5sZW5ndGgpKX19Y2F0Y2goZSl7fXJldHVybiBudWxsfX0scGFyc2U6ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e3Q9SlNPTi5wYXJzZShjdC5nZXQoZSkpfHx7fX1jYXRjaChlKXt9cmV0dXJuIHR9LHNldDpmdW5jdGlvbihlLHQsaSxyLHMpe2lmKGEpdHJ5e3ZhciBuPVwiXCIsbz1cIlwiLGw9dXQoYS5sb2NhdGlvbi5ob3N0bmFtZSxyKTtpZihpKXt2YXIgdT1uZXcgRGF0ZTt1LnNldFRpbWUodS5nZXRUaW1lKCkrMjQqaSo2MCo2MCoxZTMpLG49XCI7IGV4cGlyZXM9XCIrdS50b1VUQ1N0cmluZygpfXMmJihvPVwiOyBzZWN1cmVcIik7dmFyIGM9ZStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodCkpK24rXCI7IFNhbWVTaXRlPUxheDsgcGF0aD0vXCIrbCtvO3JldHVybiBjLmxlbmd0aD4zNjg2LjQmJmVlLndhcm4oXCJjb29raWVTdG9yZSB3YXJuaW5nOiBsYXJnZSBjb29raWUsIGxlbj1cIitjLmxlbmd0aCksYS5jb29raWU9YyxjfWNhdGNoKGUpe3JldHVybn19LHJlbW92ZTpmdW5jdGlvbihlLHQpe3RyeXtjdC5zZXQoZSxcIlwiLC0xLHQpfWNhdGNoKGUpe3JldHVybn19fSxkdD1udWxsLGh0PXtpc19zdXBwb3J0ZWQ6ZnVuY3Rpb24oKXtpZighRyhkdCkpcmV0dXJuIGR0O3ZhciBlPSEwO2lmKHoodCkpZT0hMTtlbHNlIHRyeXt2YXIgaT1cIl9fbXBsc3N1cHBvcnRfX1wiO2h0LnNldChpLFwieHl6XCIpLCdcInh5elwiJyE9PWh0LmdldChpKSYmKGU9ITEpLGh0LnJlbW92ZShpKX1jYXRjaCh0KXtlPSExfXJldHVybiBlfHxlZS5lcnJvcihcImxvY2FsU3RvcmFnZSB1bnN1cHBvcnRlZDsgZmFsbGluZyBiYWNrIHRvIGNvb2tpZSBzdG9yZVwiKSxkdD1lLGV9LGVycm9yOmZ1bmN0aW9uKGUpe2VlLmVycm9yKFwibG9jYWxTdG9yYWdlIGVycm9yOiBcIitlKX0sZ2V0OmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKX1jYXRjaChlKXtodC5lcnJvcihlKX1yZXR1cm4gbnVsbH0scGFyc2U6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGh0LmdldChlKSl8fHt9fWNhdGNoKGUpe31yZXR1cm4gbnVsbH0sc2V0OmZ1bmN0aW9uKGUsaSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnNldEl0ZW0oZSxKU09OLnN0cmluZ2lmeShpKSl9Y2F0Y2goZSl7aHQuZXJyb3IoZSl9fSxyZW1vdmU6ZnVuY3Rpb24oZSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSl9Y2F0Y2goZSl7aHQuZXJyb3IoZSl9fX0sX3Q9W1wiZGlzdGluY3RfaWRcIixFZSx4ZSxIZSxCZV0scHQ9bmUobmUoe30saHQpLHt9LHtwYXJzZTpmdW5jdGlvbihlKXt0cnl7dmFyIHQ9e307dHJ5e3Q9Y3QucGFyc2UoZSl8fHt9fWNhdGNoKGUpe312YXIgaT13KHQsSlNPTi5wYXJzZShodC5nZXQoZSl8fFwie31cIikpO3JldHVybiBodC5zZXQoZSxpKSxpfWNhdGNoKGUpe31yZXR1cm4gbnVsbH0sc2V0OmZ1bmN0aW9uKGUsdCxpLHIscyxuKXt0cnl7aHQuc2V0KGUsdCx2b2lkIDAsdm9pZCAwLG4pO3ZhciBvPXt9O190LmZvckVhY2goKGU9Pnt0W2VdJiYob1tlXT10W2VdKX0pKSxPYmplY3Qua2V5cyhvKS5sZW5ndGgmJmN0LnNldChlLG8saSxyLHMsbil9Y2F0Y2goZSl7aHQuZXJyb3IoZSl9fSxyZW1vdmU6ZnVuY3Rpb24oZSxpKXt0cnl7bnVsbD09dHx8dC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKSxjdC5yZW1vdmUoZSxpKX1jYXRjaChlKXtodC5lcnJvcihlKX19fSksdnQ9e30sZ3Q9e2lzX3N1cHBvcnRlZDpmdW5jdGlvbigpe3JldHVybiEwfSxlcnJvcjpmdW5jdGlvbihlKXtlZS5lcnJvcihcIm1lbW9yeVN0b3JhZ2UgZXJyb3I6IFwiK2UpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZ0W2VdfHxudWxsfSxwYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gdnRbZV18fG51bGx9LHNldDpmdW5jdGlvbihlLHQpe3Z0W2VdPXR9LHJlbW92ZTpmdW5jdGlvbihlKXtkZWxldGUgdnRbZV19fSxmdD1udWxsLG10PXtpc19zdXBwb3J0ZWQ6ZnVuY3Rpb24oKXtpZighRyhmdCkpcmV0dXJuIGZ0O2lmKGZ0PSEwLHoodCkpZnQ9ITE7ZWxzZSB0cnl7dmFyIGU9XCJfX3N1cHBvcnRfX1wiO210LnNldChlLFwieHl6XCIpLCdcInh5elwiJyE9PW10LmdldChlKSYmKGZ0PSExKSxtdC5yZW1vdmUoZSl9Y2F0Y2goZSl7ZnQ9ITF9cmV0dXJuIGZ0fSxlcnJvcjpmdW5jdGlvbihlKXtlZS5lcnJvcihcInNlc3Npb25TdG9yYWdlIGVycm9yOiBcIixlKX0sZ2V0OmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGUpfWNhdGNoKGUpe210LmVycm9yKGUpfXJldHVybiBudWxsfSxwYXJzZTpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UobXQuZ2V0KGUpKXx8bnVsbH1jYXRjaChlKXt9cmV0dXJuIG51bGx9LHNldDpmdW5jdGlvbihlLGkpe3RyeXtudWxsPT10fHx0LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oZSxKU09OLnN0cmluZ2lmeShpKSl9Y2F0Y2goZSl7bXQuZXJyb3IoZSl9fSxyZW1vdmU6ZnVuY3Rpb24oZSl7dHJ5e251bGw9PXR8fHQuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShlKX1jYXRjaChlKXttdC5lcnJvcihlKX19fSxidD1bXCJsb2NhbGhvc3RcIixcIjEyNy4wLjAuMVwiXSx5dD1lPT57dmFyIHQ9bnVsbD09YT92b2lkIDA6YS5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4geih0KT9udWxsOih0LmhyZWY9ZSx0KX0sd3Q9ZnVuY3Rpb24oZSl7dmFyIHQsaSxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIiZcIixzPVtdO3JldHVybiB5KGUsKGZ1bmN0aW9uKGUscil7eihlKXx8eihyKXx8XCJ1bmRlZmluZWRcIj09PXJ8fCh0PWVuY29kZVVSSUNvbXBvbmVudCgoZT0+ZSBpbnN0YW5jZW9mIEZpbGUpKGUpP2UubmFtZTplLnRvU3RyaW5nKCkpLGk9ZW5jb2RlVVJJQ29tcG9uZW50KHIpLHNbcy5sZW5ndGhdPWkrXCI9XCIrdCl9KSkscy5qb2luKHIpfSxTdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaSxyPSgoZS5zcGxpdChcIiNcIilbMF18fFwiXCIpLnNwbGl0KFwiP1wiKVsxXXx8XCJcIikuc3BsaXQoXCImXCIpLHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG49cltzXS5zcGxpdChcIj1cIik7aWYoblswXT09PXQpe2k9bjticmVha319aWYoIUIoaSl8fGkubGVuZ3RoPDIpcmV0dXJuXCJcIjt2YXIgbz1pWzFdO3RyeXtvPWRlY29kZVVSSUNvbXBvbmVudChvKX1jYXRjaChlKXtlZS5lcnJvcihcIlNraXBwaW5nIGRlY29kaW5nIGZvciBtYWxmb3JtZWQgcXVlcnkgcGFyYW06IFwiK28pfXJldHVybiBvLnJlcGxhY2UoL1xcKy9nLFwiIFwiKX0sa3Q9ZnVuY3Rpb24oZSx0LGkpe2lmKCFlfHwhdHx8IXQubGVuZ3RoKXJldHVybiBlO2Zvcih2YXIgcj1lLnNwbGl0KFwiI1wiKSxzPXJbMF18fFwiXCIsbj1yWzFdLG89cy5zcGxpdChcIj9cIiksYT1vWzFdLGw9b1swXSx1PShhfHxcIlwiKS5zcGxpdChcIiZcIiksYz1bXSxkPTA7ZDx1Lmxlbmd0aDtkKyspe3ZhciBoPXVbZF0uc3BsaXQoXCI9XCIpO0IoaCkmJih0LmluY2x1ZGVzKGhbMF0pP2MucHVzaChoWzBdK1wiPVwiK2kpOmMucHVzaCh1W2RdKSl9dmFyIF89bDtyZXR1cm4gbnVsbCE9YSYmKF8rPVwiP1wiK2Muam9pbihcIiZcIikpLG51bGwhPW4mJihfKz1cIiNcIituKSxffSxFdD1mdW5jdGlvbihlLHQpe3ZhciBpPWUubWF0Y2gobmV3IFJlZ0V4cCh0K1wiPShbXiZdKilcIikpO3JldHVybiBpP2lbMV06bnVsbH0seHQ9XCJNb2JpbGVcIixJdD1cImlPU1wiLEN0PVwiQW5kcm9pZFwiLFB0PVwiVGFibGV0XCIsRnQ9Q3QrXCIgXCIrUHQsVHQ9XCJpUGFkXCIsUnQ9XCJBcHBsZVwiLCR0PVJ0K1wiIFdhdGNoXCIsT3Q9XCJTYWZhcmlcIixNdD1cIkJsYWNrQmVycnlcIixBdD1cIlNhbXN1bmdcIixMdD1BdCtcIkJyb3dzZXJcIixEdD1BdCtcIiBJbnRlcm5ldFwiLE50PVwiQ2hyb21lXCIscXQ9TnQrXCIgT1NcIixCdD1OdCtcIiBcIitJdCxIdD1cIkludGVybmV0IEV4cGxvcmVyXCIsVXQ9SHQrXCIgXCIreHQsanQ9XCJPcGVyYVwiLHp0PWp0K1wiIE1pbmlcIixXdD1cIkVkZ2VcIixWdD1cIk1pY3Jvc29mdCBcIitXdCxHdD1cIkZpcmVmb3hcIixKdD1HdCtcIiBcIitJdCxZdD1cIk5pbnRlbmRvXCIsS3Q9XCJQbGF5U3RhdGlvblwiLFh0PVwiWGJveFwiLFF0PUN0K1wiIFwiK3h0LFp0PXh0K1wiIFwiK090LGVpPVwiV2luZG93c1wiLHRpPWVpK1wiIFBob25lXCIsaWk9XCJOb2tpYVwiLHJpPVwiT3V5YVwiLHNpPVwiR2VuZXJpY1wiLG5pPXNpK1wiIFwiK3h0LnRvTG93ZXJDYXNlKCksb2k9c2krXCIgXCIrUHQudG9Mb3dlckNhc2UoKSxhaT1cIktvbnF1ZXJvclwiLGxpPVwiKFxcXFxkKyhcXFxcLlxcXFxkKyk/KVwiLHVpPW5ldyBSZWdFeHAoXCJWZXJzaW9uL1wiK2xpKSxjaT1uZXcgUmVnRXhwKFh0LFwiaVwiKSxkaT1uZXcgUmVnRXhwKEt0K1wiIFxcXFx3K1wiLFwiaVwiKSxoaT1uZXcgUmVnRXhwKFl0K1wiIFxcXFx3K1wiLFwiaVwiKSxfaT1uZXcgUmVnRXhwKE10K1wifFBsYXlCb29rfEJCMTBcIixcImlcIikscGk9e1wiTlQzLjUxXCI6XCJOVCAzLjExXCIsXCJOVDQuMFwiOlwiTlQgNC4wXCIsXCI1LjBcIjpcIjIwMDBcIiw1LjE6XCJYUFwiLDUuMjpcIlhQXCIsXCI2LjBcIjpcIlZpc3RhXCIsNi4xOlwiN1wiLDYuMjpcIjhcIiw2LjM6XCI4LjFcIiw2LjQ6XCIxMFwiLFwiMTAuMFwiOlwiMTBcIn07dmFyIHZpPShlLHQpPT50JiYkKHQsUnQpfHxmdW5jdGlvbihlKXtyZXR1cm4gJChlLE90KSYmISQoZSxOdCkmJiEkKGUsQ3QpfShlKSxnaT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fFwiXCIsJChlLFwiIE9QUi9cIikmJiQoZSxcIk1pbmlcIik/enQ6JChlLFwiIE9QUi9cIik/anQ6X2kudGVzdChlKT9NdDokKGUsXCJJRVwiK3h0KXx8JChlLFwiV1BEZXNrdG9wXCIpP1V0OiQoZSxMdCk/RHQ6JChlLFd0KXx8JChlLFwiRWRnL1wiKT9WdDokKGUsXCJGQklPU1wiKT9cIkZhY2Vib29rIFwiK3h0OiQoZSxcIlVDV0VCXCIpfHwkKGUsXCJVQ0Jyb3dzZXJcIik/XCJVQyBCcm93c2VyXCI6JChlLFwiQ3JpT1NcIik/QnQ6JChlLFwiQ3JNb1wiKXx8JChlLE50KT9OdDokKGUsQ3QpJiYkKGUsT3QpP1F0OiQoZSxcIkZ4aU9TXCIpP0p0OiQoZS50b0xvd2VyQ2FzZSgpLGFpLnRvTG93ZXJDYXNlKCkpP2FpOnZpKGUsdCk/JChlLHh0KT9adDpPdDokKGUsR3QpP0d0OiQoZSxcIk1TSUVcIil8fCQoZSxcIlRyaWRlbnQvXCIpP0h0OiQoZSxcIkdlY2tvXCIpP0d0OlwiXCJ9LGZpPXtbVXRdOltuZXcgUmVnRXhwKFwicnY6XCIrbGkpXSxbVnRdOltuZXcgUmVnRXhwKFd0K1wiP1xcXFwvXCIrbGkpXSxbTnRdOltuZXcgUmVnRXhwKFwiKFwiK050K1wifENyTW8pXFxcXC9cIitsaSldLFtCdF06W25ldyBSZWdFeHAoXCJDcmlPU1xcXFwvXCIrbGkpXSxcIlVDIEJyb3dzZXJcIjpbbmV3IFJlZ0V4cChcIihVQ0Jyb3dzZXJ8VUNXRUIpXFxcXC9cIitsaSldLFtPdF06W3VpXSxbWnRdOlt1aV0sW2p0XTpbbmV3IFJlZ0V4cChcIihPcGVyYXxPUFIpXFxcXC9cIitsaSldLFtHdF06W25ldyBSZWdFeHAoR3QrXCJcXFxcL1wiK2xpKV0sW0p0XTpbbmV3IFJlZ0V4cChcIkZ4aU9TXFxcXC9cIitsaSldLFthaV06W25ldyBSZWdFeHAoXCJLb25xdWVyb3JbOi9dP1wiK2xpLFwiaVwiKV0sW010XTpbbmV3IFJlZ0V4cChNdCtcIiBcIitsaSksdWldLFtRdF06W25ldyBSZWdFeHAoXCJhbmRyb2lkXFxcXHNcIitsaSxcImlcIildLFtEdF06W25ldyBSZWdFeHAoTHQrXCJcXFxcL1wiK2xpKV0sW0h0XTpbbmV3IFJlZ0V4cChcIihydjp8TVNJRSApXCIrbGkpXSxNb3ppbGxhOltuZXcgUmVnRXhwKFwicnY6XCIrbGkpXX0sbWk9W1tuZXcgUmVnRXhwKFh0K1wiOyBcIitYdCtcIiAoLio/KVspO11cIixcImlcIiksZT0+W1h0LGUmJmVbMV18fFwiXCJdXSxbbmV3IFJlZ0V4cChZdCxcImlcIiksW1l0LFwiXCJdXSxbbmV3IFJlZ0V4cChLdCxcImlcIiksW0t0LFwiXCJdXSxbX2ksW010LFwiXCJdXSxbbmV3IFJlZ0V4cChlaSxcImlcIiksKGUsdCk9PntpZigvUGhvbmUvLnRlc3QodCl8fC9XUERlc2t0b3AvLnRlc3QodCkpcmV0dXJuW3RpLFwiXCJdO2lmKG5ldyBSZWdFeHAoeHQpLnRlc3QodCkmJiEvSUVNb2JpbGVcXGIvLnRlc3QodCkpcmV0dXJuW2VpK1wiIFwiK3h0LFwiXCJdO3ZhciBpPS9XaW5kb3dzIE5UIChbMC05Ll0rKS9pLmV4ZWModCk7aWYoaSYmaVsxXSl7dmFyIHI9aVsxXSxzPXBpW3JdfHxcIlwiO3JldHVybi9hcm0vaS50ZXN0KHQpJiYocz1cIlJUXCIpLFtlaSxzXX1yZXR1cm5bZWksXCJcIl19XSxbLygoaVBob25lfGlQYWR8aVBvZCkuKj9PUyAoXFxkKylfKFxcZCspXz8oXFxkKyk/fGlQaG9uZSkvLGU9PntpZihlJiZlWzNdKXt2YXIgdD1bZVszXSxlWzRdLGVbNV18fFwiMFwiXTtyZXR1cm5bSXQsdC5qb2luKFwiLlwiKV19cmV0dXJuW0l0LFwiXCJdfV0sWy8od2F0Y2guKlxcLyhcXGQrXFwuXFxkK1xcLlxcZCspfHdhdGNoIG9zLChcXGQrXFwuXFxkKyksKS9pLGU9Pnt2YXIgdD1cIlwiO3JldHVybiBlJiZlLmxlbmd0aD49MyYmKHQ9eihlWzJdKT9lWzNdOmVbMl0pLFtcIndhdGNoT1NcIix0XX1dLFtuZXcgUmVnRXhwKFwiKFwiK0N0K1wiIChcXFxcZCspXFxcXC4oXFxcXGQrKVxcXFwuPyhcXFxcZCspP3xcIitDdCtcIilcIixcImlcIiksZT0+e2lmKGUmJmVbMl0pe3ZhciB0PVtlWzJdLGVbM10sZVs0XXx8XCIwXCJdO3JldHVybltDdCx0LmpvaW4oXCIuXCIpXX1yZXR1cm5bQ3QsXCJcIl19XSxbL01hYyBPUyBYIChcXGQrKVtfLl0oXFxkKylbXy5dPyhcXGQrKT8vaSxlPT57dmFyIHQ9W1wiTWFjIE9TIFhcIixcIlwiXTtpZihlJiZlWzFdKXt2YXIgaT1bZVsxXSxlWzJdLGVbM118fFwiMFwiXTt0WzFdPWkuam9pbihcIi5cIil9cmV0dXJuIHR9XSxbL01hYy9pLFtcIk1hYyBPUyBYXCIsXCJcIl1dLFsvQ3JPUy8sW3F0LFwiXCJdXSxbL0xpbnV4fGRlYmlhbi9pLFtcIkxpbnV4XCIsXCJcIl1dXSxiaT1mdW5jdGlvbihlKXtyZXR1cm4gaGkudGVzdChlKT9ZdDpkaS50ZXN0KGUpP0t0OmNpLnRlc3QoZSk/WHQ6bmV3IFJlZ0V4cChyaSxcImlcIikudGVzdChlKT9yaTpuZXcgUmVnRXhwKFwiKFwiK3RpK1wifFdQRGVza3RvcClcIixcImlcIikudGVzdChlKT90aTovaVBhZC8udGVzdChlKT9UdDovaVBvZC8udGVzdChlKT9cImlQb2QgVG91Y2hcIjovaVBob25lLy50ZXN0KGUpP1wiaVBob25lXCI6Lyh3YXRjaCkoPzogP29zWywvXXxcXGQsXFxkXFwvKVtcXGQuXSsvaS50ZXN0KGUpPyR0Ol9pLnRlc3QoZSk/TXQ6Lyhrb2JvKVxccyhlcmVhZGVyfHRvdWNoKS9pLnRlc3QoZSk/XCJLb2JvXCI6bmV3IFJlZ0V4cChpaSxcImlcIikudGVzdChlKT9paTovKGtmW2Etel17Mn13aXxhZW9bYy1yXXsyfSkoIGJ1aXxcXCkpL2kudGVzdChlKXx8LyhrZlthLXpdKykoIGJ1aXxcXCkpLitzaWxrXFwvL2kudGVzdChlKT9cIktpbmRsZSBGaXJlXCI6LyhBbmRyb2lkfFpURSkvaS50ZXN0KGUpPyFuZXcgUmVnRXhwKHh0KS50ZXN0KGUpfHwvKDkxMzhCfFRCNzgyQnxOZXh1cyBbOTddfHBpeGVsIGN8SFVBV0VJU0hUfEJUVnxub2JsZSBub29rfHNtYXJ0IHVsdHJhIDYpL2kudGVzdChlKT8vcGl4ZWxbXFxkYXhsIF17MSw2fS9pLnRlc3QoZSkmJiEvcGl4ZWwgYy9pLnRlc3QoZSl8fC8oaHVhd2VpbWVkLWFsMDB8dGFoLXxBUEF8U00tRzkyfGk5ODB8enRlfFUzMDRBQSkvaS50ZXN0KGUpfHwvbG15NDd2L2kudGVzdChlKSYmIS9RVEFRWjMvaS50ZXN0KGUpP0N0OkZ0OkN0Om5ldyBSZWdFeHAoXCIocGRhfFwiK3h0K1wiKVwiLFwiaVwiKS50ZXN0KGUpP25pOm5ldyBSZWdFeHAoUHQsXCJpXCIpLnRlc3QoZSkmJiFuZXcgUmVnRXhwKFB0K1wiIHBjXCIsXCJpXCIpLnRlc3QoZSk/b2k6XCJcIn0seWk9XCJodHRwcz86Ly8oLiopXCIsd2k9W1wiZ2NsaWRcIixcImdjbHNyY1wiLFwiZGNsaWRcIixcImdicmFpZFwiLFwid2JyYWlkXCIsXCJmYmNsaWRcIixcIm1zY2xraWRcIixcInR3Y2xpZFwiLFwibGlfZmF0X2lkXCIsXCJpZ3NoaWRcIixcInR0Y2xpZFwiLFwicmR0X2NpZFwiLFwiaXJjbGlkXCIsXCJfa3hcIl0sU2k9UyhbXCJ1dG1fc291cmNlXCIsXCJ1dG1fbWVkaXVtXCIsXCJ1dG1fY2FtcGFpZ25cIixcInV0bV9jb250ZW50XCIsXCJ1dG1fdGVybVwiLFwiZ2FkX3NvdXJjZVwiLFwibWNfY2lkXCJdLHdpKSxraT1cIjxtYXNrZWQ+XCIsRWk9e2NhbXBhaWduUGFyYW1zOmZ1bmN0aW9uKCl7dmFye2N1c3RvbVRyYWNrZWRQYXJhbXM6ZSxtYXNrUGVyc29uYWxEYXRhUHJvcGVydGllczp0LGN1c3RvbVBlcnNvbmFsRGF0YVByb3BlcnRpZXM6aX09YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lmKCFhKXJldHVybnt9O3ZhciByPXQ/UyhbXSx3aSxpfHxbXSk6W107cmV0dXJuIHRoaXMuX2NhbXBhaWduUGFyYW1zRnJvbVVybChrdChhLlVSTCxyLGtpKSxlKX0sX2NhbXBhaWduUGFyYW1zRnJvbVVybDpmdW5jdGlvbihlLHQpe3ZhciBpPVNpLmNvbmNhdCh0fHxbXSkscj17fTtyZXR1cm4geShpLChmdW5jdGlvbih0KXt2YXIgaT1TdChlLHQpO3JbdF09aXx8bnVsbH0pKSxyfSxfc2VhcmNoRW5naW5lOmZ1bmN0aW9uKGUpe3JldHVybiBlPzA9PT1lLnNlYXJjaCh5aStcImdvb2dsZS4oW14vP10qKVwiKT9cImdvb2dsZVwiOjA9PT1lLnNlYXJjaCh5aStcImJpbmcuY29tXCIpP1wiYmluZ1wiOjA9PT1lLnNlYXJjaCh5aStcInlhaG9vLmNvbVwiKT9cInlhaG9vXCI6MD09PWUuc2VhcmNoKHlpK1wiZHVja2R1Y2tnby5jb21cIik/XCJkdWNrZHVja2dvXCI6bnVsbDpudWxsfSxfc2VhcmNoSW5mb0Zyb21SZWZlcnJlcjpmdW5jdGlvbihlKXt2YXIgdD1FaS5fc2VhcmNoRW5naW5lKGUpLGk9XCJ5YWhvb1wiIT10P1wicVwiOlwicFwiLHI9e307aWYoIUcodCkpe3IuJHNlYXJjaF9lbmdpbmU9dDt2YXIgcz1hP1N0KGEucmVmZXJyZXIsaSk6XCJcIjtzLmxlbmd0aCYmKHIucGhfa2V5d29yZD1zKX1yZXR1cm4gcn0sc2VhcmNoSW5mbzpmdW5jdGlvbigpe3ZhciBlPW51bGw9PWE/dm9pZCAwOmEucmVmZXJyZXI7cmV0dXJuIGU/dGhpcy5fc2VhcmNoSW5mb0Zyb21SZWZlcnJlcihlKTp7fX0sYnJvd3NlcjpnaSxicm93c2VyVmVyc2lvbjpmdW5jdGlvbihlLHQpe3ZhciBpPWdpKGUsdCkscj1maVtpXTtpZih6KHIpKXJldHVybiBudWxsO2Zvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbj1yW3NdLG89ZS5tYXRjaChuKTtpZihvKXJldHVybiBwYXJzZUZsb2F0KG9bby5sZW5ndGgtMl0pfXJldHVybiBudWxsfSxicm93c2VyTGFuZ3VhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfSxicm93c2VyTGFuZ3VhZ2VQcmVmaXg6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJyb3dzZXJMYW5ndWFnZSgpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2Uuc3BsaXQoXCItXCIpWzBdOnZvaWQgMH0sb3M6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxtaS5sZW5ndGg7dCsrKXt2YXJbaSxyXT1taVt0XSxzPWkuZXhlYyhlKSxuPXMmJihIKHIpP3IocyxlKTpyKTtpZihuKXJldHVybiBufXJldHVybltcIlwiLFwiXCJdfSxkZXZpY2U6YmksZGV2aWNlVHlwZTpmdW5jdGlvbihlKXt2YXIgdD1iaShlKTtyZXR1cm4gdD09PVR0fHx0PT09RnR8fFwiS29ib1wiPT09dHx8XCJLaW5kbGUgRmlyZVwiPT09dHx8dD09PW9pP1B0OnQ9PT1ZdHx8dD09PVh0fHx0PT09S3R8fHQ9PT1yaT9cIkNvbnNvbGVcIjp0PT09JHQ/XCJXZWFyYWJsZVwiOnQ/eHQ6XCJEZXNrdG9wXCJ9LHJlZmVycmVyOmZ1bmN0aW9uKCl7cmV0dXJuKG51bGw9PWE/dm9pZCAwOmEucmVmZXJyZXIpfHxcIiRkaXJlY3RcIn0scmVmZXJyaW5nRG9tYWluOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIG51bGwhPWEmJmEucmVmZXJyZXImJihudWxsPT09KGU9eXQoYS5yZWZlcnJlcikpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmhvc3QpfHxcIiRkaXJlY3RcIn0scmVmZXJyZXJJbmZvOmZ1bmN0aW9uKCl7cmV0dXJueyRyZWZlcnJlcjp0aGlzLnJlZmVycmVyKCksJHJlZmVycmluZ19kb21haW46dGhpcy5yZWZlcnJpbmdEb21haW4oKX19LGluaXRpYWxQZXJzb25JbmZvOmZ1bmN0aW9uKCl7cmV0dXJue3I6dGhpcy5yZWZlcnJlcigpLnN1YnN0cmluZygwLDFlMyksdTpudWxsPT1sP3ZvaWQgMDpsLmhyZWYuc3Vic3RyaW5nKDAsMWUzKX19LGluaXRpYWxQZXJzb25Qcm9wc0Zyb21JbmZvOmZ1bmN0aW9uKGUpe3ZhciB0LHtyOmksdTpyfT1lLHM9eyRpbml0aWFsX3JlZmVycmVyOmksJGluaXRpYWxfcmVmZXJyaW5nX2RvbWFpbjpudWxsPT1pP3ZvaWQgMDpcIiRkaXJlY3RcIj09aT9cIiRkaXJlY3RcIjpudWxsPT09KHQ9eXQoaSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmhvc3R9O2lmKHIpe3MuJGluaXRpYWxfY3VycmVudF91cmw9cjt2YXIgbj15dChyKTtzLiRpbml0aWFsX2hvc3Q9bnVsbD09bj92b2lkIDA6bi5ob3N0LHMuJGluaXRpYWxfcGF0aG5hbWU9bnVsbD09bj92b2lkIDA6bi5wYXRobmFtZSx5KHRoaXMuX2NhbXBhaWduUGFyYW1zRnJvbVVybChyKSwoZnVuY3Rpb24oZSx0KXtzW1wiJGluaXRpYWxfXCIrTSh0KV09ZX0pKX1pJiZ5KHRoaXMuX3NlYXJjaEluZm9Gcm9tUmVmZXJyZXIoaSksKGZ1bmN0aW9uKGUsdCl7c1tcIiRpbml0aWFsX1wiK00odCldPWV9KSk7cmV0dXJuIHN9LHRpbWV6b25lOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmV9Y2F0Y2goZSl7cmV0dXJufX0sdGltZXpvbmVPZmZzZXQ6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpfWNhdGNoKGUpe3JldHVybn19LHByb3BlcnRpZXM6ZnVuY3Rpb24oKXt2YXJ7bWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6ZSxjdXN0b21QZXJzb25hbERhdGFQcm9wZXJ0aWVzOml9PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZighaClyZXR1cm57fTt2YXIgcj1lP1MoW10sd2ksaXx8W10pOltdLFtzLG5dPUVpLm9zKGgpO3JldHVybiB3KEkoeyRvczpzLCRvc192ZXJzaW9uOm4sJGJyb3dzZXI6RWkuYnJvd3NlcihoLG5hdmlnYXRvci52ZW5kb3IpLCRkZXZpY2U6RWkuZGV2aWNlKGgpLCRkZXZpY2VfdHlwZTpFaS5kZXZpY2VUeXBlKGgpLCR0aW1lem9uZTpFaS50aW1lem9uZSgpLCR0aW1lem9uZV9vZmZzZXQ6RWkudGltZXpvbmVPZmZzZXQoKX0pLHskY3VycmVudF91cmw6a3QobnVsbD09bD92b2lkIDA6bC5ocmVmLHIsa2kpLCRob3N0Om51bGw9PWw/dm9pZCAwOmwuaG9zdCwkcGF0aG5hbWU6bnVsbD09bD92b2lkIDA6bC5wYXRobmFtZSwkcmF3X3VzZXJfYWdlbnQ6aC5sZW5ndGg+MWUzP2guc3Vic3RyaW5nKDAsOTk3KStcIi4uLlwiOmgsJGJyb3dzZXJfdmVyc2lvbjpFaS5icm93c2VyVmVyc2lvbihoLG5hdmlnYXRvci52ZW5kb3IpLCRicm93c2VyX2xhbmd1YWdlOkVpLmJyb3dzZXJMYW5ndWFnZSgpLCRicm93c2VyX2xhbmd1YWdlX3ByZWZpeDpFaS5icm93c2VyTGFuZ3VhZ2VQcmVmaXgoKSwkc2NyZWVuX2hlaWdodDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi5oZWlnaHQsJHNjcmVlbl93aWR0aDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi53aWR0aCwkdmlld3BvcnRfaGVpZ2h0Om51bGw9PXQ/dm9pZCAwOnQuaW5uZXJIZWlnaHQsJHZpZXdwb3J0X3dpZHRoOm51bGw9PXQ/dm9pZCAwOnQuaW5uZXJXaWR0aCwkbGliOlwid2ViXCIsJGxpYl92ZXJzaW9uOnAuTElCX1ZFUlNJT04sJGluc2VydF9pZDpNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxMCkrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTApLCR0aW1lOkRhdGUubm93KCkvMWUzfSl9LHBlb3BsZV9wcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7aWYoIWgpcmV0dXJue307dmFyW2UsdF09RWkub3MoaCk7cmV0dXJuIHcoSSh7JG9zOmUsJG9zX3ZlcnNpb246dCwkYnJvd3NlcjpFaS5icm93c2VyKGgsbmF2aWdhdG9yLnZlbmRvcil9KSx7JGJyb3dzZXJfdmVyc2lvbjpFaS5icm93c2VyVmVyc2lvbihoLG5hdmlnYXRvci52ZW5kb3IpfSl9fSx4aT1bXCJjb29raWVcIixcImxvY2Fsc3RvcmFnZVwiLFwibG9jYWxzdG9yYWdlK2Nvb2tpZVwiLFwic2Vzc2lvbnN0b3JhZ2VcIixcIm1lbW9yeVwiXTtjbGFzcyBJaXtjb25zdHJ1Y3RvcihlKXt0aGlzLmNvbmZpZz1lLHRoaXMucHJvcHM9e30sdGhpcy5jYW1wYWlnbl9wYXJhbXNfc2F2ZWQ9ITEsdGhpcy5uYW1lPShlPT57dmFyIHQ9XCJcIjtyZXR1cm4gZS50b2tlbiYmKHQ9ZS50b2tlbi5yZXBsYWNlKC9cXCsvZyxcIlBMXCIpLnJlcGxhY2UoL1xcLy9nLFwiU0xcIikucmVwbGFjZSgvPS9nLFwiRVFcIikpLGUucGVyc2lzdGVuY2VfbmFtZT9cInBoX1wiK2UucGVyc2lzdGVuY2VfbmFtZTpcInBoX1wiK3QrXCJfcG9zdGhvZ1wifSkoZSksdGhpcy5zdG9yYWdlPXRoaXMuYnVpbGRTdG9yYWdlKGUpLHRoaXMubG9hZCgpLGUuZGVidWcmJmVlLmluZm8oXCJQZXJzaXN0ZW5jZSBsb2FkZWRcIixlLnBlcnNpc3RlbmNlLG5lKHt9LHRoaXMucHJvcHMpKSx0aGlzLnVwZGF0ZV9jb25maWcoZSxlKSx0aGlzLnNhdmUoKX1idWlsZFN0b3JhZ2UoZSl7LTE9PT14aS5pbmRleE9mKGUucGVyc2lzdGVuY2UudG9Mb3dlckNhc2UoKSkmJihlZS5jcml0aWNhbChcIlVua25vd24gcGVyc2lzdGVuY2UgdHlwZSBcIitlLnBlcnNpc3RlbmNlK1wiOyBmYWxsaW5nIGJhY2sgdG8gbG9jYWxTdG9yYWdlK2Nvb2tpZVwiKSxlLnBlcnNpc3RlbmNlPVwibG9jYWxTdG9yYWdlK2Nvb2tpZVwiKTt2YXIgdD1lLnBlcnNpc3RlbmNlLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJsb2NhbHN0b3JhZ2VcIj09PXQmJmh0LmlzX3N1cHBvcnRlZCgpP2h0OlwibG9jYWxzdG9yYWdlK2Nvb2tpZVwiPT09dCYmcHQuaXNfc3VwcG9ydGVkKCk/cHQ6XCJzZXNzaW9uc3RvcmFnZVwiPT09dCYmbXQuaXNfc3VwcG9ydGVkKCk/bXQ6XCJtZW1vcnlcIj09PXQ/Z3Q6XCJjb29raWVcIj09PXQ/Y3Q6cHQuaXNfc3VwcG9ydGVkKCk/cHQ6Y3R9cHJvcGVydGllcygpe3ZhciBlPXt9O3JldHVybiB5KHRoaXMucHJvcHMsKGZ1bmN0aW9uKHQsaSl7aWYoaT09PVBlJiZVKHQpKWZvcih2YXIgcj1PYmplY3Qua2V5cyh0KSxzPTA7czxyLmxlbmd0aDtzKyspZVtcIiRmZWF0dXJlL1wiLmNvbmNhdChyW3NdKV09dFtyW3NdXTtlbHNlIGE9aSxsPSExLChHKG89emUpP2w6biYmby5pbmRleE9mPT09bj8tMSE9by5pbmRleE9mKGEpOih5KG8sKGZ1bmN0aW9uKGUpe2lmKGx8fChsPWU9PT1hKSlyZXR1cm4gbX0pKSxsKSl8fChlW2ldPXQpO3ZhciBvLGEsbH0pKSxlfWxvYWQoKXtpZighdGhpcy5kaXNhYmxlZCl7dmFyIGU9dGhpcy5zdG9yYWdlLnBhcnNlKHRoaXMubmFtZSk7ZSYmKHRoaXMucHJvcHM9dyh7fSxlKSl9fXNhdmUoKXt0aGlzLmRpc2FibGVkfHx0aGlzLnN0b3JhZ2Uuc2V0KHRoaXMubmFtZSx0aGlzLnByb3BzLHRoaXMuZXhwaXJlX2RheXMsdGhpcy5jcm9zc19zdWJkb21haW4sdGhpcy5zZWN1cmUsdGhpcy5jb25maWcuZGVidWcpfXJlbW92ZSgpe3RoaXMuc3RvcmFnZS5yZW1vdmUodGhpcy5uYW1lLCExKSx0aGlzLnN0b3JhZ2UucmVtb3ZlKHRoaXMubmFtZSwhMCl9Y2xlYXIoKXt0aGlzLnJlbW92ZSgpLHRoaXMucHJvcHM9e319cmVnaXN0ZXJfb25jZShlLHQsaSl7aWYoVShlKSl7eih0KSYmKHQ9XCJOb25lXCIpLHRoaXMuZXhwaXJlX2RheXM9eihpKT90aGlzLmRlZmF1bHRfZXhwaXJ5Omk7dmFyIHI9ITE7aWYoeShlLCgoZSxpKT0+e3RoaXMucHJvcHMuaGFzT3duUHJvcGVydHkoaSkmJnRoaXMucHJvcHNbaV0hPT10fHwodGhpcy5wcm9wc1tpXT1lLHI9ITApfSkpLHIpcmV0dXJuIHRoaXMuc2F2ZSgpLCEwfXJldHVybiExfXJlZ2lzdGVyKGUsdCl7aWYoVShlKSl7dGhpcy5leHBpcmVfZGF5cz16KHQpP3RoaXMuZGVmYXVsdF9leHBpcnk6dDt2YXIgaT0hMTtpZih5KGUsKCh0LHIpPT57ZS5oYXNPd25Qcm9wZXJ0eShyKSYmdGhpcy5wcm9wc1tyXSE9PXQmJih0aGlzLnByb3BzW3JdPXQsaT0hMCl9KSksaSlyZXR1cm4gdGhpcy5zYXZlKCksITB9cmV0dXJuITF9dW5yZWdpc3RlcihlKXtlIGluIHRoaXMucHJvcHMmJihkZWxldGUgdGhpcy5wcm9wc1tlXSx0aGlzLnNhdmUoKSl9dXBkYXRlX2NhbXBhaWduX3BhcmFtcygpe2lmKCF0aGlzLmNhbXBhaWduX3BhcmFtc19zYXZlZCl7dmFyIGU9RWkuY2FtcGFpZ25QYXJhbXMoe2N1c3RvbVRyYWNrZWRQYXJhbXM6dGhpcy5jb25maWcuY3VzdG9tX2NhbXBhaWduX3BhcmFtcyxtYXNrUGVyc29uYWxEYXRhUHJvcGVydGllczp0aGlzLmNvbmZpZy5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyxjdXN0b21QZXJzb25hbERhdGFQcm9wZXJ0aWVzOnRoaXMuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXN9KTtqKEkoZSkpfHx0aGlzLnJlZ2lzdGVyKGUpLHRoaXMuY2FtcGFpZ25fcGFyYW1zX3NhdmVkPSEwfX11cGRhdGVfc2VhcmNoX2tleXdvcmQoKXt0aGlzLnJlZ2lzdGVyKEVpLnNlYXJjaEluZm8oKSl9dXBkYXRlX3JlZmVycmVyX2luZm8oKXt0aGlzLnJlZ2lzdGVyX29uY2UoRWkucmVmZXJyZXJJbmZvKCksdm9pZCAwKX1zZXRfaW5pdGlhbF9wZXJzb25faW5mbygpe3RoaXMucHJvcHNbTmVdfHx0aGlzLnByb3BzW3FlXXx8dGhpcy5yZWdpc3Rlcl9vbmNlKHtbQmVdOkVpLmluaXRpYWxQZXJzb25JbmZvKCl9LHZvaWQgMCl9Z2V0X3JlZmVycmVyX2luZm8oKXtyZXR1cm4gSSh7JHJlZmVycmVyOnRoaXMucHJvcHMuJHJlZmVycmVyLCRyZWZlcnJpbmdfZG9tYWluOnRoaXMucHJvcHMuJHJlZmVycmluZ19kb21haW59KX1nZXRfaW5pdGlhbF9wcm9wcygpe3ZhciBlPXt9O3koW3FlLE5lXSwodD0+e3ZhciBpPXRoaXMucHJvcHNbdF07aSYmeShpLChmdW5jdGlvbih0LGkpe2VbXCIkaW5pdGlhbF9cIitNKGkpXT10fSkpfSkpO3ZhciB0PXRoaXMucHJvcHNbQmVdO2lmKHQpe3ZhciBpPUVpLmluaXRpYWxQZXJzb25Qcm9wc0Zyb21JbmZvKHQpO3coZSxpKX1yZXR1cm4gZX1zYWZlX21lcmdlKGUpe3JldHVybiB5KHRoaXMucHJvcHMsKGZ1bmN0aW9uKHQsaSl7aSBpbiBlfHwoZVtpXT10KX0pKSxlfXVwZGF0ZV9jb25maWcoZSx0KXtpZih0aGlzLmRlZmF1bHRfZXhwaXJ5PXRoaXMuZXhwaXJlX2RheXM9ZS5jb29raWVfZXhwaXJhdGlvbix0aGlzLnNldF9kaXNhYmxlZChlLmRpc2FibGVfcGVyc2lzdGVuY2UpLHRoaXMuc2V0X2Nyb3NzX3N1YmRvbWFpbihlLmNyb3NzX3N1YmRvbWFpbl9jb29raWUpLHRoaXMuc2V0X3NlY3VyZShlLnNlY3VyZV9jb29raWUpLGUucGVyc2lzdGVuY2UhPT10LnBlcnNpc3RlbmNlKXt2YXIgaT10aGlzLmJ1aWxkU3RvcmFnZShlKSxyPXRoaXMucHJvcHM7dGhpcy5jbGVhcigpLHRoaXMuc3RvcmFnZT1pLHRoaXMucHJvcHM9cix0aGlzLnNhdmUoKX19c2V0X2Rpc2FibGVkKGUpe3RoaXMuZGlzYWJsZWQ9ZSx0aGlzLmRpc2FibGVkP3RoaXMucmVtb3ZlKCk6dGhpcy5zYXZlKCl9c2V0X2Nyb3NzX3N1YmRvbWFpbihlKXtlIT09dGhpcy5jcm9zc19zdWJkb21haW4mJih0aGlzLmNyb3NzX3N1YmRvbWFpbj1lLHRoaXMucmVtb3ZlKCksdGhpcy5zYXZlKCkpfWdldF9jcm9zc19zdWJkb21haW4oKXtyZXR1cm4hIXRoaXMuY3Jvc3Nfc3ViZG9tYWlufXNldF9zZWN1cmUoZSl7ZSE9PXRoaXMuc2VjdXJlJiYodGhpcy5zZWN1cmU9ZSx0aGlzLnJlbW92ZSgpLHRoaXMuc2F2ZSgpKX1zZXRfZXZlbnRfdGltZXIoZSx0KXt2YXIgaT10aGlzLnByb3BzW2NlXXx8e307aVtlXT10LHRoaXMucHJvcHNbY2VdPWksdGhpcy5zYXZlKCl9cmVtb3ZlX2V2ZW50X3RpbWVyKGUpe3ZhciB0PSh0aGlzLnByb3BzW2NlXXx8e30pW2VdO3JldHVybiB6KHQpfHwoZGVsZXRlIHRoaXMucHJvcHNbY2VdW2VdLHRoaXMuc2F2ZSgpKSx0fWdldF9wcm9wZXJ0eShlKXtyZXR1cm4gdGhpcy5wcm9wc1tlXX1zZXRfcHJvcGVydHkoZSx0KXt0aGlzLnByb3BzW2VdPXQsdGhpcy5zYXZlKCl9fWZ1bmN0aW9uIENpKGUpe3ZhciB0LGk7cmV0dXJuKG51bGw9PT0odD1KU09OLnN0cmluZ2lmeShlLChpPVtdLGZ1bmN0aW9uKGUsdCl7aWYoVSh0KSl7Zm9yKDtpLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdIT09dGhpczspaS5wb3AoKTtyZXR1cm4gaS5pbmNsdWRlcyh0KT9cIltDaXJjdWxhcl1cIjooaS5wdXNoKHQpLHQpfXJldHVybiB0fSkpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5sZW5ndGgpfHwwfWZ1bmN0aW9uIFBpKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo2NjA2MDI4Ljg7aWYoZS5zaXplPj10JiZlLmRhdGEubGVuZ3RoPjEpe3ZhciBpPU1hdGguZmxvb3IoZS5kYXRhLmxlbmd0aC8yKSxyPWUuZGF0YS5zbGljZSgwLGkpLHM9ZS5kYXRhLnNsaWNlKGkpO3JldHVybltQaSh7c2l6ZTpDaShyKSxkYXRhOnIsc2Vzc2lvbklkOmUuc2Vzc2lvbklkLHdpbmRvd0lkOmUud2luZG93SWR9KSxQaSh7c2l6ZTpDaShzKSxkYXRhOnMsc2Vzc2lvbklkOmUuc2Vzc2lvbklkLHdpbmRvd0lkOmUud2luZG93SWR9KV0uZmxhdE1hcCgoZT0+ZSkpfXJldHVybltlXX12YXIgRmk9KGU9PihlW2UuRG9tQ29udGVudExvYWRlZD0wXT1cIkRvbUNvbnRlbnRMb2FkZWRcIixlW2UuTG9hZD0xXT1cIkxvYWRcIixlW2UuRnVsbFNuYXBzaG90PTJdPVwiRnVsbFNuYXBzaG90XCIsZVtlLkluY3JlbWVudGFsU25hcHNob3Q9M109XCJJbmNyZW1lbnRhbFNuYXBzaG90XCIsZVtlLk1ldGE9NF09XCJNZXRhXCIsZVtlLkN1c3RvbT01XT1cIkN1c3RvbVwiLGVbZS5QbHVnaW49Nl09XCJQbHVnaW5cIixlKSkoRml8fHt9KSxUaT0oZT0+KGVbZS5NdXRhdGlvbj0wXT1cIk11dGF0aW9uXCIsZVtlLk1vdXNlTW92ZT0xXT1cIk1vdXNlTW92ZVwiLGVbZS5Nb3VzZUludGVyYWN0aW9uPTJdPVwiTW91c2VJbnRlcmFjdGlvblwiLGVbZS5TY3JvbGw9M109XCJTY3JvbGxcIixlW2UuVmlld3BvcnRSZXNpemU9NF09XCJWaWV3cG9ydFJlc2l6ZVwiLGVbZS5JbnB1dD01XT1cIklucHV0XCIsZVtlLlRvdWNoTW92ZT02XT1cIlRvdWNoTW92ZVwiLGVbZS5NZWRpYUludGVyYWN0aW9uPTddPVwiTWVkaWFJbnRlcmFjdGlvblwiLGVbZS5TdHlsZVNoZWV0UnVsZT04XT1cIlN0eWxlU2hlZXRSdWxlXCIsZVtlLkNhbnZhc011dGF0aW9uPTldPVwiQ2FudmFzTXV0YXRpb25cIixlW2UuRm9udD0xMF09XCJGb250XCIsZVtlLkxvZz0xMV09XCJMb2dcIixlW2UuRHJhZz0xMl09XCJEcmFnXCIsZVtlLlN0eWxlRGVjbGFyYXRpb249MTNdPVwiU3R5bGVEZWNsYXJhdGlvblwiLGVbZS5TZWxlY3Rpb249MTRdPVwiU2VsZWN0aW9uXCIsZVtlLkFkb3B0ZWRTdHlsZVNoZWV0PTE1XT1cIkFkb3B0ZWRTdHlsZVNoZWV0XCIsZVtlLkN1c3RvbUVsZW1lbnQ9MTZdPVwiQ3VzdG9tRWxlbWVudFwiLGUpKShUaXx8e30pO2Z1bmN0aW9uIFJpKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgRWxlbWVudCYmKGUuaWQ9PT1VZXx8IShudWxsPT09KHQ9ZS5jbG9zZXN0KXx8dm9pZCAwPT09dHx8IXQuY2FsbChlLFwiLnRvb2xiYXItZ2xvYmFsLWZhZGUtY29udGFpbmVyXCIpKSl9ZnVuY3Rpb24gJGkoZSl7cmV0dXJuISFlJiYxPT09ZS5ub2RlVHlwZX1mdW5jdGlvbiBPaShlLHQpe3JldHVybiEhZSYmISFlLnRhZ05hbWUmJmUudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIE1pKGUpe3JldHVybiEhZSYmMz09PWUubm9kZVR5cGV9ZnVuY3Rpb24gQWkoZSl7cmV0dXJuISFlJiYxMT09PWUubm9kZVR5cGV9ZnVuY3Rpb24gTGkoZSl7cmV0dXJuIGU/TyhlKS5zcGxpdCgvXFxzKy8pOltdfWZ1bmN0aW9uIERpKGUpe3ZhciBpPW51bGw9PXQ/dm9pZCAwOnQubG9jYXRpb24uaHJlZjtyZXR1cm4hIShpJiZlJiZlLnNvbWUoKGU9PmkubWF0Y2goZSkpKSl9ZnVuY3Rpb24gTmkoZSl7dmFyIHQ9XCJcIjtzd2l0Y2godHlwZW9mIGUuY2xhc3NOYW1lKXtjYXNlXCJzdHJpbmdcIjp0PWUuY2xhc3NOYW1lO2JyZWFrO2Nhc2VcIm9iamVjdFwiOnQ9KGUuY2xhc3NOYW1lJiZcImJhc2VWYWxcImluIGUuY2xhc3NOYW1lP2UuY2xhc3NOYW1lLmJhc2VWYWw6bnVsbCl8fGUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCI7YnJlYWs7ZGVmYXVsdDp0PVwiXCJ9cmV0dXJuIExpKHQpfWZ1bmN0aW9uIHFpKGUpe3JldHVybiBKKGUpP251bGw6TyhlKS5zcGxpdCgvKFxccyspLykuZmlsdGVyKChlPT5aaShlKSkpLmpvaW4oXCJcIikucmVwbGFjZSgvW1xcclxcbl0vZyxcIiBcIikucmVwbGFjZSgvWyBdKy9nLFwiIFwiKS5zdWJzdHJpbmcoMCwyNTUpfWZ1bmN0aW9uIEJpKGUpe3ZhciB0PVwiXCI7cmV0dXJuIFdpKGUpJiYhVmkoZSkmJmUuY2hpbGROb2RlcyYmZS5jaGlsZE5vZGVzLmxlbmd0aCYmeShlLmNoaWxkTm9kZXMsKGZ1bmN0aW9uKGUpe3ZhciBpO01pKGUpJiZlLnRleHRDb250ZW50JiYodCs9bnVsbCE9PShpPXFpKGUudGV4dENvbnRlbnQpKSYmdm9pZCAwIT09aT9pOlwiXCIpfSkpLE8odCl9ZnVuY3Rpb24gSGkoZSl7cmV0dXJuIHooZS50YXJnZXQpP2Uuc3JjRWxlbWVudHx8bnVsbDpudWxsIT09KHQ9ZS50YXJnZXQpJiZ2b2lkIDAhPT10JiZ0LnNoYWRvd1Jvb3Q/ZS5jb21wb3NlZFBhdGgoKVswXXx8bnVsbDplLnRhcmdldHx8bnVsbDt2YXIgdH12YXIgVWk9W1wiYVwiLFwiYnV0dG9uXCIsXCJmb3JtXCIsXCJpbnB1dFwiLFwic2VsZWN0XCIsXCJ0ZXh0YXJlYVwiLFwibGFiZWxcIl07ZnVuY3Rpb24gamkoZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiEoIXR8fCEkaSh0KSkmJnR9ZnVuY3Rpb24gemkoZSxpKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dm9pZCAwLHM9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDAsbj1hcmd1bWVudHMubGVuZ3RoPjQ/YXJndW1lbnRzWzRdOnZvaWQgMDtpZighdHx8IWV8fE9pKGUsXCJodG1sXCIpfHwhJGkoZSkpcmV0dXJuITE7aWYobnVsbCE9ciYmci51cmxfYWxsb3dsaXN0JiYhRGkoci51cmxfYWxsb3dsaXN0KSlyZXR1cm4hMTtpZihudWxsIT1yJiZyLnVybF9pZ25vcmVsaXN0JiZEaShyLnVybF9pZ25vcmVsaXN0KSlyZXR1cm4hMTtpZihudWxsIT1yJiZyLmRvbV9ldmVudF9hbGxvd2xpc3Qpe3ZhciBvPXIuZG9tX2V2ZW50X2FsbG93bGlzdDtpZihvJiYhby5zb21lKChlPT5pLnR5cGU9PT1lKSkpcmV0dXJuITF9Zm9yKHZhciBhPSExLGw9W2VdLHU9ITAsYz1lO2MucGFyZW50Tm9kZSYmIU9pKGMsXCJib2R5XCIpOylpZihBaShjLnBhcmVudE5vZGUpKWwucHVzaChjLnBhcmVudE5vZGUuaG9zdCksYz1jLnBhcmVudE5vZGUuaG9zdDtlbHNle2lmKCEodT1qaShjKSkpYnJlYWs7aWYoc3x8VWkuaW5kZXhPZih1LnRhZ05hbWUudG9Mb3dlckNhc2UoKSk+LTEpYT0hMDtlbHNle3ZhciBkPXQuZ2V0Q29tcHV0ZWRTdHlsZSh1KTtkJiZcInBvaW50ZXJcIj09PWQuZ2V0UHJvcGVydHlWYWx1ZShcImN1cnNvclwiKSYmKGE9ITApfWwucHVzaCh1KSxjPXV9aWYoIWZ1bmN0aW9uKGUsdCl7dmFyIGk9bnVsbD09dD92b2lkIDA6dC5lbGVtZW50X2FsbG93bGlzdDtpZih6KGkpKXJldHVybiEwO3ZhciByPWZ1bmN0aW9uKGUpe2lmKGkuc29tZSgodD0+ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT10KSkpcmV0dXJue3Y6ITB9fTtmb3IodmFyIHMgb2YgZSl7dmFyIG49cihzKTtpZihcIm9iamVjdFwiPT10eXBlb2YgbilyZXR1cm4gbi52fXJldHVybiExfShsLHIpKXJldHVybiExO2lmKCFmdW5jdGlvbihlLHQpe3ZhciBpPW51bGw9PXQ/dm9pZCAwOnQuY3NzX3NlbGVjdG9yX2FsbG93bGlzdDtpZih6KGkpKXJldHVybiEwO3ZhciByPWZ1bmN0aW9uKGUpe2lmKGkuc29tZSgodD0+ZS5tYXRjaGVzKHQpKSkpcmV0dXJue3Y6ITB9fTtmb3IodmFyIHMgb2YgZSl7dmFyIG49cihzKTtpZihcIm9iamVjdFwiPT10eXBlb2YgbilyZXR1cm4gbi52fXJldHVybiExfShsLHIpKXJldHVybiExO3ZhciBoPXQuZ2V0Q29tcHV0ZWRTdHlsZShlKTtpZihoJiZcInBvaW50ZXJcIj09PWguZ2V0UHJvcGVydHlWYWx1ZShcImN1cnNvclwiKSYmXCJjbGlja1wiPT09aS50eXBlKXJldHVybiEwO3ZhciBfPWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3N3aXRjaChfKXtjYXNlXCJodG1sXCI6cmV0dXJuITE7Y2FzZVwiZm9ybVwiOnJldHVybihufHxbXCJzdWJtaXRcIl0pLmluZGV4T2YoaS50eXBlKT49MDtjYXNlXCJpbnB1dFwiOmNhc2VcInNlbGVjdFwiOmNhc2VcInRleHRhcmVhXCI6cmV0dXJuKG58fFtcImNoYW5nZVwiLFwiY2xpY2tcIl0pLmluZGV4T2YoaS50eXBlKT49MDtkZWZhdWx0OnJldHVybiBhPyhufHxbXCJjbGlja1wiXSkuaW5kZXhPZihpLnR5cGUpPj0wOihufHxbXCJjbGlja1wiXSkuaW5kZXhPZihpLnR5cGUpPj0wJiYoVWkuaW5kZXhPZihfKT4tMXx8XCJ0cnVlXCI9PT1lLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl9fWZ1bmN0aW9uIFdpKGUpe2Zvcih2YXIgdD1lO3QucGFyZW50Tm9kZSYmIU9pKHQsXCJib2R5XCIpO3Q9dC5wYXJlbnROb2RlKXt2YXIgaT1OaSh0KTtpZigkKGksXCJwaC1zZW5zaXRpdmVcIil8fCQoaSxcInBoLW5vLWNhcHR1cmVcIikpcmV0dXJuITF9aWYoJChOaShlKSxcInBoLWluY2x1ZGVcIikpcmV0dXJuITA7dmFyIHI9ZS50eXBlfHxcIlwiO2lmKFcocikpc3dpdGNoKHIudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGlkZGVuXCI6Y2FzZVwicGFzc3dvcmRcIjpyZXR1cm4hMX12YXIgcz1lLm5hbWV8fGUuaWR8fFwiXCI7aWYoVyhzKSl7aWYoL15jY3xjYXJkbnVtfGNjbnVtfGNyZWRpdGNhcmR8Y3NjfGN2Y3xjdnZ8ZXhwfHBhc3N8cHdkfHJvdXRpbmd8c2VjY29kZXxzZWN1cml0eWNvZGV8c2VjdXJpdHludW18c29jaWFsc2VjfHNvY3NlY3xzc24vaS50ZXN0KHMucmVwbGFjZSgvW15hLXpBLVowLTldL2csXCJcIikpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIFZpKGUpe3JldHVybiEhKE9pKGUsXCJpbnB1dFwiKSYmIVtcImJ1dHRvblwiLFwiY2hlY2tib3hcIixcInN1Ym1pdFwiLFwicmVzZXRcIl0uaW5jbHVkZXMoZS50eXBlKXx8T2koZSxcInNlbGVjdFwiKXx8T2koZSxcInRleHRhcmVhXCIpfHxcInRydWVcIj09PWUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX12YXIgR2k9XCIoNFswLTldezEyfSg/OlswLTldezN9KT8pfCg1WzEtNV1bMC05XXsxNH0pfCg2KD86MDExfDVbMC05XXsyfSlbMC05XXsxMn0pfCgzWzQ3XVswLTldezEzfSl8KDMoPzowWzAtNV18WzY4XVswLTldKVswLTldezExfSl8KCg/OjIxMzF8MTgwMHwzNVswLTldezN9KVswLTldezExfSlcIixKaT1uZXcgUmVnRXhwKFwiXig/OlwiLmNvbmNhdChHaSxcIikkXCIpKSxZaT1uZXcgUmVnRXhwKEdpKSxLaT1cIlxcXFxkezN9LT9cXFxcZHsyfS0/XFxcXGR7NH1cIixYaT1uZXcgUmVnRXhwKFwiXihcIi5jb25jYXQoS2ksXCIpJFwiKSksUWk9bmV3IFJlZ0V4cChcIihcIi5jb25jYXQoS2ksXCIpXCIpKTtmdW5jdGlvbiBaaShlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO2lmKEooZSkpcmV0dXJuITE7aWYoVyhlKSl7aWYoZT1PKGUpLCh0P0ppOllpKS50ZXN0KChlfHxcIlwiKS5yZXBsYWNlKC9bLSBdL2csXCJcIikpKXJldHVybiExO2lmKCh0P1hpOlFpKS50ZXN0KGUpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGVyKGUpe3ZhciB0PUJpKGUpO3JldHVybiBaaSh0PVwiXCIuY29uY2F0KHQsXCIgXCIpLmNvbmNhdCh0cihlKSkudHJpbSgpKT90OlwiXCJ9ZnVuY3Rpb24gdHIoZSl7dmFyIHQ9XCJcIjtyZXR1cm4gZSYmZS5jaGlsZE5vZGVzJiZlLmNoaWxkTm9kZXMubGVuZ3RoJiZ5KGUuY2hpbGROb2RlcywoZnVuY3Rpb24oZSl7dmFyIGk7aWYoZSYmXCJzcGFuXCI9PT0obnVsbD09PShpPWUudGFnTmFtZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkudG9Mb3dlckNhc2UoKSkpdHJ5e3ZhciByPUJpKGUpO3Q9XCJcIi5jb25jYXQodCxcIiBcIikuY29uY2F0KHIpLnRyaW0oKSxlLmNoaWxkTm9kZXMmJmUuY2hpbGROb2Rlcy5sZW5ndGgmJih0PVwiXCIuY29uY2F0KHQsXCIgXCIpLmNvbmNhdCh0cihlKSkudHJpbSgpKX1jYXRjaChlKXtlZS5lcnJvcihcIltBdXRvQ2FwdHVyZV1cIixlKX19KSksdH1mdW5jdGlvbiBpcihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXAoKGU9Pnt2YXIgdCxpLHI9XCJcIjtpZihlLnRhZ19uYW1lJiYocis9ZS50YWdfbmFtZSksZS5hdHRyX2NsYXNzKWZvcih2YXIgcyBvZihlLmF0dHJfY2xhc3Muc29ydCgpLGUuYXR0cl9jbGFzcykpcis9XCIuXCIuY29uY2F0KHMucmVwbGFjZSgvXCIvZyxcIlwiKSk7dmFyIG49bmUobmUobmUobmUoe30sZS50ZXh0P3t0ZXh0OmUudGV4dH06e30pLHt9LHtcIm50aC1jaGlsZFwiOm51bGwhPT0odD1lLm50aF9jaGlsZCkmJnZvaWQgMCE9PXQ/dDowLFwibnRoLW9mLXR5cGVcIjpudWxsIT09KGk9ZS5udGhfb2ZfdHlwZSkmJnZvaWQgMCE9PWk/aTowfSxlLmhyZWY/e2hyZWY6ZS5ocmVmfTp7fSksZS5hdHRyX2lkP3thdHRyX2lkOmUuYXR0cl9pZH06e30pLGUuYXR0cmlidXRlcyksbz17fTtyZXR1cm4gayhuKS5zb3J0KCgoZSx0KT0+e3ZhcltpXT1lLFtyXT10O3JldHVybiBpLmxvY2FsZUNvbXBhcmUocil9KSkuZm9yRWFjaCgoZT0+e3Zhclt0LGldPWU7cmV0dXJuIG9bcnIodC50b1N0cmluZygpKV09cnIoaS50b1N0cmluZygpKX0pKSxyKz1cIjpcIixyKz1rKG4pLm1hcCgoZT0+e3Zhclt0LGldPWU7cmV0dXJuXCJcIi5jb25jYXQodCwnPVwiJykuY29uY2F0KGksJ1wiJyl9KSkuam9pbihcIlwiKX0pKTtyZXR1cm4gdC5qb2luKFwiO1wiKX0oZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFwKChlPT57dmFyIHQsaSxyPXt0ZXh0Om51bGw9PT0odD1lLiRlbF90ZXh0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5zbGljZSgwLDQwMCksdGFnX25hbWU6ZS50YWdfbmFtZSxocmVmOm51bGw9PT0oaT1lLmF0dHJfX2hyZWYpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnNsaWNlKDAsMjA0OCksYXR0cl9jbGFzczpzcihlKSxhdHRyX2lkOmUuYXR0cl9faWQsbnRoX2NoaWxkOmUubnRoX2NoaWxkLG50aF9vZl90eXBlOmUubnRoX29mX3R5cGUsYXR0cmlidXRlczp7fX07cmV0dXJuIGsoZSkuZmlsdGVyKChlPT57dmFyW3RdPWU7cmV0dXJuIDA9PT10LmluZGV4T2YoXCJhdHRyX19cIil9KSkuZm9yRWFjaCgoZT0+e3Zhclt0LGldPWU7cmV0dXJuIHIuYXR0cmlidXRlc1t0XT1pfSkpLHJ9KSl9KGUpKX1mdW5jdGlvbiBycihlKXtyZXR1cm4gZS5yZXBsYWNlKC9cInxcXFxcXCIvZywnXFxcXFwiJyl9ZnVuY3Rpb24gc3IoZSl7dmFyIHQ9ZS5hdHRyX19jbGFzcztyZXR1cm4gdD9CKHQpP3Q6TGkodCk6dm9pZCAwfXZhciBucj1cIltTZXNzaW9uUmVjb3JkaW5nXVwiLG9yPVwicmVkYWN0ZWRcIixhcj17aW5pdGlhdG9yVHlwZXM6W1wiYXVkaW9cIixcImJlYWNvblwiLFwiYm9keVwiLFwiY3NzXCIsXCJlYXJseS1oaW50XCIsXCJlbWJlZFwiLFwiZmV0Y2hcIixcImZyYW1lXCIsXCJpZnJhbWVcIixcImljb25cIixcImltYWdlXCIsXCJpbWdcIixcImlucHV0XCIsXCJsaW5rXCIsXCJuYXZpZ2F0aW9uXCIsXCJvYmplY3RcIixcInBpbmdcIixcInNjcmlwdFwiLFwidHJhY2tcIixcInZpZGVvXCIsXCJ4bWxodHRwcmVxdWVzdFwiXSxtYXNrUmVxdWVzdEZuOmU9PmUscmVjb3JkSGVhZGVyczohMSxyZWNvcmRCb2R5OiExLHJlY29yZEluaXRpYWxSZXF1ZXN0czohMSxyZWNvcmRQZXJmb3JtYW5jZTohMSxwZXJmb3JtYW5jZUVudHJ5VHlwZVRvT2JzZXJ2ZTpbXCJmaXJzdC1pbnB1dFwiLFwibmF2aWdhdGlvblwiLFwicGFpbnRcIixcInJlc291cmNlXCJdLHBheWxvYWRTaXplTGltaXRCeXRlczoxZTYscGF5bG9hZEhvc3REZW55TGlzdDpbXCIubHItaW5nZXN0LmlvXCIsXCIuaW5nZXN0LnNlbnRyeS5pb1wiLFwiLmNsYXJpdHkubXNcIixcImFuYWx5dGljcy5nb29nbGUuY29tXCJdfSxscj1bXCJhdXRob3JpemF0aW9uXCIsXCJ4LWZvcndhcmRlZC1mb3JcIixcImF1dGhvcml6YXRpb25cIixcImNvb2tpZVwiLFwic2V0LWNvb2tpZVwiLFwieC1hcGkta2V5XCIsXCJ4LXJlYWwtaXBcIixcInJlbW90ZS1hZGRyXCIsXCJmb3J3YXJkZWRcIixcInByb3h5LWF1dGhvcml6YXRpb25cIixcIngtY3NyZi10b2tlblwiLFwieC1jc3JmdG9rZW5cIixcIngteHNyZi10b2tlblwiXSx1cj1bXCJwYXNzd29yZFwiLFwic2VjcmV0XCIsXCJwYXNzd2RcIixcImFwaV9rZXlcIixcImFwaWtleVwiLFwiYXV0aFwiLFwiY3JlZGVudGlhbHNcIixcIm15c3FsX3B3ZFwiLFwicHJpdmF0ZWtleVwiLFwicHJpdmF0ZV9rZXlcIixcInRva2VuXCJdLGNyPVtcIi9zL1wiLFwiL2UvXCIsXCIvaS9cIl07ZnVuY3Rpb24gZHIoZSx0LGkscil7aWYoSihlKSlyZXR1cm4gZTt2YXIgcz0obnVsbD09dD92b2lkIDA6dFtcImNvbnRlbnQtbGVuZ3RoXCJdKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBCbG9iKFtlXSkuc2l6ZX0oZSk7cmV0dXJuIFcocykmJihzPXBhcnNlSW50KHMpKSxzPmk/bnIrXCIgXCIuY29uY2F0KHIsXCIgYm9keSB0b28gbGFyZ2UgdG8gcmVjb3JkIChcIikuY29uY2F0KHMsXCIgYnl0ZXMpXCIpOmV9ZnVuY3Rpb24gaHIoZSx0KXtpZihKKGUpKXJldHVybiBlO3ZhciBpPWU7cmV0dXJuIFppKGksITEpfHwoaT1ucitcIiBcIit0K1wiIGJvZHkgXCIrb3IpLHkodXIsKGU9Pnt2YXIgcixzO251bGwhPT0ocj1pKSYmdm9pZCAwIT09ciYmci5sZW5ndGgmJi0xIT09KG51bGw9PT0ocz1pKXx8dm9pZCAwPT09cz92b2lkIDA6cy5pbmRleE9mKGUpKSYmKGk9bnIrXCIgXCIrdCtcIiBib2R5IFwiK29yK1wiIGFzIG1pZ2h0IGNvbnRhaW46IFwiK2UpfSkpLGl9dmFyIF9yPShlLHQpPT57dmFyIGkscixzLG49e3BheWxvYWRTaXplTGltaXRCeXRlczphci5wYXlsb2FkU2l6ZUxpbWl0Qnl0ZXMscGVyZm9ybWFuY2VFbnRyeVR5cGVUb09ic2VydmU6Wy4uLmFyLnBlcmZvcm1hbmNlRW50cnlUeXBlVG9PYnNlcnZlXSxwYXlsb2FkSG9zdERlbnlMaXN0OlsuLi50LnBheWxvYWRIb3N0RGVueUxpc3R8fFtdLC4uLmFyLnBheWxvYWRIb3N0RGVueUxpc3RdfSxvPSExIT09ZS5zZXNzaW9uX3JlY29yZGluZy5yZWNvcmRIZWFkZXJzJiZ0LnJlY29yZEhlYWRlcnMsYT0hMSE9PWUuc2Vzc2lvbl9yZWNvcmRpbmcucmVjb3JkQm9keSYmdC5yZWNvcmRCb2R5LGw9ITEhPT1lLmNhcHR1cmVfcGVyZm9ybWFuY2UmJnQucmVjb3JkUGVyZm9ybWFuY2UsdT0oaT1uLHM9TWF0aC5taW4oMWU2LG51bGwhPT0ocj1pLnBheWxvYWRTaXplTGltaXRCeXRlcykmJnZvaWQgMCE9PXI/cjoxZTYpLGU9PihudWxsIT1lJiZlLnJlcXVlc3RCb2R5JiYoZS5yZXF1ZXN0Qm9keT1kcihlLnJlcXVlc3RCb2R5LGUucmVxdWVzdEhlYWRlcnMscyxcIlJlcXVlc3RcIikpLG51bGwhPWUmJmUucmVzcG9uc2VCb2R5JiYoZS5yZXNwb25zZUJvZHk9ZHIoZS5yZXNwb25zZUJvZHksZS5yZXNwb25zZUhlYWRlcnMscyxcIlJlc3BvbnNlXCIpKSxlKSksYz10PT57cmV0dXJuIHUoKChlLHQpPT57dmFyIGkscj15dChlLm5hbWUpLHM9MD09PXQuaW5kZXhPZihcImh0dHBcIik/bnVsbD09PShpPXl0KHQpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5wYXRobmFtZTp0O1wiL1wiPT09cyYmKHM9XCJcIik7dmFyIG49bnVsbD09cj92b2lkIDA6ci5wYXRobmFtZS5yZXBsYWNlKHN8fFwiXCIsXCJcIik7aWYoIShyJiZuJiZjci5zb21lKChlPT4wPT09bi5pbmRleE9mKGUpKSkpKXJldHVybiBlfSkoKHI9KGk9dCkucmVxdWVzdEhlYWRlcnMsSihyKXx8eShPYmplY3Qua2V5cyhudWxsIT1yP3I6e30pLChlPT57bHIuaW5jbHVkZXMoZS50b0xvd2VyQ2FzZSgpKSYmKHJbZV09b3IpfSkpLGkpLGUuYXBpX2hvc3QpKTt2YXIgaSxyfSxkPUgoZS5zZXNzaW9uX3JlY29yZGluZy5tYXNrTmV0d29ya1JlcXVlc3RGbik7cmV0dXJuIGQmJkgoZS5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuKSYmZWUud2FybihcIkJvdGggYG1hc2tOZXR3b3JrUmVxdWVzdEZuYCBhbmQgYG1hc2tDYXB0dXJlZE5ldHdvcmtSZXF1ZXN0Rm5gIGFyZSBkZWZpbmVkLiBgbWFza05ldHdvcmtSZXF1ZXN0Rm5gIHdpbGwgYmUgaWdub3JlZC5cIiksZCYmKGUuc2Vzc2lvbl9yZWNvcmRpbmcubWFza0NhcHR1cmVkTmV0d29ya1JlcXVlc3RGbj10PT57dmFyIGk9ZS5zZXNzaW9uX3JlY29yZGluZy5tYXNrTmV0d29ya1JlcXVlc3RGbih7dXJsOnQubmFtZX0pO3JldHVybiBuZShuZSh7fSx0KSx7fSx7bmFtZTpudWxsPT1pP3ZvaWQgMDppLnVybH0pfSksbi5tYXNrUmVxdWVzdEZuPUgoZS5zZXNzaW9uX3JlY29yZGluZy5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuKT90PT57dmFyIGkscixzLG49Yyh0KTtyZXR1cm4gbiYmbnVsbCE9PShpPW51bGw9PT0ocj0ocz1lLnNlc3Npb25fcmVjb3JkaW5nKS5tYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuKXx8dm9pZCAwPT09cj92b2lkIDA6ci5jYWxsKHMsbikpJiZ2b2lkIDAhPT1pP2k6dm9pZCAwfTplPT5mdW5jdGlvbihlKXtpZigheihlKSlyZXR1cm4gZS5yZXF1ZXN0Qm9keT1ocihlLnJlcXVlc3RCb2R5LFwiUmVxdWVzdFwiKSxlLnJlc3BvbnNlQm9keT1ocihlLnJlc3BvbnNlQm9keSxcIlJlc3BvbnNlXCIpLGV9KGMoZSkpLG5lKG5lKG5lKHt9LGFyKSxuKSx7fSx7cmVjb3JkSGVhZGVyczpvLHJlY29yZEJvZHk6YSxyZWNvcmRQZXJmb3JtYW5jZTpsLHJlY29yZEluaXRpYWxSZXF1ZXN0czpsfSl9O2Z1bmN0aW9uIHByKGUsdCxpLHIscyl7cmV0dXJuIHQ+aSYmKGVlLndhcm4oXCJtaW4gY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiBtYXguXCIpLHQ9aSksWShlKT9lPmk/KHImJmVlLndhcm4ocitcIiBjYW5ub3QgYmUgIGdyZWF0ZXIgdGhhbiBtYXg6IFwiK2krXCIuIFVzaW5nIG1heCB2YWx1ZSBpbnN0ZWFkLlwiKSxpKTplPHQ/KHImJmVlLndhcm4ocitcIiBjYW5ub3QgYmUgbGVzcyB0aGFuIG1pbjogXCIrdCtcIi4gVXNpbmcgbWluIHZhbHVlIGluc3RlYWQuXCIpLHQpOmU6KHImJmVlLndhcm4ocitcIiBtdXN0IGJlIGEgbnVtYmVyLiB1c2luZyBtYXggb3IgZmFsbGJhY2suIG1heDogXCIraStcIiwgZmFsbGJhY2s6IFwiK3MpLHByKHN8fGksdCxpLHIpKX1jbGFzcyB2cntjb25zdHJ1Y3RvcihlKXt2YXIgdCxpLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O29lKHRoaXMsXCJidWNrZXRTaXplXCIsMTAwKSxvZSh0aGlzLFwicmVmaWxsUmF0ZVwiLDEwKSxvZSh0aGlzLFwibXV0YXRpb25CdWNrZXRzXCIse30pLG9lKHRoaXMsXCJsb2dnZWRUcmFja2VyXCIse30pLG9lKHRoaXMsXCJyZWZpbGxCdWNrZXRzXCIsKCgpPT57T2JqZWN0LmtleXModGhpcy5tdXRhdGlvbkJ1Y2tldHMpLmZvckVhY2goKGU9Pnt0aGlzLm11dGF0aW9uQnVja2V0c1tlXT10aGlzLm11dGF0aW9uQnVja2V0c1tlXSt0aGlzLnJlZmlsbFJhdGUsdGhpcy5tdXRhdGlvbkJ1Y2tldHNbZV0+PXRoaXMuYnVja2V0U2l6ZSYmZGVsZXRlIHRoaXMubXV0YXRpb25CdWNrZXRzW2VdfSkpfSkpLG9lKHRoaXMsXCJnZXROb2RlT3JSZWxldmFudFBhcmVudFwiLChlPT57dmFyIHQ9dGhpcy5ycndlYi5taXJyb3IuZ2V0Tm9kZShlKTtpZihcInN2Z1wiIT09KG51bGw9PXQ/dm9pZCAwOnQubm9kZU5hbWUpJiZ0IGluc3RhbmNlb2YgRWxlbWVudCl7dmFyIGk9dC5jbG9zZXN0KFwic3ZnXCIpO2lmKGkpcmV0dXJuW3RoaXMucnJ3ZWIubWlycm9yLmdldElkKGkpLGldfXJldHVybltlLHRdfSkpLG9lKHRoaXMsXCJudW1iZXJPZkNoYW5nZXNcIiwoZT0+e3ZhciB0LGkscixzLG4sbyxhLGw7cmV0dXJuKG51bGwhPT0odD1udWxsPT09KGk9ZS5yZW1vdmVzKXx8dm9pZCAwPT09aT92b2lkIDA6aS5sZW5ndGgpJiZ2b2lkIDAhPT10P3Q6MCkrKG51bGwhPT0ocj1udWxsPT09KHM9ZS5hdHRyaWJ1dGVzKXx8dm9pZCAwPT09cz92b2lkIDA6cy5sZW5ndGgpJiZ2b2lkIDAhPT1yP3I6MCkrKG51bGwhPT0obj1udWxsPT09KG89ZS50ZXh0cyl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubGVuZ3RoKSYmdm9pZCAwIT09bj9uOjApKyhudWxsIT09KGE9bnVsbD09PShsPWUuYWRkcyl8fHZvaWQgMD09PWw/dm9pZCAwOmwubGVuZ3RoKSYmdm9pZCAwIT09YT9hOjApfSkpLG9lKHRoaXMsXCJ0aHJvdHRsZU11dGF0aW9uc1wiLChlPT57aWYoMyE9PWUudHlwZXx8MCE9PWUuZGF0YS5zb3VyY2UpcmV0dXJuIGU7dmFyIHQ9ZS5kYXRhLGk9dGhpcy5udW1iZXJPZkNoYW5nZXModCk7dC5hdHRyaWJ1dGVzJiYodC5hdHRyaWJ1dGVzPXQuYXR0cmlidXRlcy5maWx0ZXIoKGU9Pnt2YXIgdCxpLHIsW3Msbl09dGhpcy5nZXROb2RlT3JSZWxldmFudFBhcmVudChlLmlkKTtpZigwPT09dGhpcy5tdXRhdGlvbkJ1Y2tldHNbc10pcmV0dXJuITE7KHRoaXMubXV0YXRpb25CdWNrZXRzW3NdPW51bGwhPT0odD10aGlzLm11dGF0aW9uQnVja2V0c1tzXSkmJnZvaWQgMCE9PXQ/dDp0aGlzLmJ1Y2tldFNpemUsdGhpcy5tdXRhdGlvbkJ1Y2tldHNbc109TWF0aC5tYXgodGhpcy5tdXRhdGlvbkJ1Y2tldHNbc10tMSwwKSwwPT09dGhpcy5tdXRhdGlvbkJ1Y2tldHNbc10pJiYodGhpcy5sb2dnZWRUcmFja2VyW3NdfHwodGhpcy5sb2dnZWRUcmFja2VyW3NdPSEwLG51bGw9PT0oaT0ocj10aGlzLm9wdGlvbnMpLm9uQmxvY2tlZE5vZGUpfHx2b2lkIDA9PT1pfHxpLmNhbGwocixzLG4pKSk7cmV0dXJuIGV9KSkpO3ZhciByPXRoaXMubnVtYmVyT2ZDaGFuZ2VzKHQpO3JldHVybiAwIT09cnx8aT09PXI/ZTp2b2lkIDB9KSksdGhpcy5ycndlYj1lLHRoaXMub3B0aW9ucz1yLHRoaXMucmVmaWxsUmF0ZT1wcihudWxsIT09KHQ9dGhpcy5vcHRpb25zLnJlZmlsbFJhdGUpJiZ2b2lkIDAhPT10P3Q6dGhpcy5yZWZpbGxSYXRlLDAsMTAwLFwibXV0YXRpb24gdGhyb3R0bGluZyByZWZpbGwgcmF0ZVwiKSx0aGlzLmJ1Y2tldFNpemU9cHIobnVsbCE9PShpPXRoaXMub3B0aW9ucy5idWNrZXRTaXplKSYmdm9pZCAwIT09aT9pOnRoaXMuYnVja2V0U2l6ZSwwLDEwMCxcIm11dGF0aW9uIHRocm90dGxpbmcgYnVja2V0IHNpemVcIiksc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5yZWZpbGxCdWNrZXRzKCl9KSwxZTMpfX12YXIgZ3I9VWludDhBcnJheSxmcj1VaW50MTZBcnJheSxtcj1VaW50MzJBcnJheSxicj1uZXcgZ3IoWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMCwwLDAsMF0pLHlyPW5ldyBncihbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSx3cj1uZXcgZ3IoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxTcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1uZXcgZnIoMzEpLHI9MDtyPDMxOysrcilpW3JdPXQrPTE8PGVbci0xXTt2YXIgcz1uZXcgbXIoaVszMF0pO2ZvcihyPTE7cjwzMDsrK3IpZm9yKHZhciBuPWlbcl07bjxpW3IrMV07KytuKXNbbl09bi1pW3JdPDw1fHI7cmV0dXJuW2ksc119LGtyPVNyKGJyLDIpLEVyPWtyWzBdLHhyPWtyWzFdO0VyWzI4XT0yNTgseHJbMjU4XT0yODtmb3IodmFyIElyPVNyKHlyLDApWzFdLENyPW5ldyBmcigzMjc2OCksUHI9MDtQcjwzMjc2ODsrK1ByKXt2YXIgRnI9KDQzNjkwJlByKT4+PjF8KDIxODQ1JlByKTw8MTtGcj0oNjE2ODAmKEZyPSg1MjQyOCZGcik+Pj4yfCgxMzEwNyZGcik8PDIpKT4+PjR8KDM4NTUmRnIpPDw0LENyW1ByXT0oKDY1MjgwJkZyKT4+Pjh8KDI1NSZGcik8PDgpPj4+MX12YXIgVHI9ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgcj1lLmxlbmd0aCxzPTAsbj1uZXcgZnIodCk7czxyOysrcykrK25bZVtzXS0xXTt2YXIgbyxhPW5ldyBmcih0KTtmb3Iocz0wO3M8dDsrK3MpYVtzXT1hW3MtMV0rbltzLTFdPDwxO2lmKGkpe289bmV3IGZyKDE8PHQpO3ZhciBsPTE1LXQ7Zm9yKHM9MDtzPHI7KytzKWlmKGVbc10pZm9yKHZhciB1PXM8PDR8ZVtzXSxjPXQtZVtzXSxkPWFbZVtzXS0xXSsrPDxjLGg9ZHwoMTw8YyktMTtkPD1oOysrZClvW0NyW2RdPj4+bF09dX1lbHNlIGZvcihvPW5ldyBmcihyKSxzPTA7czxyOysrcylvW3NdPUNyW2FbZVtzXS0xXSsrXT4+PjE1LWVbc107cmV0dXJuIG99LFJyPW5ldyBncigyODgpO2ZvcihQcj0wO1ByPDE0NDsrK1ByKVJyW1ByXT04O2ZvcihQcj0xNDQ7UHI8MjU2OysrUHIpUnJbUHJdPTk7Zm9yKFByPTI1NjtQcjwyODA7KytQcilScltQcl09Nztmb3IoUHI9MjgwO1ByPDI4ODsrK1ByKVJyW1ByXT04O3ZhciAkcj1uZXcgZ3IoMzIpO2ZvcihQcj0wO1ByPDMyOysrUHIpJHJbUHJdPTU7dmFyIE9yPVRyKFJyLDksMCksTXI9VHIoJHIsNSwwKSxBcj1mdW5jdGlvbihlKXtyZXR1cm4oZS84Pj4wKSsoNyZlJiYxKX0sTHI9ZnVuY3Rpb24oZSx0LGkpeyhudWxsPT1pfHxpPmUubGVuZ3RoKSYmKGk9ZS5sZW5ndGgpO3ZhciByPW5ldyhlIGluc3RhbmNlb2YgZnI/ZnI6ZSBpbnN0YW5jZW9mIG1yP21yOmdyKShpLXQpO3JldHVybiByLnNldChlLnN1YmFycmF5KHQsaSkpLHJ9LERyPWZ1bmN0aW9uKGUsdCxpKXtpPDw9NyZ0O3ZhciByPXQvOD4+MDtlW3JdfD1pLGVbcisxXXw9aT4+Pjh9LE5yPWZ1bmN0aW9uKGUsdCxpKXtpPDw9NyZ0O3ZhciByPXQvOD4+MDtlW3JdfD1pLGVbcisxXXw9aT4+PjgsZVtyKzJdfD1pPj4+MTZ9LHFyPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPVtdLHI9MDtyPGUubGVuZ3RoOysrcillW3JdJiZpLnB1c2goe3M6cixmOmVbcl19KTt2YXIgcz1pLmxlbmd0aCxuPWkuc2xpY2UoKTtpZighcylyZXR1cm5bbmV3IGdyKDApLDBdO2lmKDE9PXMpe3ZhciBvPW5ldyBncihpWzBdLnMrMSk7cmV0dXJuIG9baVswXS5zXT0xLFtvLDFdfWkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5mLXQuZn0pKSxpLnB1c2goe3M6LTEsZjoyNTAwMX0pO3ZhciBhPWlbMF0sbD1pWzFdLHU9MCxjPTEsZD0yO2ZvcihpWzBdPXtzOi0xLGY6YS5mK2wuZixsOmEscjpsfTtjIT1zLTE7KWE9aVtpW3VdLmY8aVtkXS5mP3UrKzpkKytdLGw9aVt1IT1jJiZpW3VdLmY8aVtkXS5mP3UrKzpkKytdLGlbYysrXT17czotMSxmOmEuZitsLmYsbDphLHI6bH07dmFyIGg9blswXS5zO2ZvcihyPTE7cjxzOysrciluW3JdLnM+aCYmKGg9bltyXS5zKTt2YXIgXz1uZXcgZnIoaCsxKSxwPUJyKGlbYy0xXSxfLDApO2lmKHA+dCl7cj0wO3ZhciB2PTAsZz1wLXQsZj0xPDxnO2ZvcihuLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9bdC5zXS1fW2Uuc118fGUuZi10LmZ9KSk7cjxzOysrcil7dmFyIG09bltyXS5zO2lmKCEoX1ttXT50KSlicmVhazt2Kz1mLSgxPDxwLV9bbV0pLF9bbV09dH1mb3Iodj4+Pj1nO3Y+MDspe3ZhciBiPW5bcl0ucztfW2JdPHQ/di09MTw8dC1fW2JdKystMTorK3J9Zm9yKDtyPj0wJiZ2Oy0tcil7dmFyIHk9bltyXS5zO19beV09PXQmJigtLV9beV0sKyt2KX1wPXR9cmV0dXJuW25ldyBncihfKSxwXX0sQnI9ZnVuY3Rpb24oZSx0LGkpe3JldHVybi0xPT1lLnM/TWF0aC5tYXgoQnIoZS5sLHQsaSsxKSxCcihlLnIsdCxpKzEpKTp0W2Uuc109aX0sSHI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoO3QmJiFlWy0tdF07KTtmb3IodmFyIGk9bmV3IGZyKCsrdCkscj0wLHM9ZVswXSxuPTEsbz1mdW5jdGlvbihlKXtpW3IrK109ZX0sYT0xO2E8PXQ7KythKWlmKGVbYV09PXMmJmEhPXQpKytuO2Vsc2V7aWYoIXMmJm4+Mil7Zm9yKDtuPjEzODtuLT0xMzgpbygzMjc1NCk7bj4yJiYobyhuPjEwP24tMTE8PDV8Mjg2OTA6bi0zPDw1fDEyMzA1KSxuPTApfWVsc2UgaWYobj4zKXtmb3IobyhzKSwtLW47bj42O24tPTYpbyg4MzA0KTtuPjImJihvKG4tMzw8NXw4MjA4KSxuPTApfWZvcig7bi0tOylvKHMpO249MSxzPWVbYV19cmV0dXJuW2kuc3ViYXJyYXkoMCxyKSx0XX0sVXI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9MCxyPTA7cjx0Lmxlbmd0aDsrK3IpaSs9ZVtyXSp0W3JdO3JldHVybiBpfSxqcj1mdW5jdGlvbihlLHQsaSl7dmFyIHI9aS5sZW5ndGgscz1Bcih0KzIpO2Vbc109MjU1JnIsZVtzKzFdPXI+Pj44LGVbcysyXT0yNTVeZVtzXSxlW3MrM109MjU1XmVbcysxXTtmb3IodmFyIG49MDtuPHI7KytuKWVbcytuKzRdPWlbbl07cmV0dXJuIDgqKHMrNCtyKX0senI9ZnVuY3Rpb24oZSx0LGkscixzLG4sbyxhLGwsdSxjKXtEcih0LGMrKyxpKSwrK3NbMjU2XTtmb3IodmFyIGQ9cXIocywxNSksaD1kWzBdLF89ZFsxXSxwPXFyKG4sMTUpLHY9cFswXSxnPXBbMV0sZj1IcihoKSxtPWZbMF0sYj1mWzFdLHk9SHIodiksdz15WzBdLFM9eVsxXSxrPW5ldyBmcigxOSksRT0wO0U8bS5sZW5ndGg7KytFKWtbMzEmbVtFXV0rKztmb3IoRT0wO0U8dy5sZW5ndGg7KytFKWtbMzEmd1tFXV0rKztmb3IodmFyIHg9cXIoayw3KSxJPXhbMF0sQz14WzFdLFA9MTk7UD40JiYhSVt3cltQLTFdXTstLVApO3ZhciBGLFQsUiwkLE89dSs1PDwzLE09VXIocyxScikrVXIobiwkcikrbyxBPVVyKHMsaCkrVXIobix2KStvKzE0KzMqUCtVcihrLEkpKygyKmtbMTZdKzMqa1sxN10rNyprWzE4XSk7aWYoTzw9TSYmTzw9QSlyZXR1cm4ganIodCxjLGUuc3ViYXJyYXkobCxsK3UpKTtpZihEcih0LGMsMSsoQTxNKSksYys9MixBPE0pe0Y9VHIoaCxfLDApLFQ9aCxSPVRyKHYsZywwKSwkPXY7dmFyIEw9VHIoSSxDLDApO0RyKHQsYyxiLTI1NyksRHIodCxjKzUsUy0xKSxEcih0LGMrMTAsUC00KSxjKz0xNDtmb3IoRT0wO0U8UDsrK0UpRHIodCxjKzMqRSxJW3dyW0VdXSk7Yys9MypQO2Zvcih2YXIgRD1bbSx3XSxOPTA7TjwyOysrTil7dmFyIHE9RFtOXTtmb3IoRT0wO0U8cS5sZW5ndGg7KytFKXt2YXIgQj0zMSZxW0VdO0RyKHQsYyxMW0JdKSxjKz1JW0JdLEI+MTUmJihEcih0LGMscVtFXT4+PjUmMTI3KSxjKz1xW0VdPj4+MTIpfX19ZWxzZSBGPU9yLFQ9UnIsUj1NciwkPSRyO2ZvcihFPTA7RTxhOysrRSlpZihyW0VdPjI1NSl7Qj1yW0VdPj4+MTgmMzE7TnIodCxjLEZbQisyNTddKSxjKz1UW0IrMjU3XSxCPjcmJihEcih0LGMscltFXT4+PjIzJjMxKSxjKz1icltCXSk7dmFyIEg9MzEmcltFXTtOcih0LGMsUltIXSksYys9JFtIXSxIPjMmJihOcih0LGMscltFXT4+PjUmODE5MSksYys9eXJbSF0pfWVsc2UgTnIodCxjLEZbcltFXV0pLGMrPVRbcltFXV07cmV0dXJuIE5yKHQsYyxGWzI1Nl0pLGMrVFsyNTZdfSxXcj1uZXcgbXIoWzY1NTQwLDEzMTA4MCwxMzEwODgsMTMxMTA0LDI2MjE3NiwxMDQ4NzA0LDEwNDg4MzIsMjExNDU2MCwyMTE3NjMyXSksVnI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IG1yKDI1NiksdD0wO3Q8MjU2OysrdCl7Zm9yKHZhciBpPXQscj05Oy0tcjspaT0oMSZpJiYzOTg4MjkyMzg0KV5pPj4+MTtlW3RdPWl9cmV0dXJuIGV9KCksR3I9ZnVuY3Rpb24oKXt2YXIgZT00Mjk0OTY3Mjk1O3JldHVybntwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1lLHI9MDtyPHQubGVuZ3RoOysrcilpPVZyWzI1NSZpXnRbcl1dXmk+Pj44O2U9aX0sZDpmdW5jdGlvbigpe3JldHVybiA0Mjk0OTY3Mjk1XmV9fX0sSnI9ZnVuY3Rpb24oZSx0LGkscixzKXtyZXR1cm4gZnVuY3Rpb24oZSx0LGkscixzLG4pe3ZhciBvPWUubGVuZ3RoLGE9bmV3IGdyKHIrbys1KigxK01hdGguZmxvb3Ioby83ZTMpKStzKSxsPWEuc3ViYXJyYXkocixhLmxlbmd0aC1zKSx1PTA7aWYoIXR8fG88OClmb3IodmFyIGM9MDtjPD1vO2MrPTY1NTM1KXt2YXIgZD1jKzY1NTM1O2Q8bz91PWpyKGwsdSxlLnN1YmFycmF5KGMsZCkpOihsW2NdPW4sdT1qcihsLHUsZS5zdWJhcnJheShjLG8pKSl9ZWxzZXtmb3IodmFyIGg9V3JbdC0xXSxfPWg+Pj4xMyxwPTgxOTEmaCx2PSgxPDxpKS0xLGc9bmV3IGZyKDMyNzY4KSxmPW5ldyBmcih2KzEpLG09TWF0aC5jZWlsKGkvMyksYj0yKm0seT1mdW5jdGlvbih0KXtyZXR1cm4oZVt0XV5lW3QrMV08PG1eZVt0KzJdPDxiKSZ2fSx3PW5ldyBtcigyNWUzKSxTPW5ldyBmcigyODgpLGs9bmV3IGZyKDMyKSxFPTAseD0wLEk9KGM9MCwwKSxDPTAsUD0wO2M8bzsrK2Mpe3ZhciBGPXkoYyksVD0zMjc2NyZjLFI9ZltGXTtpZihnW1RdPVIsZltGXT1ULEM8PWMpe3ZhciAkPW8tYztpZigoRT43ZTN8fEk+MjQ1NzYpJiYkPjQyMyl7dT16cihlLGwsMCx3LFMsayx4LEksUCxjLVAsdSksST1FPXg9MCxQPWM7Zm9yKHZhciBPPTA7TzwyODY7KytPKVNbT109MDtmb3IoTz0wO088MzA7KytPKWtbT109MH12YXIgTT0yLEE9MCxMPXAsRD1ULVImMzI3Njc7aWYoJD4yJiZGPT15KGMtRCkpZm9yKHZhciBOPU1hdGgubWluKF8sJCktMSxxPU1hdGgubWluKDMyNzY3LGMpLEI9TWF0aC5taW4oMjU4LCQpO0Q8PXEmJi0tTCYmVCE9Ujspe2lmKGVbYytNXT09ZVtjK00tRF0pe2Zvcih2YXIgSD0wO0g8QiYmZVtjK0hdPT1lW2MrSC1EXTsrK0gpO2lmKEg+TSl7aWYoTT1ILEE9RCxIPk4pYnJlYWs7dmFyIFU9TWF0aC5taW4oRCxILTIpLGo9MDtmb3IoTz0wO088VTsrK08pe3ZhciB6PWMtRCtPKzMyNzY4JjMyNzY3LFc9ei1nW3pdKzMyNzY4JjMyNzY3O1c+aiYmKGo9VyxSPXopfX19RCs9KFQ9UiktKFI9Z1tUXSkrMzI3NjgmMzI3Njd9aWYoQSl7d1tJKytdPTI2ODQzNTQ1Nnx4cltNXTw8MTh8SXJbQV07dmFyIFY9MzEmeHJbTV0sRz0zMSZJcltBXTt4Kz1icltWXSt5cltHXSwrK1NbMjU3K1ZdLCsra1tHXSxDPWMrTSwrK0V9ZWxzZSB3W0krK109ZVtjXSwrK1NbZVtjXV19fXU9enIoZSxsLG4sdyxTLGsseCxJLFAsYy1QLHUpfXJldHVybiBMcihhLDAscitBcih1KStzKX0oZSxudWxsPT10LmxldmVsPzY6dC5sZXZlbCxudWxsPT10Lm1lbT9NYXRoLmNlaWwoMS41Kk1hdGgubWF4KDgsTWF0aC5taW4oMTMsTWF0aC5sb2coZS5sZW5ndGgpKSkpOjEyK3QubWVtLGksciwhcyl9LFlyPWZ1bmN0aW9uKGUsdCxpKXtmb3IoO2k7Kyt0KWVbdF09aSxpPj4+PTh9LEtyPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dC5maWxlbmFtZTtpZihlWzBdPTMxLGVbMV09MTM5LGVbMl09OCxlWzhdPXQubGV2ZWw8Mj80Ojk9PXQubGV2ZWw/MjowLGVbOV09MywwIT10Lm10aW1lJiZZcihlLDQsTWF0aC5mbG9vcihuZXcgRGF0ZSh0Lm10aW1lfHxEYXRlLm5vdygpKS8xZTMpKSxpKXtlWzNdPTg7Zm9yKHZhciByPTA7cjw9aS5sZW5ndGg7KytyKWVbcisxMF09aS5jaGFyQ29kZUF0KHIpfX0sWHI9ZnVuY3Rpb24oZSl7cmV0dXJuIDEwKyhlLmZpbGVuYW1lJiZlLmZpbGVuYW1lLmxlbmd0aCsxfHwwKX07ZnVuY3Rpb24gUXIoZSx0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGk9R3IoKSxyPWUubGVuZ3RoO2kucChlKTt2YXIgcz1KcihlLHQsWHIodCksOCksbj1zLmxlbmd0aDtyZXR1cm4gS3Iocyx0KSxZcihzLG4tOCxpLmQoKSksWXIocyxuLTQsciksc31mdW5jdGlvbiBacihlLHQpe3ZhciBpPWUubGVuZ3RoO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBUZXh0RW5jb2RlcilyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSk7Zm9yKHZhciByPW5ldyBncihlLmxlbmd0aCsoZS5sZW5ndGg+Pj4xKSkscz0wLG49ZnVuY3Rpb24oZSl7cltzKytdPWV9LG89MDtvPGk7KytvKXtpZihzKzU+ci5sZW5ndGgpe3ZhciBhPW5ldyBncihzKzgrKGktbzw8MSkpO2Euc2V0KHIpLHI9YX12YXIgbD1lLmNoYXJDb2RlQXQobyk7bDwxMjh8fHQ/bihsKTpsPDIwNDg/KG4oMTkyfGw+Pj42KSxuKDEyOHw2MyZsKSk6bD41NTI5NSYmbDw1NzM0ND8obigyNDB8KGw9NjU1MzYrKDEwNDc1NTImbCl8MTAyMyZlLmNoYXJDb2RlQXQoKytvKSk+Pj4xOCksbigxMjh8bD4+PjEyJjYzKSxuKDEyOHxsPj4+NiY2MyksbigxMjh8NjMmbCkpOihuKDIyNHxsPj4+MTIpLG4oMTI4fGw+Pj42JjYzKSxuKDEyOHw2MyZsKSl9cmV0dXJuIExyKHIsMCxzKX1mdW5jdGlvbiBlcyhlLHQpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxpPTA7aTxlLmxlbmd0aDtpKyspdD0odDw8NSktdCtlLmNoYXJDb2RlQXQoaSksdHw9MDtyZXR1cm4gTWF0aC5hYnModCl9KGUpJTEwMDxwcigxMDAqdCwwLDEwMCl9dmFyIHRzPVwiW1Nlc3Npb25SZWNvcmRpbmddXCIsaXM9dGUodHMpLHJzPTNlNSxzcz1bVGkuTW91c2VNb3ZlLFRpLk1vdXNlSW50ZXJhY3Rpb24sVGkuU2Nyb2xsLFRpLlZpZXdwb3J0UmVzaXplLFRpLklucHV0LFRpLlRvdWNoTW92ZSxUaS5NZWRpYUludGVyYWN0aW9uLFRpLkRyYWddLG5zPWU9Pih7cnJ3ZWJNZXRob2Q6ZSxlbnF1ZXVlZEF0OkRhdGUubm93KCksYXR0ZW1wdDoxfSk7ZnVuY3Rpb24gb3MoZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPVwiXCIscj0wO3I8ZS5sZW5ndGg7KXt2YXIgcz1lW3IrK107czwxMjh8fHQ/aSs9U3RyaW5nLmZyb21DaGFyQ29kZShzKTpzPDIyND9pKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgzMSZzKTw8Nnw2MyZlW3IrK10pOnM8MjQwP2krPVN0cmluZy5mcm9tQ2hhckNvZGUoKDE1JnMpPDwxMnwoNjMmZVtyKytdKTw8Nnw2MyZlW3IrK10pOihzPSgoMTUmcyk8PDE4fCg2MyZlW3IrK10pPDwxMnwoNjMmZVtyKytdKTw8Nnw2MyZlW3IrK10pLTY1NTM2LGkrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8cz4+MTAsNTYzMjB8MTAyMyZzKSl9cmV0dXJuIGl9KFFyKFpyKEpTT04uc3RyaW5naWZ5KGUpKSksITApfWZ1bmN0aW9uIGFzKGUpe3JldHVybiBlLnR5cGU9PT1GaS5DdXN0b20mJlwic2Vzc2lvbklkbGVcIj09PWUuZGF0YS50YWd9ZnVuY3Rpb24gbHMoZSx0KXtyZXR1cm4gdC5zb21lKCh0PT5cInJlZ2V4XCI9PT10Lm1hdGNoaW5nJiZuZXcgUmVnRXhwKHQudXJsKS50ZXN0KGUpKSl9Y2xhc3MgdXN7Z2V0IHNlc3Npb25JZGxlVGhyZXNob2xkTWlsbGlzZWNvbmRzKCl7cmV0dXJuIHRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nLnNlc3Npb25faWRsZV90aHJlc2hvbGRfbXN8fDNlNX1nZXQgcnJ3ZWJSZWNvcmQoKXt2YXIgZSx0O3JldHVybiBudWxsPT1ffHxudWxsPT09KGU9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZS5ycndlYil8fHZvaWQgMD09PXQ/dm9pZCAwOnQucmVjb3JkfWdldCBzdGFydGVkKCl7cmV0dXJuIHRoaXMuX2NhcHR1cmVTdGFydGVkfWdldCBzZXNzaW9uTWFuYWdlcigpe2lmKCF0aGlzLmluc3RhbmNlLnNlc3Npb25NYW5hZ2VyKXRocm93IG5ldyBFcnJvcih0cytcIiBtdXN0IGJlIHN0YXJ0ZWQgd2l0aCBhIHZhbGlkIHNlc3Npb25NYW5hZ2VyLlwiKTtyZXR1cm4gdGhpcy5pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcn1nZXQgZnVsbFNuYXBzaG90SW50ZXJ2YWxNaWxsaXMoKXt2YXIgZSx0O3JldHVyblwidHJpZ2dlcl9wZW5kaW5nXCI9PT10aGlzLnRyaWdnZXJTdGF0dXM/NmU0Om51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmZ1bGxfc25hcHNob3RfaW50ZXJ2YWxfbWlsbGlzKSYmdm9pZCAwIT09ZT9lOnJzfWdldCBpc1NhbXBsZWQoKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eSh4ZSk7cmV0dXJuIEsoZSk/ZTpudWxsfWdldCBzZXNzaW9uRHVyYXRpb24oKXt2YXIgZSx0LGk9bnVsbD09PShlPXRoaXMuYnVmZmVyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5kYXRhWyhudWxsPT09KHQ9dGhpcy5idWZmZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmRhdGEubGVuZ3RoKS0xXSx7c2Vzc2lvblN0YXJ0VGltZXN0YW1wOnJ9PXRoaXMuc2Vzc2lvbk1hbmFnZXIuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoITApO3JldHVybiBpP2kudGltZXN0YW1wLXI6bnVsbH1nZXQgaXNSZWNvcmRpbmdFbmFibGVkKCl7dmFyIGU9ISF0aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShmZSksaT0hdGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZztyZXR1cm4gdCYmZSYmaX1nZXQgaXNDb25zb2xlTG9nQ2FwdHVyZUVuYWJsZWQoKXt2YXIgZT0hIXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KG1lKSx0PXRoaXMuaW5zdGFuY2UuY29uZmlnLmVuYWJsZV9yZWNvcmRpbmdfY29uc29sZV9sb2c7cmV0dXJuIG51bGwhPXQ/dDplfWdldCBjYW52YXNSZWNvcmRpbmcoKXt2YXIgZSx0LGkscixzLG4sbz10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5jYXB0dXJlQ2FudmFzLGE9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoeWUpLGw9bnVsbCE9PShlPW51bGwhPT0odD1udWxsPT1vP3ZvaWQgMDpvLnJlY29yZENhbnZhcykmJnZvaWQgMCE9PXQ/dDpudWxsPT1hP3ZvaWQgMDphLmVuYWJsZWQpJiZ2b2lkIDAhPT1lJiZlLHU9bnVsbCE9PShpPW51bGwhPT0ocj1udWxsPT1vP3ZvaWQgMDpvLmNhbnZhc0ZwcykmJnZvaWQgMCE9PXI/cjpudWxsPT1hP3ZvaWQgMDphLmZwcykmJnZvaWQgMCE9PWk/aTowLGM9bnVsbCE9PShzPW51bGwhPT0obj1udWxsPT1vP3ZvaWQgMDpvLmNhbnZhc1F1YWxpdHkpJiZ2b2lkIDAhPT1uP246bnVsbD09YT92b2lkIDA6YS5xdWFsaXR5KSYmdm9pZCAwIT09cz9zOjA7cmV0dXJue2VuYWJsZWQ6bCxmcHM6cHIodSwwLDEyLFwiY2FudmFzIHJlY29yZGluZyBmcHNcIikscXVhbGl0eTpwcihjLDAsMSxcImNhbnZhcyByZWNvcmRpbmcgcXVhbGl0eVwiKX19Z2V0IG5ldHdvcmtQYXlsb2FkQ2FwdHVyZSgpe3ZhciBlLHQsaT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShiZSkscj17cmVjb3JkSGVhZGVyczpudWxsPT09KGU9dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnJlY29yZEhlYWRlcnMscmVjb3JkQm9keTpudWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnJlY29yZEJvZHl9LHM9KG51bGw9PXI/dm9pZCAwOnIucmVjb3JkSGVhZGVycyl8fChudWxsPT1pP3ZvaWQgMDppLnJlY29yZEhlYWRlcnMpLG49KG51bGw9PXI/dm9pZCAwOnIucmVjb3JkQm9keSl8fChudWxsPT1pP3ZvaWQgMDppLnJlY29yZEJvZHkpLG89VSh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLm5ldHdvcmtfdGltaW5nOnRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UsYT0hIShLKG8pP286bnVsbD09aT92b2lkIDA6aS5jYXB0dXJlUGVyZm9ybWFuY2UpO3JldHVybiBzfHxufHxhP3tyZWNvcmRIZWFkZXJzOnMscmVjb3JkQm9keTpuLHJlY29yZFBlcmZvcm1hbmNlOmF9OnZvaWQgMH1nZXQgc2FtcGxlUmF0ZSgpe3ZhciBlPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHdlKTtyZXR1cm4gWShlKT9lOm51bGx9Z2V0IG1pbmltdW1EdXJhdGlvbigpe3ZhciBlPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFNlKTtyZXR1cm4gWShlKT9lOm51bGx9Z2V0IHN0YXR1cygpe3JldHVybiB0aGlzLnJlY2VpdmVkRGVjaWRlP3RoaXMuaXNSZWNvcmRpbmdFbmFibGVkPyExPT09dGhpcy5pc1NhbXBsZWQ/XCJkaXNhYmxlZFwiOnRoaXMuX3VybEJsb2NrZWQ/XCJwYXVzZWRcIjpKKHRoaXMuX2xpbmtlZEZsYWcpfHx0aGlzLl9saW5rZWRGbGFnU2Vlbj9cInRyaWdnZXJfcGVuZGluZ1wiPT09dGhpcy50cmlnZ2VyU3RhdHVzP1wiYnVmZmVyaW5nXCI6Syh0aGlzLmlzU2FtcGxlZCk/dGhpcy5pc1NhbXBsZWQ/XCJzYW1wbGVkXCI6XCJkaXNhYmxlZFwiOlwiYWN0aXZlXCI6XCJidWZmZXJpbmdcIjpcImRpc2FibGVkXCI6XCJidWZmZXJpbmdcIn1nZXQgdXJsVHJpZ2dlclN0YXR1cygpe3ZhciBlO3JldHVybiAwPT09dGhpcy5fdXJsVHJpZ2dlcnMubGVuZ3RoP1widHJpZ2dlcl9kaXNhYmxlZFwiOihudWxsPT09KGU9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0X3Byb3BlcnR5KEllKSk9PT10aGlzLnNlc3Npb25JZD9cInRyaWdnZXJfYWN0aXZhdGVkXCI6XCJ0cmlnZ2VyX3BlbmRpbmdcIn1nZXQgZXZlbnRUcmlnZ2VyU3RhdHVzKCl7dmFyIGU7cmV0dXJuIDA9PT10aGlzLl9ldmVudFRyaWdnZXJzLmxlbmd0aD9cInRyaWdnZXJfZGlzYWJsZWRcIjoobnVsbD09PShlPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldF9wcm9wZXJ0eShDZSkpPT09dGhpcy5zZXNzaW9uSWQ/XCJ0cmlnZ2VyX2FjdGl2YXRlZFwiOlwidHJpZ2dlcl9wZW5kaW5nXCJ9Z2V0IHRyaWdnZXJTdGF0dXMoKXt2YXIgZT1cInRyaWdnZXJfYWN0aXZhdGVkXCI9PT10aGlzLmV2ZW50VHJpZ2dlclN0YXR1c3x8XCJ0cmlnZ2VyX2FjdGl2YXRlZFwiPT09dGhpcy51cmxUcmlnZ2VyU3RhdHVzLHQ9XCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMuZXZlbnRUcmlnZ2VyU3RhdHVzfHxcInRyaWdnZXJfcGVuZGluZ1wiPT09dGhpcy51cmxUcmlnZ2VyU3RhdHVzO3JldHVybiBlP1widHJpZ2dlcl9hY3RpdmF0ZWRcIjp0P1widHJpZ2dlcl9wZW5kaW5nXCI6XCJ0cmlnZ2VyX2Rpc2FibGVkXCJ9Y29uc3RydWN0b3IoZSl7aWYob2UodGhpcyxcInF1ZXVlZFJSV2ViRXZlbnRzXCIsW10pLG9lKHRoaXMsXCJpc0lkbGVcIiwhMSksb2UodGhpcyxcIl9saW5rZWRGbGFnU2VlblwiLCExKSxvZSh0aGlzLFwiX2xhc3RBY3Rpdml0eVRpbWVzdGFtcFwiLERhdGUubm93KCkpLG9lKHRoaXMsXCJfbGlua2VkRmxhZ1wiLG51bGwpLG9lKHRoaXMsXCJfcmVtb3ZlUGFnZVZpZXdDYXB0dXJlSG9va1wiLHZvaWQgMCksb2UodGhpcyxcIl9vblNlc3Npb25JZExpc3RlbmVyXCIsdm9pZCAwKSxvZSh0aGlzLFwiX3BlcnNpc3REZWNpZGVPblNlc3Npb25MaXN0ZW5lclwiLHZvaWQgMCksb2UodGhpcyxcIl9zYW1wbGluZ1Nlc3Npb25MaXN0ZW5lclwiLHZvaWQgMCksb2UodGhpcyxcIl91cmxUcmlnZ2Vyc1wiLFtdKSxvZSh0aGlzLFwiX3VybEJsb2NrbGlzdFwiLFtdKSxvZSh0aGlzLFwiX3VybEJsb2NrZWRcIiwhMSksb2UodGhpcyxcIl9ldmVudFRyaWdnZXJzXCIsW10pLG9lKHRoaXMsXCJfcmVtb3ZlRXZlbnRUcmlnZ2VyQ2FwdHVyZUhvb2tcIix2b2lkIDApLG9lKHRoaXMsXCJfZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlXCIsITEpLG9lKHRoaXMsXCJfb25CZWZvcmVVbmxvYWRcIiwoKCk9Pnt0aGlzLl9mbHVzaEJ1ZmZlcigpfSkpLG9lKHRoaXMsXCJfb25PZmZsaW5lXCIsKCgpPT57dGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJicm93c2VyIG9mZmxpbmVcIix7fSl9KSksb2UodGhpcyxcIl9vbk9ubGluZVwiLCgoKT0+e3RoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiYnJvd3NlciBvbmxpbmVcIix7fSl9KSksb2UodGhpcyxcIl9vblZpc2liaWxpdHlDaGFuZ2VcIiwoKCk9PntpZihudWxsIT1hJiZhLnZpc2liaWxpdHlTdGF0ZSl7dmFyIGU9XCJ3aW5kb3cgXCIrYS52aXNpYmlsaXR5U3RhdGU7dGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoZSx7fSl9fSkpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9jYXB0dXJlU3RhcnRlZD0hMSx0aGlzLl9lbmRwb2ludD1cIi9zL1wiLHRoaXMuc3RvcFJyd2ViPXZvaWQgMCx0aGlzLnJlY2VpdmVkRGVjaWRlPSExLCF0aGlzLmluc3RhbmNlLnNlc3Npb25NYW5hZ2VyKXRocm93IGlzLmVycm9yKFwic3RhcnRlZCB3aXRob3V0IHZhbGlkIHNlc3Npb25NYW5hZ2VyXCIpLG5ldyBFcnJvcih0cytcIiBzdGFydGVkIHdpdGhvdXQgdmFsaWQgc2Vzc2lvbk1hbmFnZXIuIFRoaXMgaXMgYSBidWcuXCIpO2lmKHRoaXMuaW5zdGFuY2UuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcih0cytcIiBjYW5ub3QgYmUgdXNlZCB3aXRoIF9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlLlwiKTt2YXJ7c2Vzc2lvbklkOnQsd2luZG93SWQ6aX09dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpO3RoaXMuc2Vzc2lvbklkPXQsdGhpcy53aW5kb3dJZD1pLHRoaXMuYnVmZmVyPXRoaXMuY2xlYXJCdWZmZXIoKSx0aGlzLnNlc3Npb25JZGxlVGhyZXNob2xkTWlsbGlzZWNvbmRzPj10aGlzLnNlc3Npb25NYW5hZ2VyLnNlc3Npb25UaW1lb3V0TXMmJmlzLndhcm4oXCJzZXNzaW9uX2lkbGVfdGhyZXNob2xkX21zIChcIi5jb25jYXQodGhpcy5zZXNzaW9uSWRsZVRocmVzaG9sZE1pbGxpc2Vjb25kcyxcIikgaXMgZ3JlYXRlciB0aGFuIHRoZSBzZXNzaW9uIHRpbWVvdXQgKFwiKS5jb25jYXQodGhpcy5zZXNzaW9uTWFuYWdlci5zZXNzaW9uVGltZW91dE1zLFwiKS4gU2Vzc2lvbiB3aWxsIG5ldmVyIGJlIGRldGVjdGVkIGFzIGlkbGVcIikpfXN0YXJ0SWZFbmFibGVkT3JTdG9wKGUpe3RoaXMuaXNSZWNvcmRpbmdFbmFibGVkPyh0aGlzLl9zdGFydENhcHR1cmUoZSksUih0LFwiYmVmb3JldW5sb2FkXCIsdGhpcy5fb25CZWZvcmVVbmxvYWQpLFIodCxcIm9mZmxpbmVcIix0aGlzLl9vbk9mZmxpbmUpLFIodCxcIm9ubGluZVwiLHRoaXMuX29uT25saW5lKSxSKHQsXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSx0aGlzLl9zZXR1cFNhbXBsaW5nKCksdGhpcy5fYWRkRXZlbnRUcmlnZ2VyTGlzdGVuZXIoKSxKKHRoaXMuX3JlbW92ZVBhZ2VWaWV3Q2FwdHVyZUhvb2spJiYodGhpcy5fcmVtb3ZlUGFnZVZpZXdDYXB0dXJlSG9vaz10aGlzLmluc3RhbmNlLm9uKFwiZXZlbnRDYXB0dXJlZFwiLChlPT57dHJ5e2lmKFwiJHBhZ2V2aWV3XCI9PT1lLmV2ZW50KXt2YXIgdD1udWxsIT1lJiZlLnByb3BlcnRpZXMuJGN1cnJlbnRfdXJsP3RoaXMuX21hc2tVcmwobnVsbD09ZT92b2lkIDA6ZS5wcm9wZXJ0aWVzLiRjdXJyZW50X3VybCk6XCJcIjtpZighdClyZXR1cm47dGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCIkcGFnZXZpZXdcIix7aHJlZjp0fSl9fWNhdGNoKGUpe2lzLmVycm9yKFwiQ291bGQgbm90IGFkZCAkcGFnZXZpZXcgdG8gcnJ3ZWIgc2Vzc2lvblwiLGUpfX0pKSksdGhpcy5fb25TZXNzaW9uSWRMaXN0ZW5lcnx8KHRoaXMuX29uU2Vzc2lvbklkTGlzdGVuZXI9dGhpcy5zZXNzaW9uTWFuYWdlci5vblNlc3Npb25JZCgoKGUsdCxpKT0+e3ZhciByLHMsbixvO2kmJih0aGlzLl90cnlBZGRDdXN0b21FdmVudChcIiRzZXNzaW9uX2lkX2NoYW5nZVwiLHtzZXNzaW9uSWQ6ZSx3aW5kb3dJZDp0LGNoYW5nZVJlYXNvbjppfSksbnVsbD09PShyPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1yfHxudWxsPT09KHM9ci5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXN8fHMudW5yZWdpc3RlcihDZSksbnVsbD09PShuPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1ufHxudWxsPT09KG89bi5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PW98fG8udW5yZWdpc3RlcihJZSkpfSkpKSk6dGhpcy5zdG9wUmVjb3JkaW5nKCl9c3RvcFJlY29yZGluZygpe3ZhciBlLGkscixzO3RoaXMuX2NhcHR1cmVTdGFydGVkJiZ0aGlzLnN0b3BScndlYiYmKHRoaXMuc3RvcFJyd2ViKCksdGhpcy5zdG9wUnJ3ZWI9dm9pZCAwLHRoaXMuX2NhcHR1cmVTdGFydGVkPSExLG51bGw9PXR8fHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLHRoaXMuX29uQmVmb3JlVW5sb2FkKSxudWxsPT10fHx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsdGhpcy5fb25PZmZsaW5lKSxudWxsPT10fHx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLl9vbk9ubGluZSksbnVsbD09dHx8dC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSksdGhpcy5jbGVhckJ1ZmZlcigpLGNsZWFySW50ZXJ2YWwodGhpcy5fZnVsbFNuYXBzaG90VGltZXIpLG51bGw9PT0oZT10aGlzLl9yZW1vdmVQYWdlVmlld0NhcHR1cmVIb29rKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMpLHRoaXMuX3JlbW92ZVBhZ2VWaWV3Q2FwdHVyZUhvb2s9dm9pZCAwLG51bGw9PT0oaT10aGlzLl9yZW1vdmVFdmVudFRyaWdnZXJDYXB0dXJlSG9vayl8fHZvaWQgMD09PWl8fGkuY2FsbCh0aGlzKSx0aGlzLl9yZW1vdmVFdmVudFRyaWdnZXJDYXB0dXJlSG9vaz12b2lkIDAsbnVsbD09PShyPXRoaXMuX29uU2Vzc2lvbklkTGlzdGVuZXIpfHx2b2lkIDA9PT1yfHxyLmNhbGwodGhpcyksdGhpcy5fb25TZXNzaW9uSWRMaXN0ZW5lcj12b2lkIDAsbnVsbD09PShzPXRoaXMuX3NhbXBsaW5nU2Vzc2lvbkxpc3RlbmVyKXx8dm9pZCAwPT09c3x8cy5jYWxsKHRoaXMpLHRoaXMuX3NhbXBsaW5nU2Vzc2lvbkxpc3RlbmVyPXZvaWQgMCxpcy5pbmZvKFwic3RvcHBlZFwiKSl9bWFrZVNhbXBsaW5nRGVjaXNpb24oZSl7dmFyIHQsaT10aGlzLnNlc3Npb25JZCE9PWUscj10aGlzLnNhbXBsZVJhdGU7aWYoWShyKSl7dmFyIHM9dGhpcy5pc1NhbXBsZWQsbj1pfHwhSyhzKSxvPW4/ZXMoZSxyKTpzO24mJihvP3RoaXMuX3JlcG9ydFN0YXJ0ZWQoXCJzYW1wbGVkXCIpOmlzLndhcm4oXCJTYW1wbGUgcmF0ZSAoXCIuY29uY2F0KHIsXCIpIGhhcyBkZXRlcm1pbmVkIHRoYXQgdGhpcyBzZXNzaW9uSWQgKFwiKS5jb25jYXQoZSxcIikgd2lsbCBub3QgYmUgc2VudCB0byB0aGUgc2VydmVyLlwiKSksdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJzYW1wbGluZ0RlY2lzaW9uTWFkZVwiLHtzYW1wbGVSYXRlOnIsaXNTYW1wbGVkOm99KSksbnVsbD09PSh0PXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LnJlZ2lzdGVyKHtbeGVdOm99KX1lbHNle3ZhciBhO251bGw9PT0oYT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09YXx8YS5yZWdpc3Rlcih7W3hlXTpudWxsfSl9fW9uUmVtb3RlQ29uZmlnKGUpe3ZhciB0LGkscixzLG4sbzsodGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCIkcmVtb3RlX2NvbmZpZ19yZWNlaXZlZFwiLGUpLHRoaXMuX3BlcnNpc3RSZW1vdGVDb25maWcoZSksdGhpcy5fbGlua2VkRmxhZz0obnVsbD09PSh0PWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubGlua2VkRmxhZyl8fG51bGwsbnVsbCE9PShpPWUuc2Vzc2lvblJlY29yZGluZykmJnZvaWQgMCE9PWkmJmkuZW5kcG9pbnQpJiYodGhpcy5fZW5kcG9pbnQ9bnVsbD09PShvPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZW5kcG9pbnQpO2lmKHRoaXMuX3NldHVwU2FtcGxpbmcoKSwhSih0aGlzLl9saW5rZWRGbGFnKSYmIXRoaXMuX2xpbmtlZEZsYWdTZWVuKXt2YXIgYT1XKHRoaXMuX2xpbmtlZEZsYWcpP3RoaXMuX2xpbmtlZEZsYWc6dGhpcy5fbGlua2VkRmxhZy5mbGFnLGw9Vyh0aGlzLl9saW5rZWRGbGFnKT9udWxsOnRoaXMuX2xpbmtlZEZsYWcudmFyaWFudDt0aGlzLmluc3RhbmNlLm9uRmVhdHVyZUZsYWdzKCgoZSx0KT0+e3ZhciBpPVUodCkmJmEgaW4gdCxyPWw/dFthXT09PWw6aTtyJiZ0aGlzLl9yZXBvcnRTdGFydGVkKFwibGlua2VkX2ZsYWdfbWF0Y2hlZFwiLHtsaW5rZWRGbGFnOmEsbGlua2VkVmFyaWFudDpsfSksdGhpcy5fbGlua2VkRmxhZ1NlZW49cn0pKX1udWxsIT09KHI9ZS5zZXNzaW9uUmVjb3JkaW5nKSYmdm9pZCAwIT09ciYmci51cmxUcmlnZ2VycyYmKHRoaXMuX3VybFRyaWdnZXJzPWUuc2Vzc2lvblJlY29yZGluZy51cmxUcmlnZ2VycyksbnVsbCE9PShzPWUuc2Vzc2lvblJlY29yZGluZykmJnZvaWQgMCE9PXMmJnMudXJsQmxvY2tsaXN0JiYodGhpcy5fdXJsQmxvY2tsaXN0PWUuc2Vzc2lvblJlY29yZGluZy51cmxCbG9ja2xpc3QpLG51bGwhPT0obj1lLnNlc3Npb25SZWNvcmRpbmcpJiZ2b2lkIDAhPT1uJiZuLmV2ZW50VHJpZ2dlcnMmJih0aGlzLl9ldmVudFRyaWdnZXJzPWUuc2Vzc2lvblJlY29yZGluZy5ldmVudFRyaWdnZXJzKSx0aGlzLnJlY2VpdmVkRGVjaWRlPSEwLHRoaXMuc3RhcnRJZkVuYWJsZWRPclN0b3AoKX1fc2V0dXBTYW1wbGluZygpe1kodGhpcy5zYW1wbGVSYXRlKSYmSih0aGlzLl9zYW1wbGluZ1Nlc3Npb25MaXN0ZW5lcikmJih0aGlzLl9zYW1wbGluZ1Nlc3Npb25MaXN0ZW5lcj10aGlzLnNlc3Npb25NYW5hZ2VyLm9uU2Vzc2lvbklkKChlPT57dGhpcy5tYWtlU2FtcGxpbmdEZWNpc2lvbihlKX0pKSl9X3BlcnNpc3RSZW1vdGVDb25maWcoZSl7aWYodGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl7dmFyIHQsaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLHI9KCk9Pnt2YXIgdCxyLHMsbixvLGEsbCx1LGM9bnVsbD09PSh0PWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2FtcGxlUmF0ZSxkPUooYyk/bnVsbDpwYXJzZUZsb2F0KGMpLGg9bnVsbD09PShyPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXI/dm9pZCAwOnIubWluaW11bUR1cmF0aW9uTWlsbGlzZWNvbmRzO2kucmVnaXN0ZXIoe1tmZV06ISFlLnNlc3Npb25SZWNvcmRpbmcsW21lXTpudWxsPT09KHM9ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09cz92b2lkIDA6cy5jb25zb2xlTG9nUmVjb3JkaW5nRW5hYmxlZCxbYmVdOm5lKHtjYXB0dXJlUGVyZm9ybWFuY2U6ZS5jYXB0dXJlUGVyZm9ybWFuY2V9LG51bGw9PT0obj1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm5ldHdvcmtQYXlsb2FkQ2FwdHVyZSksW3llXTp7ZW5hYmxlZDpudWxsPT09KG89ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09bz92b2lkIDA6by5yZWNvcmRDYW52YXMsZnBzOm51bGw9PT0oYT1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmNhbnZhc0ZwcyxxdWFsaXR5Om51bGw9PT0obD1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLmNhbnZhc1F1YWxpdHl9LFt3ZV06ZCxbU2VdOnooaCk/bnVsbDpoLFtrZV06bnVsbD09PSh1PWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXU/dm9pZCAwOnUuc2NyaXB0Q29uZmlnfSl9O3IoKSxudWxsPT09KHQ9dGhpcy5fcGVyc2lzdERlY2lkZU9uU2Vzc2lvbkxpc3RlbmVyKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMpLHRoaXMuX3BlcnNpc3REZWNpZGVPblNlc3Npb25MaXN0ZW5lcj10aGlzLnNlc3Npb25NYW5hZ2VyLm9uU2Vzc2lvbklkKHIpfX1sb2coZSl7dmFyIHQsaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJsb2dcIjtudWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09dHx8dC5vblJSd2ViRW1pdCh7dHlwZTo2LGRhdGE6e3BsdWdpbjpcInJyd2ViL2NvbnNvbGVAMVwiLHBheWxvYWQ6e2xldmVsOmksdHJhY2U6W10scGF5bG9hZDpbSlNPTi5zdHJpbmdpZnkoZSldfX0sdGltZXN0YW1wOkRhdGUubm93KCl9KX1fc3RhcnRDYXB0dXJlKGUpe2lmKCF6KE9iamVjdC5hc3NpZ24pJiYheihBcnJheS5mcm9tKSYmISh0aGlzLl9jYXB0dXJlU3RhcnRlZHx8dGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZ3x8dGhpcy5pbnN0YW5jZS5jb25zZW50LmlzT3B0ZWRPdXQoKSkpe3ZhciB0LGk7aWYodGhpcy5fY2FwdHVyZVN0YXJ0ZWQ9ITAsdGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpLHRoaXMucnJ3ZWJSZWNvcmQpdGhpcy5fb25TY3JpcHRMb2FkZWQoKTtlbHNlIG51bGw9PT0odD1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PXR8fG51bGw9PT0oaT10LmxvYWRFeHRlcm5hbERlcGVuZGVuY3kpfHx2b2lkIDA9PT1pfHxpLmNhbGwodCx0aGlzLmluc3RhbmNlLHRoaXMuc2NyaXB0TmFtZSwoZT0+e2lmKGUpcmV0dXJuIGlzLmVycm9yKFwiY291bGQgbm90IGxvYWQgcmVjb3JkZXJcIixlKTt0aGlzLl9vblNjcmlwdExvYWRlZCgpfSkpO2lzLmluZm8oXCJzdGFydGluZ1wiKSxcImFjdGl2ZVwiPT09dGhpcy5zdGF0dXMmJnRoaXMuX3JlcG9ydFN0YXJ0ZWQoZXx8XCJyZWNvcmRpbmdfaW5pdGlhbGl6ZWRcIil9fWdldCBzY3JpcHROYW1lKCl7dmFyIGUsdCxpO3JldHVybihudWxsPT09KGU9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQuZ2V0X3Byb3BlcnR5KGtlKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc2NyaXB0KXx8XCJyZWNvcmRlclwifWlzSW50ZXJhY3RpdmVFdmVudChlKXt2YXIgdDtyZXR1cm4gMz09PWUudHlwZSYmLTEhPT1zcy5pbmRleE9mKG51bGw9PT0odD1lLmRhdGEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNvdXJjZSl9X3VwZGF0ZVdpbmRvd0FuZFNlc3Npb25JZHMoZSl7dmFyIHQ9dGhpcy5pc0ludGVyYWN0aXZlRXZlbnQoZSk7dHx8dGhpcy5pc0lkbGV8fGUudGltZXN0YW1wLXRoaXMuX2xhc3RBY3Rpdml0eVRpbWVzdGFtcD50aGlzLnNlc3Npb25JZGxlVGhyZXNob2xkTWlsbGlzZWNvbmRzJiYodGhpcy5pc0lkbGU9ITAsY2xlYXJJbnRlcnZhbCh0aGlzLl9mdWxsU25hcHNob3RUaW1lciksdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJzZXNzaW9uSWRsZVwiLHtldmVudFRpbWVzdGFtcDplLnRpbWVzdGFtcCxsYXN0QWN0aXZpdHlUaW1lc3RhbXA6dGhpcy5fbGFzdEFjdGl2aXR5VGltZXN0YW1wLHRocmVzaG9sZDp0aGlzLnNlc3Npb25JZGxlVGhyZXNob2xkTWlsbGlzZWNvbmRzLGJ1ZmZlckxlbmd0aDp0aGlzLmJ1ZmZlci5kYXRhLmxlbmd0aCxidWZmZXJTaXplOnRoaXMuYnVmZmVyLnNpemV9KSx0aGlzLl9mbHVzaEJ1ZmZlcigpKTt2YXIgaT0hMTtpZih0JiYodGhpcy5fbGFzdEFjdGl2aXR5VGltZXN0YW1wPWUudGltZXN0YW1wLHRoaXMuaXNJZGxlJiYodGhpcy5pc0lkbGU9ITEsdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJzZXNzaW9uTm9Mb25nZXJJZGxlXCIse3JlYXNvbjpcInVzZXIgYWN0aXZpdHlcIix0eXBlOmUudHlwZX0pLGk9ITApKSwhdGhpcy5pc0lkbGUpe3Zhcnt3aW5kb3dJZDpyLHNlc3Npb25JZDpzfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCF0LGUudGltZXN0YW1wKSxuPXRoaXMuc2Vzc2lvbklkIT09cyxvPXRoaXMud2luZG93SWQhPT1yO3RoaXMud2luZG93SWQ9cix0aGlzLnNlc3Npb25JZD1zLG58fG8/KHRoaXMuc3RvcFJlY29yZGluZygpLHRoaXMuc3RhcnRJZkVuYWJsZWRPclN0b3AoXCJzZXNzaW9uX2lkX2NoYW5nZWRcIikpOmkmJnRoaXMuX3NjaGVkdWxlRnVsbFNuYXBzaG90KCl9fV90cnlSUldlYk1ldGhvZChlKXt0cnl7cmV0dXJuIGUucnJ3ZWJNZXRob2QoKSwhMH1jYXRjaCh0KXtyZXR1cm4gdGhpcy5xdWV1ZWRSUldlYkV2ZW50cy5sZW5ndGg8MTA/dGhpcy5xdWV1ZWRSUldlYkV2ZW50cy5wdXNoKHtlbnF1ZXVlZEF0OmUuZW5xdWV1ZWRBdHx8RGF0ZS5ub3coKSxhdHRlbXB0OmUuYXR0ZW1wdCsrLHJyd2ViTWV0aG9kOmUucnJ3ZWJNZXRob2R9KTppcy53YXJuKFwiY291bGQgbm90IGVtaXQgcXVldWVkIHJyd2ViIGV2ZW50LlwiLHQsZSksITF9fV90cnlBZGRDdXN0b21FdmVudChlLHQpe3JldHVybiB0aGlzLl90cnlSUldlYk1ldGhvZChucygoKCk9PnRoaXMucnJ3ZWJSZWNvcmQuYWRkQ3VzdG9tRXZlbnQoZSx0KSkpKX1fdHJ5VGFrZUZ1bGxTbmFwc2hvdCgpe3JldHVybiB0aGlzLl90cnlSUldlYk1ldGhvZChucygoKCk9PnRoaXMucnJ3ZWJSZWNvcmQudGFrZUZ1bGxTbmFwc2hvdCgpKSkpfV9vblNjcmlwdExvYWRlZCgpe3ZhciBlLHQ9e2Jsb2NrQ2xhc3M6XCJwaC1uby1jYXB0dXJlXCIsYmxvY2tTZWxlY3Rvcjp2b2lkIDAsaWdub3JlQ2xhc3M6XCJwaC1pZ25vcmUtaW5wdXRcIixtYXNrVGV4dENsYXNzOlwicGgtbWFza1wiLG1hc2tUZXh0U2VsZWN0b3I6dm9pZCAwLG1hc2tUZXh0Rm46dm9pZCAwLG1hc2tBbGxJbnB1dHM6ITAsbWFza0lucHV0T3B0aW9uczp7cGFzc3dvcmQ6ITB9LG1hc2tJbnB1dEZuOnZvaWQgMCxzbGltRE9NT3B0aW9uczp7fSxjb2xsZWN0Rm9udHM6ITEsaW5saW5lU3R5bGVzaGVldDohMCxyZWNvcmRDcm9zc09yaWdpbklmcmFtZXM6ITF9LGk9dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmc7Zm9yKHZhcltyLHNdb2YgT2JqZWN0LmVudHJpZXMoaXx8e30pKXIgaW4gdCYmKFwibWFza0lucHV0T3B0aW9uc1wiPT09cj90Lm1hc2tJbnB1dE9wdGlvbnM9bmUoe3Bhc3N3b3JkOiEwfSxzKTp0W3JdPXMpO2lmKHRoaXMuY2FudmFzUmVjb3JkaW5nJiZ0aGlzLmNhbnZhc1JlY29yZGluZy5lbmFibGVkJiYodC5yZWNvcmRDYW52YXM9ITAsdC5zYW1wbGluZz17Y2FudmFzOnRoaXMuY2FudmFzUmVjb3JkaW5nLmZwc30sdC5kYXRhVVJMT3B0aW9ucz17dHlwZTpcImltYWdlL3dlYnBcIixxdWFsaXR5OnRoaXMuY2FudmFzUmVjb3JkaW5nLnF1YWxpdHl9KSx0aGlzLnJyd2ViUmVjb3JkKXt0aGlzLm11dGF0aW9uUmF0ZUxpbWl0ZXI9bnVsbCE9PShlPXRoaXMubXV0YXRpb25SYXRlTGltaXRlcikmJnZvaWQgMCE9PWU/ZTpuZXcgdnIodGhpcy5ycndlYlJlY29yZCx7cmVmaWxsUmF0ZTp0aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5fX211dGF0aW9uUmF0ZUxpbWl0ZXJSZWZpbGxSYXRlLGJ1Y2tldFNpemU6dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcuX19tdXRhdGlvblJhdGVMaW1pdGVyQnVja2V0U2l6ZSxvbkJsb2NrZWROb2RlOihlLHQpPT57dmFyIGk9XCJUb28gbWFueSBtdXRhdGlvbnMgb24gbm9kZSAnXCIuY29uY2F0KGUsXCInLiBSYXRlIGxpbWl0aW5nLiBUaGlzIGNvdWxkIGJlIGR1ZSB0byBTVkcgYW5pbWF0aW9ucyBvciBzb21ldGhpbmcgc2ltaWxhclwiKTtpcy5pbmZvKGkse25vZGU6dH0pLHRoaXMubG9nKHRzK1wiIFwiK2ksXCJ3YXJuXCIpfX0pO3ZhciBuPXRoaXMuX2dhdGhlclJSV2ViUGx1Z2lucygpO3RoaXMuc3RvcFJyd2ViPXRoaXMucnJ3ZWJSZWNvcmQobmUoe2VtaXQ6ZT0+e3RoaXMub25SUndlYkVtaXQoZSl9LHBsdWdpbnM6bn0sdCkpLHRoaXMuX2xhc3RBY3Rpdml0eVRpbWVzdGFtcD1EYXRlLm5vdygpLHRoaXMuaXNJZGxlPSExLHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiJHNlc3Npb25fb3B0aW9uc1wiLHtzZXNzaW9uUmVjb3JkaW5nT3B0aW9uczp0LGFjdGl2ZVBsdWdpbnM6bi5tYXAoKGU9Pm51bGw9PWU/dm9pZCAwOmUubmFtZSkpfSksdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCIkcG9zdGhvZ19jb25maWdcIix7Y29uZmlnOnRoaXMuaW5zdGFuY2UuY29uZmlnfSl9ZWxzZSBpcy5lcnJvcihcIm9uU2NyaXB0TG9hZGVkIHdhcyBjYWxsZWQgYnV0IHJyd2ViUmVjb3JkIGlzIG5vdCBhdmFpbGFibGUuIFRoaXMgaW5kaWNhdGVzIHNvbWV0aGluZyBoYXMgZ29uZSB3cm9uZy5cIil9X3NjaGVkdWxlRnVsbFNuYXBzaG90KCl7aWYodGhpcy5fZnVsbFNuYXBzaG90VGltZXImJmNsZWFySW50ZXJ2YWwodGhpcy5fZnVsbFNuYXBzaG90VGltZXIpLCF0aGlzLmlzSWRsZSl7dmFyIGU9dGhpcy5mdWxsU25hcHNob3RJbnRlcnZhbE1pbGxpcztlJiYodGhpcy5fZnVsbFNuYXBzaG90VGltZXI9c2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5fdHJ5VGFrZUZ1bGxTbmFwc2hvdCgpfSksZSkpfX1fZ2F0aGVyUlJXZWJQbHVnaW5zKCl7dmFyIGUsdCxpLHIscz1bXSxuPW51bGw9PT0oZT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnJyd2ViUGx1Z2lucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UmVjb3JkQ29uc29sZVBsdWdpbjtuJiZ0aGlzLmlzQ29uc29sZUxvZ0NhcHR1cmVFbmFibGVkJiZzLnB1c2gobigpKTt2YXIgbz1udWxsPT09KGk9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5ycndlYlBsdWdpbnMpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldFJlY29yZE5ldHdvcmtQbHVnaW47dGhpcy5uZXR3b3JrUGF5bG9hZENhcHR1cmUmJkgobykmJighYnQuaW5jbHVkZXMobG9jYXRpb24uaG9zdG5hbWUpfHx0aGlzLl9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmU/cy5wdXNoKG8oX3IodGhpcy5pbnN0YW5jZS5jb25maWcsdGhpcy5uZXR3b3JrUGF5bG9hZENhcHR1cmUpKSk6aXMuaW5mbyhcIk5ldHdvcmtDYXB0dXJlIG5vdCBzdGFydGVkIGJlY2F1c2Ugd2UgYXJlIG9uIGxvY2FsaG9zdC5cIikpO3JldHVybiBzfW9uUlJ3ZWJFbWl0KGUpe3ZhciB0O2lmKHRoaXMuX3Byb2Nlc3NRdWV1ZWRFdmVudHMoKSxlJiZVKGUpKXtpZihlLnR5cGU9PT1GaS5NZXRhKXt2YXIgaT10aGlzLl9tYXNrVXJsKGUuZGF0YS5ocmVmKTtpZih0aGlzLl9sYXN0SHJlZj1pLCFpKXJldHVybjtlLmRhdGEuaHJlZj1pfWVsc2UgdGhpcy5fcGFnZVZpZXdGYWxsQmFjaygpO2lmKHRoaXMuX2NoZWNrVXJsVHJpZ2dlckNvbmRpdGlvbnMoKSwhdGhpcy5fdXJsQmxvY2tlZHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PUZpLkN1c3RvbSYmXCJyZWNvcmRpbmcgcGF1c2VkXCI9PT1lLmRhdGEudGFnfShlKSl7ZS50eXBlPT09RmkuRnVsbFNuYXBzaG90JiZ0aGlzLl9zY2hlZHVsZUZ1bGxTbmFwc2hvdCgpLGUudHlwZT09PUZpLkZ1bGxTbmFwc2hvdCYmXCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudHJpZ2dlclN0YXR1cyYmdGhpcy5jbGVhckJ1ZmZlcigpO3ZhciByPXRoaXMubXV0YXRpb25SYXRlTGltaXRlcj90aGlzLm11dGF0aW9uUmF0ZUxpbWl0ZXIudGhyb3R0bGVNdXRhdGlvbnMoZSk6ZTtpZihyKXt2YXIgcz1mdW5jdGlvbihlKXt2YXIgdD1lO2lmKHQmJlUodCkmJjY9PT10LnR5cGUmJlUodC5kYXRhKSYmXCJycndlYi9jb25zb2xlQDFcIj09PXQuZGF0YS5wbHVnaW4pe3QuZGF0YS5wYXlsb2FkLnBheWxvYWQubGVuZ3RoPjEwJiYodC5kYXRhLnBheWxvYWQucGF5bG9hZD10LmRhdGEucGF5bG9hZC5wYXlsb2FkLnNsaWNlKDAsMTApLHQuZGF0YS5wYXlsb2FkLnBheWxvYWQucHVzaChcIi4uLlt0cnVuY2F0ZWRdXCIpKTtmb3IodmFyIGk9W10scj0wO3I8dC5kYXRhLnBheWxvYWQucGF5bG9hZC5sZW5ndGg7cisrKXQuZGF0YS5wYXlsb2FkLnBheWxvYWRbcl0mJnQuZGF0YS5wYXlsb2FkLnBheWxvYWRbcl0ubGVuZ3RoPjJlMz9pLnB1c2godC5kYXRhLnBheWxvYWQucGF5bG9hZFtyXS5zbGljZSgwLDJlMykrXCIuLi5bdHJ1bmNhdGVkXVwiKTppLnB1c2godC5kYXRhLnBheWxvYWQucGF5bG9hZFtyXSk7cmV0dXJuIHQuZGF0YS5wYXlsb2FkLnBheWxvYWQ9aSxlfXJldHVybiBlfShyKTtpZih0aGlzLl91cGRhdGVXaW5kb3dBbmRTZXNzaW9uSWRzKHMpLCF0aGlzLmlzSWRsZXx8YXMocykpe2lmKGFzKHMpKXt2YXIgbj1zLmRhdGEucGF5bG9hZDtpZihuKXt2YXIgbz1uLmxhc3RBY3Rpdml0eVRpbWVzdGFtcCxhPW4udGhyZXNob2xkO3MudGltZXN0YW1wPW8rYX19dmFyIGw9bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nLmNvbXByZXNzX2V2ZW50cyl8fHZvaWQgMD09PXR8fHQ/ZnVuY3Rpb24oZSl7aWYoQ2koZSk8MTAyNClyZXR1cm4gZTt0cnl7aWYoZS50eXBlPT09RmkuRnVsbFNuYXBzaG90KXJldHVybiBuZShuZSh7fSxlKSx7fSx7ZGF0YTpvcyhlLmRhdGEpLGN2OlwiMjAyNC0xMFwifSk7aWYoZS50eXBlPT09RmkuSW5jcmVtZW50YWxTbmFwc2hvdCYmZS5kYXRhLnNvdXJjZT09PVRpLk11dGF0aW9uKXJldHVybiBuZShuZSh7fSxlKSx7fSx7Y3Y6XCIyMDI0LTEwXCIsZGF0YTpuZShuZSh7fSxlLmRhdGEpLHt9LHt0ZXh0czpvcyhlLmRhdGEudGV4dHMpLGF0dHJpYnV0ZXM6b3MoZS5kYXRhLmF0dHJpYnV0ZXMpLHJlbW92ZXM6b3MoZS5kYXRhLnJlbW92ZXMpLGFkZHM6b3MoZS5kYXRhLmFkZHMpfSl9KTtpZihlLnR5cGU9PT1GaS5JbmNyZW1lbnRhbFNuYXBzaG90JiZlLmRhdGEuc291cmNlPT09VGkuU3R5bGVTaGVldFJ1bGUpcmV0dXJuIG5lKG5lKHt9LGUpLHt9LHtjdjpcIjIwMjQtMTBcIixkYXRhOm5lKG5lKHt9LGUuZGF0YSkse30se2FkZHM6b3MoZS5kYXRhLmFkZHMpLHJlbW92ZXM6b3MoZS5kYXRhLnJlbW92ZXMpfSl9KX1jYXRjaChlKXtpcy5lcnJvcihcImNvdWxkIG5vdCBjb21wcmVzcyBldmVudCAtIHdpbGwgdXNlIHVuY29tcHJlc3NlZCBldmVudFwiLGUpfXJldHVybiBlfShzKTpzLHU9eyRzbmFwc2hvdF9ieXRlczpDaShsKSwkc25hcHNob3RfZGF0YTpsLCRzZXNzaW9uX2lkOnRoaXMuc2Vzc2lvbklkLCR3aW5kb3dfaWQ6dGhpcy53aW5kb3dJZH07XCJkaXNhYmxlZFwiIT09dGhpcy5zdGF0dXM/dGhpcy5fY2FwdHVyZVNuYXBzaG90QnVmZmVyZWQodSk6dGhpcy5jbGVhckJ1ZmZlcigpfX19fX1fcGFnZVZpZXdGYWxsQmFjaygpe2lmKCF0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3JiZ0KXt2YXIgZT10aGlzLl9tYXNrVXJsKHQubG9jYXRpb24uaHJlZik7dGhpcy5fbGFzdEhyZWYhPT1lJiYodGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCIkdXJsX2NoYW5nZWRcIix7aHJlZjplfSksdGhpcy5fbGFzdEhyZWY9ZSl9fV9wcm9jZXNzUXVldWVkRXZlbnRzKCl7aWYodGhpcy5xdWV1ZWRSUldlYkV2ZW50cy5sZW5ndGgpe3ZhciBlPVsuLi50aGlzLnF1ZXVlZFJSV2ViRXZlbnRzXTt0aGlzLnF1ZXVlZFJSV2ViRXZlbnRzPVtdLGUuZm9yRWFjaCgoZT0+e0RhdGUubm93KCktZS5lbnF1ZXVlZEF0PD0yZTMmJnRoaXMuX3RyeVJSV2ViTWV0aG9kKGUpfSkpfX1fbWFza1VybChlKXt2YXIgdD10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZztpZih0Lm1hc2tOZXR3b3JrUmVxdWVzdEZuKXt2YXIgaSxyPXt1cmw6ZX07cmV0dXJuIG51bGw9PT0oaT1yPXQubWFza05ldHdvcmtSZXF1ZXN0Rm4ocikpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnVybH1yZXR1cm4gZX1jbGVhckJ1ZmZlcigpe3JldHVybiB0aGlzLmJ1ZmZlcj17c2l6ZTowLGRhdGE6W10sc2Vzc2lvbklkOnRoaXMuc2Vzc2lvbklkLHdpbmRvd0lkOnRoaXMud2luZG93SWR9LHRoaXMuYnVmZmVyfV9mbHVzaEJ1ZmZlcigpe3RoaXMuZmx1c2hCdWZmZXJUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLmZsdXNoQnVmZmVyVGltZXIpLHRoaXMuZmx1c2hCdWZmZXJUaW1lcj12b2lkIDApO3ZhciBlPXRoaXMubWluaW11bUR1cmF0aW9uLHQ9dGhpcy5zZXNzaW9uRHVyYXRpb24saT1ZKHQpJiZ0Pj0wLHI9WShlKSYmaSYmdDxlO2lmKFwiYnVmZmVyaW5nXCI9PT10aGlzLnN0YXR1c3x8XCJwYXVzZWRcIj09PXRoaXMuc3RhdHVzfHxcImRpc2FibGVkXCI9PT10aGlzLnN0YXR1c3x8cilyZXR1cm4gdGhpcy5mbHVzaEJ1ZmZlclRpbWVyPXNldFRpbWVvdXQoKCgpPT57dGhpcy5fZmx1c2hCdWZmZXIoKX0pLDJlMyksdGhpcy5idWZmZXI7dGhpcy5idWZmZXIuZGF0YS5sZW5ndGg+MCYmUGkodGhpcy5idWZmZXIpLmZvckVhY2goKGU9Pnt0aGlzLl9jYXB0dXJlU25hcHNob3QoeyRzbmFwc2hvdF9ieXRlczplLnNpemUsJHNuYXBzaG90X2RhdGE6ZS5kYXRhLCRzZXNzaW9uX2lkOmUuc2Vzc2lvbklkLCR3aW5kb3dfaWQ6ZS53aW5kb3dJZCwkbGliOlwid2ViXCIsJGxpYl92ZXJzaW9uOnAuTElCX1ZFUlNJT059KX0pKTtyZXR1cm4gdGhpcy5jbGVhckJ1ZmZlcigpfV9jYXB0dXJlU25hcHNob3RCdWZmZXJlZChlKXt2YXIgdCxpPTIrKChudWxsPT09KHQ9dGhpcy5idWZmZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmRhdGEubGVuZ3RoKXx8MCk7IXRoaXMuaXNJZGxlJiYodGhpcy5idWZmZXIuc2l6ZStlLiRzbmFwc2hvdF9ieXRlcytpPjk0MzcxOC40fHx0aGlzLmJ1ZmZlci5zZXNzaW9uSWQhPT10aGlzLnNlc3Npb25JZCkmJih0aGlzLmJ1ZmZlcj10aGlzLl9mbHVzaEJ1ZmZlcigpKSx0aGlzLmJ1ZmZlci5zaXplKz1lLiRzbmFwc2hvdF9ieXRlcyx0aGlzLmJ1ZmZlci5kYXRhLnB1c2goZS4kc25hcHNob3RfZGF0YSksdGhpcy5mbHVzaEJ1ZmZlclRpbWVyfHx0aGlzLmlzSWRsZXx8KHRoaXMuZmx1c2hCdWZmZXJUaW1lcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2ZsdXNoQnVmZmVyKCl9KSwyZTMpKX1fY2FwdHVyZVNuYXBzaG90KGUpe3RoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiRzbmFwc2hvdFwiLGUse191cmw6dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsdGhpcy5fZW5kcG9pbnQpLF9ub1RydW5jYXRlOiEwLF9iYXRjaEtleTpcInJlY29yZGluZ3NcIixza2lwX2NsaWVudF9yYXRlX2xpbWl0aW5nOiEwfSl9X2NoZWNrVXJsVHJpZ2dlckNvbmRpdGlvbnMoKXtpZih2b2lkIDAhPT10JiZ0LmxvY2F0aW9uLmhyZWYpe3ZhciBlPXQubG9jYXRpb24uaHJlZixpPXRoaXMuX3VybEJsb2NrZWQscj1scyhlLHRoaXMuX3VybEJsb2NrbGlzdCk7ciYmIWk/dGhpcy5fcGF1c2VSZWNvcmRpbmcoKTohciYmaSYmdGhpcy5fcmVzdW1lUmVjb3JkaW5nKCksbHMoZSx0aGlzLl91cmxUcmlnZ2VycykmJnRoaXMuX2FjdGl2YXRlVHJpZ2dlcihcInVybFwiKX19X2FjdGl2YXRlVHJpZ2dlcihlKXt2YXIgdCxpO1widHJpZ2dlcl9wZW5kaW5nXCI9PT10aGlzLnRyaWdnZXJTdGF0dXMmJihudWxsPT09KHQ9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PXR8fG51bGw9PT0oaT10LnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5yZWdpc3Rlcih7W1widXJsXCI9PT1lP0llOkNlXTp0aGlzLnNlc3Npb25JZH0pLHRoaXMuX2ZsdXNoQnVmZmVyKCksdGhpcy5fcmVwb3J0U3RhcnRlZChlK1wiX3RyaWdnZXJfbWF0Y2hlZFwiKSl9X3BhdXNlUmVjb3JkaW5nKCl7dGhpcy5fdXJsQmxvY2tlZHx8KHRoaXMuX3VybEJsb2NrZWQ9ITAsY2xlYXJJbnRlcnZhbCh0aGlzLl9mdWxsU25hcHNob3RUaW1lciksaXMuaW5mbyhcInJlY29yZGluZyBwYXVzZWQgZHVlIHRvIFVSTCBibG9ja2VyXCIpLHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwicmVjb3JkaW5nIHBhdXNlZFwiLHtyZWFzb246XCJ1cmwgYmxvY2tlclwifSkpfV9yZXN1bWVSZWNvcmRpbmcoKXt0aGlzLl91cmxCbG9ja2VkJiYodGhpcy5fdXJsQmxvY2tlZD0hMSx0aGlzLl90cnlUYWtlRnVsbFNuYXBzaG90KCksdGhpcy5fc2NoZWR1bGVGdWxsU25hcHNob3QoKSx0aGlzLl90cnlBZGRDdXN0b21FdmVudChcInJlY29yZGluZyByZXN1bWVkXCIse3JlYXNvbjpcImxlZnQgYmxvY2tlZCB1cmxcIn0pLGlzLmluZm8oXCJyZWNvcmRpbmcgcmVzdW1lZFwiKSl9X2FkZEV2ZW50VHJpZ2dlckxpc3RlbmVyKCl7MCE9PXRoaXMuX2V2ZW50VHJpZ2dlcnMubGVuZ3RoJiZKKHRoaXMuX3JlbW92ZUV2ZW50VHJpZ2dlckNhcHR1cmVIb29rKSYmKHRoaXMuX3JlbW92ZUV2ZW50VHJpZ2dlckNhcHR1cmVIb29rPXRoaXMuaW5zdGFuY2Uub24oXCJldmVudENhcHR1cmVkXCIsKGU9Pnt0cnl7dGhpcy5fZXZlbnRUcmlnZ2Vycy5pbmNsdWRlcyhlLmV2ZW50KSYmdGhpcy5fYWN0aXZhdGVUcmlnZ2VyKFwiZXZlbnRcIil9Y2F0Y2goZSl7aXMuZXJyb3IoXCJDb3VsZCBub3QgYWN0aXZhdGUgZXZlbnQgdHJpZ2dlclwiLGUpfX0pKSl9b3ZlcnJpZGVMaW5rZWRGbGFnKCl7dGhpcy5fbGlua2VkRmxhZ1NlZW49ITAsdGhpcy5fdHJ5VGFrZUZ1bGxTbmFwc2hvdCgpLHRoaXMuX3JlcG9ydFN0YXJ0ZWQoXCJsaW5rZWRfZmxhZ19vdmVycmlkZGVuXCIpfW92ZXJyaWRlU2FtcGxpbmcoKXt2YXIgZTtudWxsPT09KGU9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWV8fGUucmVnaXN0ZXIoe1t4ZV06ITB9KSx0aGlzLl90cnlUYWtlRnVsbFNuYXBzaG90KCksdGhpcy5fcmVwb3J0U3RhcnRlZChcInNhbXBsaW5nX292ZXJyaWRkZW5cIil9b3ZlcnJpZGVUcmlnZ2VyKGUpe3RoaXMuX2FjdGl2YXRlVHJpZ2dlcihlKX1fcmVwb3J0U3RhcnRlZChlLHQpe3RoaXMuaW5zdGFuY2UucmVnaXN0ZXJfZm9yX3Nlc3Npb24oeyRzZXNzaW9uX3JlY29yZGluZ19zdGFydF9yZWFzb246ZX0pLGlzLmluZm8oZS5yZXBsYWNlKFwiX1wiLFwiIFwiKSx0KSwkKFtcInJlY29yZGluZ19pbml0aWFsaXplZFwiLFwic2Vzc2lvbl9pZF9jaGFuZ2VkXCJdLGUpfHx0aGlzLl90cnlBZGRDdXN0b21FdmVudChlLHQpfX12YXIgY3M9dGUoXCJbUmVtb3RlQ29uZmlnXVwiKTtjbGFzcyBkc3tjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWV9Z2V0IHJlbW90ZUNvbmZpZygpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PT0oZT1fLl9QT1NUSE9HX1JFTU9URV9DT05GSUcpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZVt0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbl0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNvbmZpZ31fbG9hZFJlbW90ZUNvbmZpZ0pzKGUpe3ZhciB0LGkscjtudWxsIT09KHQ9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZ2b2lkIDAhPT10JiZ0LmxvYWRFeHRlcm5hbERlcGVuZGVuY3k/bnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHRoaXMuaW5zdGFuY2UsXCJyZW1vdGUtY29uZmlnXCIsKCgpPT5lKHRoaXMucmVtb3RlQ29uZmlnKSkpOihjcy5lcnJvcihcIlBvc3RIb2cgRXh0ZW5zaW9ucyBub3QgZm91bmQuIENhbm5vdCBsb2FkIHJlbW90ZSBjb25maWcuXCIpLGUoKSl9X2xvYWRSZW1vdGVDb25maWdKU09OKGUpe3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh7bWV0aG9kOlwiR0VUXCIsdXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLFwiL2FycmF5L1wiLmNvbmNhdCh0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbixcIi9jb25maWdcIikpLGNhbGxiYWNrOnQ9PntlKHQuanNvbil9fSl9bG9hZCgpe3RyeXtpZih0aGlzLnJlbW90ZUNvbmZpZylyZXR1cm4gY3MuaW5mbyhcIlVzaW5nIHByZWxvYWRlZCByZW1vdGUgY29uZmlnXCIsdGhpcy5yZW1vdGVDb25maWcpLHZvaWQgdGhpcy5vblJlbW90ZUNvbmZpZyh0aGlzLnJlbW90ZUNvbmZpZyk7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGUpcmV0dXJuIHZvaWQgY3Mud2FybihcIlJlbW90ZSBjb25maWcgaXMgZGlzYWJsZWQuIEZhbGxpbmcgYmFjayB0byBsb2NhbCBjb25maWcuXCIpO3RoaXMuX2xvYWRSZW1vdGVDb25maWdKcygoZT0+e2lmKCFlKXJldHVybiBjcy5pbmZvKFwiTm8gY29uZmlnIGZvdW5kIGFmdGVyIGxvYWRpbmcgcmVtb3RlIEpTIGNvbmZpZy4gRmFsbGluZyBiYWNrIHRvIEpTT04uXCIpLHZvaWQgdGhpcy5fbG9hZFJlbW90ZUNvbmZpZ0pTT04oKGU9Pnt0aGlzLm9uUmVtb3RlQ29uZmlnKGUpfSkpO3RoaXMub25SZW1vdGVDb25maWcoZSl9KSl9Y2F0Y2goZSl7Y3MuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHJlbW90ZSBjb25maWdcIixlKX19b25SZW1vdGVDb25maWcoZSl7ZT90aGlzLmluc3RhbmNlLmNvbmZpZy5fX3ByZXZpZXdfcmVtb3RlX2NvbmZpZz8odGhpcy5pbnN0YW5jZS5fb25SZW1vdGVDb25maWcoZSksITEhPT1lLmhhc0ZlYXR1cmVGbGFncyYmdGhpcy5pbnN0YW5jZS5mZWF0dXJlRmxhZ3MuZW5zdXJlRmxhZ3NMb2FkZWQoKSk6Y3MuaW5mbyhcIl9fcHJldmlld19yZW1vdGVfY29uZmlnIGlzIGRpc2FibGVkLiBMb2dnaW5nIGNvbmZpZyBpbnN0ZWFkXCIsZSk6Y3MuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggcmVtb3RlIGNvbmZpZyBmcm9tIFBvc3RIb2cuXCIpfX12YXIgaHMsX3M9bnVsbCE9dCYmdC5sb2NhdGlvbj9FdCh0LmxvY2F0aW9uLmhhc2gsXCJfX3Bvc3Rob2dcIil8fEV0KGxvY2F0aW9uLmhhc2gsXCJzdGF0ZVwiKTpudWxsLHBzPVwiX3Bvc3RIb2dUb29sYmFyUGFyYW1zXCIsdnM9dGUoXCJbVG9vbGJhcl1cIik7IWZ1bmN0aW9uKGUpe2VbZS5VTklOSVRJQUxJWkVEPTBdPVwiVU5JTklUSUFMSVpFRFwiLGVbZS5MT0FESU5HPTFdPVwiTE9BRElOR1wiLGVbZS5MT0FERUQ9Ml09XCJMT0FERURcIn0oaHN8fChocz17fSkpO2NsYXNzIGdze2NvbnN0cnVjdG9yKGUpe3RoaXMuaW5zdGFuY2U9ZX1zZXRUb29sYmFyU3RhdGUoZSl7Xy5waF90b29sYmFyX3N0YXRlPWV9Z2V0VG9vbGJhclN0YXRlKCl7dmFyIGU7cmV0dXJuIG51bGwhPT0oZT1fLnBoX3Rvb2xiYXJfc3RhdGUpJiZ2b2lkIDAhPT1lP2U6aHMuVU5JTklUSUFMSVpFRH1tYXliZUxvYWRUb29sYmFyKCl7dmFyIGUsaSxyPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp2b2lkIDAscz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dm9pZCAwLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnZvaWQgMDtpZighdHx8IWEpcmV0dXJuITE7cj1udWxsIT09KGU9cikmJnZvaWQgMCE9PWU/ZTp0LmxvY2F0aW9uLG49bnVsbCE9PShpPW4pJiZ2b2lkIDAhPT1pP2k6dC5oaXN0b3J5O3RyeXtpZighcyl7dHJ5e3QubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0ZXN0XCIsXCJ0ZXN0XCIpLHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ0ZXN0XCIpfWNhdGNoKGUpe3JldHVybiExfXM9bnVsbD09dD92b2lkIDA6dC5sb2NhbFN0b3JhZ2V9dmFyIG8sbD1fc3x8RXQoci5oYXNoLFwiX19wb3N0aG9nXCIpfHxFdChyLmhhc2gsXCJzdGF0ZVwiKSx1PWw/RSgoKCk9PkpTT04ucGFyc2UoYXRvYihkZWNvZGVVUklDb21wb25lbnQobCkpKSkpfHxFKCgoKT0+SlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQobCkpKSk6bnVsbDtyZXR1cm4gdSYmXCJwaF9hdXRob3JpemVcIj09PXUuYWN0aW9uPygobz11KS5zb3VyY2U9XCJ1cmxcIixvJiZPYmplY3Qua2V5cyhvKS5sZW5ndGg+MCYmKHUuZGVzaXJlZEhhc2g/ci5oYXNoPXUuZGVzaXJlZEhhc2g6bj9uLnJlcGxhY2VTdGF0ZShuLnN0YXRlLFwiXCIsci5wYXRobmFtZStyLnNlYXJjaCk6ci5oYXNoPVwiXCIpKTooKG89SlNPTi5wYXJzZShzLmdldEl0ZW0ocHMpfHxcInt9XCIpKS5zb3VyY2U9XCJsb2NhbHN0b3JhZ2VcIixkZWxldGUgby51c2VySW50ZW50KSwhKCFvLnRva2VufHx0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbiE9PW8udG9rZW4pJiYodGhpcy5sb2FkVG9vbGJhcihvKSwhMCl9Y2F0Y2goZSl7cmV0dXJuITF9fV9jYWxsTG9hZFRvb2xiYXIoZSl7dmFyIHQ9Xy5waF9sb2FkX3Rvb2xiYXJ8fF8ucGhfbG9hZF9lZGl0b3I7IUoodCkmJkgodCk/dChlLHRoaXMuaW5zdGFuY2UpOnZzLndhcm4oXCJObyB0b29sYmFyIGxvYWQgZnVuY3Rpb24gZm91bmRcIil9bG9hZFRvb2xiYXIoZSl7dmFyIGk9IShudWxsPT1hfHwhYS5nZXRFbGVtZW50QnlJZChVZSkpO2lmKCF0fHxpKXJldHVybiExO3ZhciByPVwiY3VzdG9tXCI9PT10aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIucmVnaW9uJiZ0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX3Rvb2xiYXJfbWV0cmljcyxzPW5lKG5lKHt0b2tlbjp0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbn0sZSkse30se2FwaVVSTDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJ1aVwiKX0scj97aW5zdHJ1bWVudDohMX06e30pO2lmKHQubG9jYWxTdG9yYWdlLnNldEl0ZW0ocHMsSlNPTi5zdHJpbmdpZnkobmUobmUoe30scykse30se3NvdXJjZTp2b2lkIDB9KSkpLHRoaXMuZ2V0VG9vbGJhclN0YXRlKCk9PT1ocy5MT0FERUQpdGhpcy5fY2FsbExvYWRUb29sYmFyKHMpO2Vsc2UgaWYodGhpcy5nZXRUb29sYmFyU3RhdGUoKT09PWhzLlVOSU5JVElBTElaRUQpe3ZhciBuLG87dGhpcy5zZXRUb29sYmFyU3RhdGUoaHMuTE9BRElORyksbnVsbD09PShuPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09bnx8bnVsbD09PShvPW4ubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PW98fG8uY2FsbChuLHRoaXMuaW5zdGFuY2UsXCJ0b29sYmFyXCIsKGU9PntpZihlKXJldHVybiB2cy5lcnJvcihcIltUb29sYmFyXSBGYWlsZWQgdG8gbG9hZFwiLGUpLHZvaWQgdGhpcy5zZXRUb29sYmFyU3RhdGUoaHMuVU5JTklUSUFMSVpFRCk7dGhpcy5zZXRUb29sYmFyU3RhdGUoaHMuTE9BREVEKSx0aGlzLl9jYWxsTG9hZFRvb2xiYXIocyl9KSksUih0LFwidHVyYm9saW5rczpsb2FkXCIsKCgpPT57dGhpcy5zZXRUb29sYmFyU3RhdGUoaHMuVU5JTklUSUFMSVpFRCksdGhpcy5sb2FkVG9vbGJhcihzKX0pKX1yZXR1cm4hMH1fbG9hZEVkaXRvcihlKXtyZXR1cm4gdGhpcy5sb2FkVG9vbGJhcihlKX1tYXliZUxvYWRFZGl0b3IoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dm9pZCAwLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnZvaWQgMCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp2b2lkIDA7cmV0dXJuIHRoaXMubWF5YmVMb2FkVG9vbGJhcihlLHQsaSl9fXZhciBmcz0zZTM7Y2xhc3MgbXN7Y29uc3RydWN0b3IoZSx0KXtvZSh0aGlzLFwiaXNQYXVzZWRcIiwhMCksb2UodGhpcyxcInF1ZXVlXCIsW10pLHRoaXMuZmx1c2hUaW1lb3V0TXM9cHIoKG51bGw9PXQ/dm9pZCAwOnQuZmx1c2hfaW50ZXJ2YWxfbXMpfHxmcywyNTAsNWUzLFwiZmx1c2ggaW50ZXJ2YWxcIixmcyksdGhpcy5zZW5kUmVxdWVzdD1lfWVucXVldWUoZSl7dGhpcy5xdWV1ZS5wdXNoKGUpLHRoaXMuZmx1c2hUaW1lb3V0fHx0aGlzLnNldEZsdXNoVGltZW91dCgpfXVubG9hZCgpe3RoaXMuY2xlYXJGbHVzaFRpbWVvdXQoKTt2YXIgZT10aGlzLnF1ZXVlLmxlbmd0aD4wP3RoaXMuZm9ybWF0UXVldWUoKTp7fSx0PU9iamVjdC52YWx1ZXMoZSksaT1bLi4udC5maWx0ZXIoKGU9PjA9PT1lLnVybC5pbmRleE9mKFwiL2VcIikpKSwuLi50LmZpbHRlcigoZT0+MCE9PWUudXJsLmluZGV4T2YoXCIvZVwiKSkpXTtpLm1hcCgoZT0+e3RoaXMuc2VuZFJlcXVlc3QobmUobmUoe30sZSkse30se3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pKX0pKX1lbmFibGUoKXt0aGlzLmlzUGF1c2VkPSExLHRoaXMuc2V0Rmx1c2hUaW1lb3V0KCl9c2V0Rmx1c2hUaW1lb3V0KCl7dmFyIGU9dGhpczt0aGlzLmlzUGF1c2VkfHwodGhpcy5mbHVzaFRpbWVvdXQ9c2V0VGltZW91dCgoKCk9PntpZih0aGlzLmNsZWFyRmx1c2hUaW1lb3V0KCksdGhpcy5xdWV1ZS5sZW5ndGg+MCl7dmFyIHQ9dGhpcy5mb3JtYXRRdWV1ZSgpLGk9ZnVuY3Rpb24oaSl7dmFyIHI9dFtpXSxzPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3IuZGF0YSYmQihyLmRhdGEpJiZ5KHIuZGF0YSwoZT0+e2Uub2Zmc2V0PU1hdGguYWJzKGUudGltZXN0YW1wLXMpLGRlbGV0ZSBlLnRpbWVzdGFtcH0pKSxlLnNlbmRSZXF1ZXN0KHIpfTtmb3IodmFyIHIgaW4gdClpKHIpfX0pLHRoaXMuZmx1c2hUaW1lb3V0TXMpKX1jbGVhckZsdXNoVGltZW91dCgpe2NsZWFyVGltZW91dCh0aGlzLmZsdXNoVGltZW91dCksdGhpcy5mbHVzaFRpbWVvdXQ9dm9pZCAwfWZvcm1hdFF1ZXVlKCl7dmFyIGU9e307cmV0dXJuIHkodGhpcy5xdWV1ZSwodD0+e3ZhciBpLHI9dCxzPShyP3IuYmF0Y2hLZXk6bnVsbCl8fHIudXJsO3ooZVtzXSkmJihlW3NdPW5lKG5lKHt9LHIpLHt9LHtkYXRhOltdfSkpLG51bGw9PT0oaT1lW3NdLmRhdGEpfHx2b2lkIDA9PT1pfHxpLnB1c2goci5kYXRhKX0pKSx0aGlzLnF1ZXVlPVtdLGV9fXZhciBicz1mdW5jdGlvbihlKXt2YXIgdCxpLHIscyxuPVwiXCI7Zm9yKHQ9aT0wLHI9KGU9KGUrXCJcIikucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIikucmVwbGFjZSgvXFxyL2csXCJcXG5cIikpLmxlbmd0aCxzPTA7czxyO3MrKyl7dmFyIG89ZS5jaGFyQ29kZUF0KHMpLGE9bnVsbDtvPDEyOD9pKys6YT1vPjEyNyYmbzwyMDQ4P1N0cmluZy5mcm9tQ2hhckNvZGUobz4+NnwxOTIsNjMmb3wxMjgpOlN0cmluZy5mcm9tQ2hhckNvZGUobz4+MTJ8MjI0LG8+PjYmNjN8MTI4LDYzJm98MTI4KSxHKGEpfHwoaT50JiYobis9ZS5zdWJzdHJpbmcodCxpKSksbis9YSx0PWk9cysxKX1yZXR1cm4gaT50JiYobis9ZS5zdWJzdHJpbmcodCxlLmxlbmd0aCkpLG59LHlzPSEhY3x8ISF1LHdzPVwidGV4dC9wbGFpblwiLFNzPShlLHQpPT57dmFyW2kscl09ZS5zcGxpdChcIj9cIikscz1uZSh7fSx0KTtudWxsPT1yfHxyLnNwbGl0KFwiJlwiKS5mb3JFYWNoKChlPT57dmFyW3RdPWUuc3BsaXQoXCI9XCIpO2RlbGV0ZSBzW3RdfSkpO3ZhciBuPXd0KHMpO3JldHVybiBuPW4/KHI/citcIiZcIjpcIlwiKStuOnIsXCJcIi5jb25jYXQoaSxcIj9cIikuY29uY2F0KG4pfSxrcz0oZSx0KT0+SlNPTi5zdHJpbmdpZnkoZSwoKGUsdCk9PlwiYmlnaW50XCI9PXR5cGVvZiB0P3QudG9TdHJpbmcoKTp0KSx0KSxFcz10PT57dmFye2RhdGE6aSxjb21wcmVzc2lvbjpyfT10O2lmKGkpe2lmKHI9PT1lLkdaaXBKUyl7dmFyIHM9UXIoWnIoa3MoaSkpLHttdGltZTowfSksbj1uZXcgQmxvYihbc10se3R5cGU6d3N9KTtyZXR1cm57Y29udGVudFR5cGU6d3MsYm9keTpuLGVzdGltYXRlZFNpemU6bi5zaXplfX1pZihyPT09ZS5CYXNlNjQpe3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0LGkscixzLG4sbz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIsYT0wLGw9MCx1PVwiXCIsYz1bXTtpZighZSlyZXR1cm4gZTtlPWJzKGUpO2Rve3Q9KG49ZS5jaGFyQ29kZUF0KGErKyk8PDE2fGUuY2hhckNvZGVBdChhKyspPDw4fGUuY2hhckNvZGVBdChhKyspKT4+MTgmNjMsaT1uPj4xMiY2MyxyPW4+PjYmNjMscz02MyZuLGNbbCsrXT1vLmNoYXJBdCh0KStvLmNoYXJBdChpKStvLmNoYXJBdChyKStvLmNoYXJBdChzKX13aGlsZShhPGUubGVuZ3RoKTtzd2l0Y2godT1jLmpvaW4oXCJcIiksZS5sZW5ndGglMyl7Y2FzZSAxOnU9dS5zbGljZSgwLC0yKStcIj09XCI7YnJlYWs7Y2FzZSAyOnU9dS5zbGljZSgwLC0xKStcIj1cIn1yZXR1cm4gdX0oa3MoaSkpLGE9KGU9PlwiZGF0YT1cIitlbmNvZGVVUklDb21wb25lbnQoXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTprcyhlKSkpKG8pO3JldHVybntjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLGJvZHk6YSxlc3RpbWF0ZWRTaXplOm5ldyBCbG9iKFthXSkuc2l6ZX19dmFyIGw9a3MoaSk7cmV0dXJue2NvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24vanNvblwiLGJvZHk6bCxlc3RpbWF0ZWRTaXplOm5ldyBCbG9iKFtsXSkuc2l6ZX19fSx4cz1bXTt1JiZ4cy5wdXNoKHt0cmFuc3BvcnQ6XCJmZXRjaFwiLG1ldGhvZDplPT57dmFyIHQsaSx7Y29udGVudFR5cGU6cixib2R5OnMsZXN0aW1hdGVkU2l6ZTpufT1udWxsIT09KHQ9RXMoZSkpJiZ2b2lkIDAhPT10P3Q6e30sbz1uZXcgSGVhZGVyczt5KGUuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtvLmFwcGVuZCh0LGUpfSkpLHImJm8uYXBwZW5kKFwiQ29udGVudC1UeXBlXCIscik7dmFyIGE9ZS51cmwsbD1udWxsO2lmKGQpe3ZhciBjPW5ldyBkO2w9e3NpZ25hbDpjLnNpZ25hbCx0aW1lb3V0OnNldFRpbWVvdXQoKCgpPT5jLmFib3J0KCkpLGUudGltZW91dCl9fXUoYSxuZSh7bWV0aG9kOihudWxsPT1lP3ZvaWQgMDplLm1ldGhvZCl8fFwiR0VUXCIsaGVhZGVyczpvLGtlZXBhbGl2ZTpcIlBPU1RcIj09PWUubWV0aG9kJiYobnx8MCk8NTI0MjguOCxib2R5OnMsc2lnbmFsOm51bGw9PT0oaT1sKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zaWduYWx9LGUuZmV0Y2hPcHRpb25zKSkudGhlbigodD0+dC50ZXh0KCkudGhlbigoaT0+e3ZhciByLHM9e3N0YXR1c0NvZGU6dC5zdGF0dXMsdGV4dDppfTtpZigyMDA9PT10LnN0YXR1cyl0cnl7cy5qc29uPUpTT04ucGFyc2UoaSl9Y2F0Y2goZSl7ZWUuZXJyb3IoZSl9bnVsbD09PShyPWUuY2FsbGJhY2spfHx2b2lkIDA9PT1yfHxyLmNhbGwoZSxzKX0pKSkpLmNhdGNoKCh0PT57dmFyIGk7ZWUuZXJyb3IodCksbnVsbD09PShpPWUuY2FsbGJhY2spfHx2b2lkIDA9PT1pfHxpLmNhbGwoZSx7c3RhdHVzQ29kZTowLHRleHQ6dH0pfSkpLmZpbmFsbHkoKCgpPT5sP2NsZWFyVGltZW91dChsLnRpbWVvdXQpOm51bGwpKX19KSxjJiZ4cy5wdXNoKHt0cmFuc3BvcnQ6XCJYSFJcIixtZXRob2Q6ZT0+e3ZhciB0LGk9bmV3IGM7aS5vcGVuKGUubWV0aG9kfHxcIkdFVFwiLGUudXJsLCEwKTt2YXJ7Y29udGVudFR5cGU6cixib2R5OnN9PW51bGwhPT0odD1FcyhlKSkmJnZvaWQgMCE9PXQ/dDp7fTt5KGUuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtpLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxyJiZpLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixyKSxlLnRpbWVvdXQmJihpLnRpbWVvdXQ9ZS50aW1lb3V0KSxpLndpdGhDcmVkZW50aWFscz0hMCxpLm9ucmVhZHlzdGF0ZWNoYW5nZT0oKT0+e2lmKDQ9PT1pLnJlYWR5U3RhdGUpe3ZhciB0LHI9e3N0YXR1c0NvZGU6aS5zdGF0dXMsdGV4dDppLnJlc3BvbnNlVGV4dH07aWYoMjAwPT09aS5zdGF0dXMpdHJ5e3IuanNvbj1KU09OLnBhcnNlKGkucmVzcG9uc2VUZXh0KX1jYXRjaChlKXt9bnVsbD09PSh0PWUuY2FsbGJhY2spfHx2b2lkIDA9PT10fHx0LmNhbGwoZSxyKX19LGkuc2VuZChzKX19KSxudWxsIT1vJiZvLnNlbmRCZWFjb24mJnhzLnB1c2goe3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIixtZXRob2Q6ZT0+e3ZhciB0PVNzKGUudXJsLHtiZWFjb246XCIxXCJ9KTt0cnl7dmFyIGkse2NvbnRlbnRUeXBlOnIsYm9keTpzfT1udWxsIT09KGk9RXMoZSkpJiZ2b2lkIDAhPT1pP2k6e30sbj1cInN0cmluZ1wiPT10eXBlb2Ygcz9uZXcgQmxvYihbc10se3R5cGU6cn0pOnM7by5zZW5kQmVhY29uKHQsbil9Y2F0Y2goZSl7fX19KTt2YXIgSXM9W1wicmV0cmllc1BlcmZvcm1lZFNvRmFyXCJdO2NsYXNzIENze2NvbnN0cnVjdG9yKGUpe29lKHRoaXMsXCJpc1BvbGxpbmdcIiwhMSksb2UodGhpcyxcInBvbGxJbnRlcnZhbE1zXCIsM2UzKSxvZSh0aGlzLFwicXVldWVcIixbXSksdGhpcy5pbnN0YW5jZT1lLHRoaXMucXVldWU9W10sdGhpcy5hcmVXZU9ubGluZT0hMCwheih0KSYmXCJvbkxpbmVcImluIHQubmF2aWdhdG9yJiYodGhpcy5hcmVXZU9ubGluZT10Lm5hdmlnYXRvci5vbkxpbmUsUih0LFwib25saW5lXCIsKCgpPT57dGhpcy5hcmVXZU9ubGluZT0hMCx0aGlzLmZsdXNoKCl9KSksUih0LFwib2ZmbGluZVwiLCgoKT0+e3RoaXMuYXJlV2VPbmxpbmU9ITF9KSkpfXJldHJpYWJsZVJlcXVlc3QoZSl7dmFye3JldHJpZXNQZXJmb3JtZWRTb0Zhcjp0fT1lLGk9YWUoZSxJcyk7WSh0KSYmdD4wJiYoaS51cmw9U3MoaS51cmwse3JldHJ5X2NvdW50OnR9KSksdGhpcy5pbnN0YW5jZS5fc2VuZF9yZXF1ZXN0KG5lKG5lKHt9LGkpLHt9LHtjYWxsYmFjazplPT57dmFyIHI7MjAwIT09ZS5zdGF0dXNDb2RlJiYoZS5zdGF0dXNDb2RlPDQwMHx8ZS5zdGF0dXNDb2RlPj01MDApJiYobnVsbCE9dD90OjApPDEwP3RoaXMuZW5xdWV1ZShuZSh7cmV0cmllc1BlcmZvcm1lZFNvRmFyOnR9LGkpKTpudWxsPT09KHI9aS5jYWxsYmFjayl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLGUpfX0pKX1lbnF1ZXVlKGUpe3ZhciB0PWUucmV0cmllc1BlcmZvcm1lZFNvRmFyfHwwO2UucmV0cmllc1BlcmZvcm1lZFNvRmFyPXQrMTt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD0zZTMqTWF0aC5wb3coMixlKSxpPXQvMixyPU1hdGgubWluKDE4ZTUsdCkscz0oTWF0aC5yYW5kb20oKS0uNSkqKHItaSk7cmV0dXJuIE1hdGguY2VpbChyK3MpfSh0KSxyPURhdGUubm93KCkraTt0aGlzLnF1ZXVlLnB1c2goe3JldHJ5QXQ6cixyZXF1ZXN0T3B0aW9uczplfSk7dmFyIHM9XCJFbnF1ZXVlZCBmYWlsZWQgcmVxdWVzdCBmb3IgcmV0cnkgaW4gXCIuY29uY2F0KGkpO25hdmlnYXRvci5vbkxpbmV8fChzKz1cIiAoQnJvd3NlciBpcyBvZmZsaW5lKVwiKSxlZS53YXJuKHMpLHRoaXMuaXNQb2xsaW5nfHwodGhpcy5pc1BvbGxpbmc9ITAsdGhpcy5wb2xsKCkpfXBvbGwoKXt0aGlzLnBvbGxlciYmY2xlYXJUaW1lb3V0KHRoaXMucG9sbGVyKSx0aGlzLnBvbGxlcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuYXJlV2VPbmxpbmUmJnRoaXMucXVldWUubGVuZ3RoPjAmJnRoaXMuZmx1c2goKSx0aGlzLnBvbGwoKX0pLHRoaXMucG9sbEludGVydmFsTXMpfWZsdXNoKCl7dmFyIGU9RGF0ZS5ub3coKSx0PVtdLGk9dGhpcy5xdWV1ZS5maWx0ZXIoKGk9PmkucmV0cnlBdDxlfHwodC5wdXNoKGkpLCExKSkpO2lmKHRoaXMucXVldWU9dCxpLmxlbmd0aD4wKWZvcih2YXJ7cmVxdWVzdE9wdGlvbnM6cn1vZiBpKXRoaXMucmV0cmlhYmxlUmVxdWVzdChyKX11bmxvYWQoKXtmb3IodmFye3JlcXVlc3RPcHRpb25zOmV9b2YodGhpcy5wb2xsZXImJihjbGVhclRpbWVvdXQodGhpcy5wb2xsZXIpLHRoaXMucG9sbGVyPXZvaWQgMCksdGhpcy5xdWV1ZSkpdHJ5e3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdChuZShuZSh7fSxlKSx7fSx7dHJhbnNwb3J0Olwic2VuZEJlYWNvblwifSkpfWNhdGNoKGUpe2VlLmVycm9yKGUpfXRoaXMucXVldWU9W119fXZhciBQcyxGcz10ZShcIltTZXNzaW9uSWRdXCIpO2NsYXNzIFRze2NvbnN0cnVjdG9yKGUsdCxpKXt2YXIgcjtpZihvZSh0aGlzLFwiX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVyc1wiLFtdKSwhZS5wZXJzaXN0ZW5jZSl0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uSWRNYW5hZ2VyIHJlcXVpcmVzIGEgUG9zdEhvZ1BlcnNpc3RlbmNlIGluc3RhbmNlXCIpO2lmKGUuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcihcIlNlc3Npb25JZE1hbmFnZXIgY2Fubm90IGJlIHVzZWQgd2l0aCBfX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZVwiKTt0aGlzLmNvbmZpZz1lLmNvbmZpZyx0aGlzLnBlcnNpc3RlbmNlPWUucGVyc2lzdGVuY2UsdGhpcy5fd2luZG93SWQ9dm9pZCAwLHRoaXMuX3Nlc3Npb25JZD12b2lkIDAsdGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wPW51bGwsdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wPW51bGwsdGhpcy5fc2Vzc2lvbklkR2VuZXJhdG9yPXR8fHN0LHRoaXMuX3dpbmRvd0lkR2VuZXJhdG9yPWl8fHN0O3ZhciBzPXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlX25hbWV8fHRoaXMuY29uZmlnLnRva2VuLG49dGhpcy5jb25maWcuc2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kc3x8MTgwMDtpZih0aGlzLl9zZXNzaW9uVGltZW91dE1zPTFlMypwcihuLDYwLDM2ZTMsXCJzZXNzaW9uX2lkbGVfdGltZW91dF9zZWNvbmRzXCIsMTgwMCksZS5yZWdpc3Rlcih7JGNvbmZpZ3VyZWRfc2Vzc2lvbl90aW1lb3V0X21zOnRoaXMuX3Nlc3Npb25UaW1lb3V0TXN9KSx0aGlzLnJlc2V0SWRsZVRpbWVyKCksdGhpcy5fd2luZG93X2lkX3N0b3JhZ2Vfa2V5PVwicGhfXCIrcytcIl93aW5kb3dfaWRcIix0aGlzLl9wcmltYXJ5X3dpbmRvd19leGlzdHNfc3RvcmFnZV9rZXk9XCJwaF9cIitzK1wiX3ByaW1hcnlfd2luZG93X2V4aXN0c1wiLHRoaXMuX2NhblVzZVNlc3Npb25TdG9yYWdlKCkpe3ZhciBvPW10LnBhcnNlKHRoaXMuX3dpbmRvd19pZF9zdG9yYWdlX2tleSksYT1tdC5wYXJzZSh0aGlzLl9wcmltYXJ5X3dpbmRvd19leGlzdHNfc3RvcmFnZV9rZXkpO28mJiFhP3RoaXMuX3dpbmRvd0lkPW86bXQucmVtb3ZlKHRoaXMuX3dpbmRvd19pZF9zdG9yYWdlX2tleSksbXQuc2V0KHRoaXMuX3ByaW1hcnlfd2luZG93X2V4aXN0c19zdG9yYWdlX2tleSwhMCl9aWYobnVsbCE9PShyPXRoaXMuY29uZmlnLmJvb3RzdHJhcCkmJnZvaWQgMCE9PXImJnIuc2Vzc2lvbklEKXRyeXt2YXIgbD0oZT0+e3ZhciB0PWUucmVwbGFjZSgvLS9nLFwiXCIpO2lmKDMyIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTm90IGEgdmFsaWQgVVVJRFwiKTtpZihcIjdcIiE9PXRbMTJdKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIFVVSUR2N1wiKTtyZXR1cm4gcGFyc2VJbnQodC5zdWJzdHJpbmcoMCwxMiksMTYpfSkodGhpcy5jb25maWcuYm9vdHN0cmFwLnNlc3Npb25JRCk7dGhpcy5fc2V0U2Vzc2lvbklkKHRoaXMuY29uZmlnLmJvb3RzdHJhcC5zZXNzaW9uSUQsKG5ldyBEYXRlKS5nZXRUaW1lKCksbCl9Y2F0Y2goZSl7RnMuZXJyb3IoXCJJbnZhbGlkIHNlc3Npb25JRCBpbiBib290c3RyYXBcIixlKX10aGlzLl9saXN0ZW5Ub1JlbG9hZFdpbmRvdygpfWdldCBzZXNzaW9uVGltZW91dE1zKCl7cmV0dXJuIHRoaXMuX3Nlc3Npb25UaW1lb3V0TXN9b25TZXNzaW9uSWQoZSl7cmV0dXJuIHoodGhpcy5fc2Vzc2lvbklkQ2hhbmdlZEhhbmRsZXJzKSYmKHRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycz1bXSksdGhpcy5fc2Vzc2lvbklkQ2hhbmdlZEhhbmRsZXJzLnB1c2goZSksdGhpcy5fc2Vzc2lvbklkJiZlKHRoaXMuX3Nlc3Npb25JZCx0aGlzLl93aW5kb3dJZCksKCk9Pnt0aGlzLl9zZXNzaW9uSWRDaGFuZ2VkSGFuZGxlcnM9dGhpcy5fc2Vzc2lvbklkQ2hhbmdlZEhhbmRsZXJzLmZpbHRlcigodD0+dCE9PWUpKX19X2NhblVzZVNlc3Npb25TdG9yYWdlKCl7cmV0dXJuXCJtZW1vcnlcIiE9PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlJiYhdGhpcy5wZXJzaXN0ZW5jZS5kaXNhYmxlZCYmbXQuaXNfc3VwcG9ydGVkKCl9X3NldFdpbmRvd0lkKGUpe2UhPT10aGlzLl93aW5kb3dJZCYmKHRoaXMuX3dpbmRvd0lkPWUsdGhpcy5fY2FuVXNlU2Vzc2lvblN0b3JhZ2UoKSYmbXQuc2V0KHRoaXMuX3dpbmRvd19pZF9zdG9yYWdlX2tleSxlKSl9X2dldFdpbmRvd0lkKCl7cmV0dXJuIHRoaXMuX3dpbmRvd0lkP3RoaXMuX3dpbmRvd0lkOnRoaXMuX2NhblVzZVNlc3Npb25TdG9yYWdlKCk/bXQucGFyc2UodGhpcy5fd2luZG93X2lkX3N0b3JhZ2Vfa2V5KTpudWxsfV9zZXRTZXNzaW9uSWQoZSx0LGkpe2U9PT10aGlzLl9zZXNzaW9uSWQmJnQ9PT10aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXAmJmk9PT10aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXB8fCh0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXA9aSx0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXA9dCx0aGlzLl9zZXNzaW9uSWQ9ZSx0aGlzLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbRWVdOlt0LGUsaV19KSl9X2dldFNlc3Npb25JZCgpe2lmKHRoaXMuX3Nlc3Npb25JZCYmdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wJiZ0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXApcmV0dXJuW3RoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcCx0aGlzLl9zZXNzaW9uSWQsdGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wXTt2YXIgZT10aGlzLnBlcnNpc3RlbmNlLnByb3BzW0VlXTtyZXR1cm4gQihlKSYmMj09PWUubGVuZ3RoJiZlLnB1c2goZVswXSksZXx8WzAsbnVsbCwwXX1yZXNldFNlc3Npb25JZCgpe3RoaXMuX3NldFNlc3Npb25JZChudWxsLG51bGwsbnVsbCl9X2xpc3RlblRvUmVsb2FkV2luZG93KCl7Uih0LFwiYmVmb3JldW5sb2FkXCIsKCgpPT57dGhpcy5fY2FuVXNlU2Vzc2lvblN0b3JhZ2UoKSYmbXQucmVtb3ZlKHRoaXMuX3ByaW1hcnlfd2luZG93X2V4aXN0c19zdG9yYWdlX2tleSl9KSx7Y2FwdHVyZTohMX0pfWNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsO2lmKHRoaXMuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcihcImNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkIHNob3VsZCBub3QgYmUgY2FsbGVkIGluIF9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlXCIpO3ZhciBpPXR8fChuZXcgRGF0ZSkuZ2V0VGltZSgpLFtyLHMsbl09dGhpcy5fZ2V0U2Vzc2lvbklkKCksbz10aGlzLl9nZXRXaW5kb3dJZCgpLGE9WShuKSYmbj4wJiZNYXRoLmFicyhpLW4pPjg2NGU1LGw9ITEsdT0hcyxjPSFlJiZNYXRoLmFicyhpLXIpPnRoaXMuc2Vzc2lvblRpbWVvdXRNczt1fHxjfHxhPyhzPXRoaXMuX3Nlc3Npb25JZEdlbmVyYXRvcigpLG89dGhpcy5fd2luZG93SWRHZW5lcmF0b3IoKSxGcy5pbmZvKFwibmV3IHNlc3Npb24gSUQgZ2VuZXJhdGVkXCIse3Nlc3Npb25JZDpzLHdpbmRvd0lkOm8sY2hhbmdlUmVhc29uOntub1Nlc3Npb25JZDp1LGFjdGl2aXR5VGltZW91dDpjLHNlc3Npb25QYXN0TWF4aW11bUxlbmd0aDphfX0pLG49aSxsPSEwKTpvfHwobz10aGlzLl93aW5kb3dJZEdlbmVyYXRvcigpLGw9ITApO3ZhciBkPTA9PT1yfHwhZXx8YT9pOnIsaD0wPT09bj8obmV3IERhdGUpLmdldFRpbWUoKTpuO3JldHVybiB0aGlzLl9zZXRXaW5kb3dJZChvKSx0aGlzLl9zZXRTZXNzaW9uSWQocyxkLGgpLGV8fHRoaXMucmVzZXRJZGxlVGltZXIoKSxsJiZ0aGlzLl9zZXNzaW9uSWRDaGFuZ2VkSGFuZGxlcnMuZm9yRWFjaCgoZT0+ZShzLG8sbD97bm9TZXNzaW9uSWQ6dSxhY3Rpdml0eVRpbWVvdXQ6YyxzZXNzaW9uUGFzdE1heGltdW1MZW5ndGg6YX06dm9pZCAwKSkpLHtzZXNzaW9uSWQ6cyx3aW5kb3dJZDpvLHNlc3Npb25TdGFydFRpbWVzdGFtcDpoLGNoYW5nZVJlYXNvbjpsP3tub1Nlc3Npb25JZDp1LGFjdGl2aXR5VGltZW91dDpjLHNlc3Npb25QYXN0TWF4aW11bUxlbmd0aDphfTp2b2lkIDAsbGFzdEFjdGl2aXR5VGltZXN0YW1wOnJ9fXJlc2V0SWRsZVRpbWVyKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2VuZm9yY2VJZGxlVGltZW91dCksdGhpcy5fZW5mb3JjZUlkbGVUaW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5yZXNldFNlc3Npb25JZCgpfSksMS4xKnRoaXMuc2Vzc2lvblRpbWVvdXRNcyl9fSFmdW5jdGlvbihlKXtlLlVTPVwidXNcIixlLkVVPVwiZXVcIixlLkNVU1RPTT1cImN1c3RvbVwifShQc3x8KFBzPXt9KSk7dmFyIFJzPVwiaS5wb3N0aG9nLmNvbVwiO2NsYXNzICRze2NvbnN0cnVjdG9yKGUpe29lKHRoaXMsXCJfcmVnaW9uQ2FjaGVcIix7fSksdGhpcy5pbnN0YW5jZT1lfWdldCBhcGlIb3N0KCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5jb25maWcuYXBpX2hvc3QudHJpbSgpLnJlcGxhY2UoL1xcLyQvLFwiXCIpO3JldHVyblwiaHR0cHM6Ly9hcHAucG9zdGhvZy5jb21cIj09PWU/XCJodHRwczovL3VzLmkucG9zdGhvZy5jb21cIjplfWdldCB1aUhvc3QoKXt2YXIgZSx0PW51bGw9PT0oZT10aGlzLmluc3RhbmNlLmNvbmZpZy51aV9ob3N0KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5yZXBsYWNlKC9cXC8kLyxcIlwiKTtyZXR1cm4gdHx8KHQ9dGhpcy5hcGlIb3N0LnJlcGxhY2UoXCIuXCIuY29uY2F0KFJzKSxcIi5wb3N0aG9nLmNvbVwiKSksXCJodHRwczovL2FwcC5wb3N0aG9nLmNvbVwiPT09dD9cImh0dHBzOi8vdXMucG9zdGhvZy5jb21cIjp0fWdldCByZWdpb24oKXtyZXR1cm4gdGhpcy5fcmVnaW9uQ2FjaGVbdGhpcy5hcGlIb3N0XXx8KC9odHRwczpcXC9cXC8oYXBwfHVzfHVzLWFzc2V0cykoXFwuaSk/XFwucG9zdGhvZ1xcLmNvbS9pLnRlc3QodGhpcy5hcGlIb3N0KT90aGlzLl9yZWdpb25DYWNoZVt0aGlzLmFwaUhvc3RdPVBzLlVTOi9odHRwczpcXC9cXC8oZXV8ZXUtYXNzZXRzKShcXC5pKT9cXC5wb3N0aG9nXFwuY29tL2kudGVzdCh0aGlzLmFwaUhvc3QpP3RoaXMuX3JlZ2lvbkNhY2hlW3RoaXMuYXBpSG9zdF09UHMuRVU6dGhpcy5fcmVnaW9uQ2FjaGVbdGhpcy5hcGlIb3N0XT1Qcy5DVVNUT00pLHRoaXMuX3JlZ2lvbkNhY2hlW3RoaXMuYXBpSG9zdF19ZW5kcG9pbnRGb3IoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiXCI7aWYodCYmKHQ9XCIvXCI9PT10WzBdP3Q6XCIvXCIuY29uY2F0KHQpKSxcInVpXCI9PT1lKXJldHVybiB0aGlzLnVpSG9zdCt0O2lmKHRoaXMucmVnaW9uPT09UHMuQ1VTVE9NKXJldHVybiB0aGlzLmFwaUhvc3QrdDt2YXIgaT1Scyt0O3N3aXRjaChlKXtjYXNlXCJhc3NldHNcIjpyZXR1cm5cImh0dHBzOi8vXCIuY29uY2F0KHRoaXMucmVnaW9uLFwiLWFzc2V0cy5cIikuY29uY2F0KGkpO2Nhc2VcImFwaVwiOnJldHVyblwiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5yZWdpb24sXCIuXCIpLmNvbmNhdChpKX19fXZhciBPcz1cInBvc3Rob2ctanNcIjtmdW5jdGlvbiBNcyhlKXt2YXJ7b3JnYW5pemF0aW9uOnQscHJvamVjdElkOmkscHJlZml4OnIsc2V2ZXJpdHlBbGxvd0xpc3Q6cz1bXCJlcnJvclwiXX09YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBuPT57dmFyIG8sYSxsLHUsYztpZighKFwiKlwiPT09c3x8cy5pbmNsdWRlcyhuLmxldmVsKSl8fCFlLl9fbG9hZGVkKXJldHVybiBuO24udGFnc3x8KG4udGFncz17fSk7dmFyIGQ9ZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwidWlcIixcIi9wcm9qZWN0L1wiLmNvbmNhdChlLmNvbmZpZy50b2tlbixcIi9wZXJzb24vXCIpLmNvbmNhdChlLmdldF9kaXN0aW5jdF9pZCgpKSk7bi50YWdzW1wiUG9zdEhvZyBQZXJzb24gVVJMXCJdPWQsZS5zZXNzaW9uUmVjb3JkaW5nU3RhcnRlZCgpJiYobi50YWdzW1wiUG9zdEhvZyBSZWNvcmRpbmcgVVJMXCJdPWUuZ2V0X3Nlc3Npb25fcmVwbGF5X3VybCh7d2l0aFRpbWVzdGFtcDohMH0pKTt2YXIgaD0obnVsbD09PShvPW4uZXhjZXB0aW9uKXx8dm9pZCAwPT09bz92b2lkIDA6by52YWx1ZXMpfHxbXTtoLmZvckVhY2goKGU9PntlLnN0YWNrdHJhY2UmJihlLnN0YWNrdHJhY2UudHlwZT1cInJhd1wiLGUuc3RhY2t0cmFjZS5mcmFtZXMuZm9yRWFjaCgoZT0+e2UucGxhdGZvcm09XCJ3ZWI6amF2YXNjcmlwdFwifSkpKX0pKTt2YXIgXz17JGV4Y2VwdGlvbl9tZXNzYWdlOihudWxsPT09KGE9aFswXSl8fHZvaWQgMD09PWE/dm9pZCAwOmEudmFsdWUpfHxuLm1lc3NhZ2UsJGV4Y2VwdGlvbl90eXBlOm51bGw9PT0obD1oWzBdKXx8dm9pZCAwPT09bD92b2lkIDA6bC50eXBlLCRleGNlcHRpb25fcGVyc29uVVJMOmQsJGV4Y2VwdGlvbl9sZXZlbDpuLmxldmVsLCRleGNlcHRpb25fbGlzdDpoLCRzZW50cnlfZXZlbnRfaWQ6bi5ldmVudF9pZCwkc2VudHJ5X2V4Y2VwdGlvbjpuLmV4Y2VwdGlvbiwkc2VudHJ5X2V4Y2VwdGlvbl9tZXNzYWdlOihudWxsPT09KHU9aFswXSl8fHZvaWQgMD09PXU/dm9pZCAwOnUudmFsdWUpfHxuLm1lc3NhZ2UsJHNlbnRyeV9leGNlcHRpb25fdHlwZTpudWxsPT09KGM9aFswXSl8fHZvaWQgMD09PWM/dm9pZCAwOmMudHlwZSwkc2VudHJ5X3RhZ3M6bi50YWdzfTtyZXR1cm4gdCYmaSYmKF8uJHNlbnRyeV91cmw9KHJ8fFwiaHR0cHM6Ly9zZW50cnkuaW8vb3JnYW5pemF0aW9ucy9cIikrdCtcIi9pc3N1ZXMvP3Byb2plY3Q9XCIraStcIiZxdWVyeT1cIituLmV2ZW50X2lkKSxlLmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KF8pLG59fWNsYXNzIEFze2NvbnN0cnVjdG9yKGUsdCxpLHIscyl7dGhpcy5uYW1lPU9zLHRoaXMuc2V0dXBPbmNlPWZ1bmN0aW9uKG4pe24oTXMoZSx7b3JnYW5pemF0aW9uOnQscHJvamVjdElkOmkscHJlZml4OnIsc2V2ZXJpdHlBbGxvd0xpc3Q6c30pKX19fXZhciBMcz10ZShcIltTZWdtZW50SW50ZWdyYXRpb25dXCIpO2Z1bmN0aW9uIERzKGUsdCl7dmFyIGk9ZS5jb25maWcuc2VnbWVudDtpZighaSlyZXR1cm4gdCgpOyFmdW5jdGlvbihlLHQpe3ZhciBpPWUuY29uZmlnLnNlZ21lbnQ7aWYoIWkpcmV0dXJuIHQoKTt2YXIgcj1pPT57dmFyIHI9KCk9PmkuYW5vbnltb3VzSWQoKXx8c3QoKTtlLmNvbmZpZy5nZXRfZGV2aWNlX2lkPXIsaS5pZCgpJiYoZS5yZWdpc3Rlcih7ZGlzdGluY3RfaWQ6aS5pZCgpLCRkZXZpY2VfaWQ6cigpfSksZS5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkoQWUsXCJpZGVudGlmaWVkXCIpKSx0KCl9LHM9aS51c2VyKCk7XCJ0aGVuXCJpbiBzJiZIKHMudGhlbik/cy50aGVuKChlPT5yKGUpKSk6cihzKX0oZSwoKCk9PntpLnJlZ2lzdGVyKChlPT57UHJvbWlzZSYmUHJvbWlzZS5yZXNvbHZlfHxMcy53YXJuKFwiVGhpcyBicm93c2VyIGRvZXMgbm90IGhhdmUgUHJvbWlzZSBzdXBwb3J0LCBhbmQgY2FuIG5vdCB1c2UgdGhlIHNlZ21lbnQgaW50ZWdyYXRpb25cIik7dmFyIHQ9KHQsaSk9Pnt2YXIgcjtpZighaSlyZXR1cm4gdDt0LmV2ZW50LnVzZXJJZHx8dC5ldmVudC5hbm9ueW1vdXNJZD09PWUuZ2V0X2Rpc3RpbmN0X2lkKCl8fChMcy5pbmZvKFwiTm8gdXNlcklkIHNldCwgcmVzZXR0aW5nIFBvc3RIb2dcIiksZS5yZXNldCgpKSx0LmV2ZW50LnVzZXJJZCYmdC5ldmVudC51c2VySWQhPT1lLmdldF9kaXN0aW5jdF9pZCgpJiYoTHMuaW5mbyhcIlVzZXJJZCBzZXQsIGlkZW50aWZ5aW5nIHdpdGggUG9zdEhvZ1wiKSxlLmlkZW50aWZ5KHQuZXZlbnQudXNlcklkKSk7dmFyIHM9ZS5fY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXMoaSxudWxsIT09KHI9dC5ldmVudC5wcm9wZXJ0aWVzKSYmdm9pZCAwIT09cj9yOnt9LG5ldyBEYXRlKTtyZXR1cm4gdC5ldmVudC5wcm9wZXJ0aWVzPU9iamVjdC5hc3NpZ24oe30scyx0LmV2ZW50LnByb3BlcnRpZXMpLHR9O3JldHVybntuYW1lOlwiUG9zdEhvZyBKU1wiLHR5cGU6XCJlbnJpY2htZW50XCIsdmVyc2lvbjpcIjEuMC4wXCIsaXNMb2FkZWQ6KCk9PiEwLGxvYWQ6KCk9PlByb21pc2UucmVzb2x2ZSgpLHRyYWNrOmU9PnQoZSxlLmV2ZW50LmV2ZW50KSxwYWdlOmU9PnQoZSxcIiRwYWdldmlld1wiKSxpZGVudGlmeTplPT50KGUsXCIkaWRlbnRpZnlcIiksc2NyZWVuOmU9PnQoZSxcIiRzY3JlZW5cIil9fSkoZSkpLnRoZW4oKCgpPT57dCgpfSkpfSkpfWNsYXNzIE5ze2NvbnN0cnVjdG9yKGUpe3RoaXMuX2luc3RhbmNlPWV9ZG9QYWdlVmlldyhlLGkpe3ZhciByLHM9dGhpcy5fcHJldmlvdXNQYWdlVmlld1Byb3BlcnRpZXMoZSxpKTtyZXR1cm4gdGhpcy5fY3VycmVudFBhZ2V2aWV3PXtwYXRobmFtZTpudWxsIT09KHI9bnVsbD09dD92b2lkIDA6dC5sb2NhdGlvbi5wYXRobmFtZSkmJnZvaWQgMCE9PXI/cjpcIlwiLHBhZ2VWaWV3SWQ6aSx0aW1lc3RhbXA6ZX0sdGhpcy5faW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5yZXNldENvbnRleHQoKSxzfWRvUGFnZUxlYXZlKGUpe3ZhciB0O3JldHVybiB0aGlzLl9wcmV2aW91c1BhZ2VWaWV3UHJvcGVydGllcyhlLG51bGw9PT0odD10aGlzLl9jdXJyZW50UGFnZXZpZXcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnBhZ2VWaWV3SWQpfWRvRXZlbnQoKXt2YXIgZTtyZXR1cm57JHBhZ2V2aWV3X2lkOm51bGw9PT0oZT10aGlzLl9jdXJyZW50UGFnZXZpZXcpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnBhZ2VWaWV3SWR9fV9wcmV2aW91c1BhZ2VWaWV3UHJvcGVydGllcyhlLHQpe3ZhciBpPXRoaXMuX2N1cnJlbnRQYWdldmlldztpZighaSlyZXR1cm57JHBhZ2V2aWV3X2lkOnR9O3ZhciByPXskcGFnZXZpZXdfaWQ6dCwkcHJldl9wYWdldmlld19pZDppLnBhZ2VWaWV3SWR9LHM9dGhpcy5faW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5nZXRDb250ZXh0KCk7aWYocyYmIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3Njcm9sbF9wcm9wZXJ0aWVzKXt2YXJ7bWF4U2Nyb2xsSGVpZ2h0Om4sbGFzdFNjcm9sbFk6byxtYXhTY3JvbGxZOmEsbWF4Q29udGVudEhlaWdodDpsLGxhc3RDb250ZW50WTp1LG1heENvbnRlbnRZOmN9PXM7aWYoISh6KG4pfHx6KG8pfHx6KGEpfHx6KGwpfHx6KHUpfHx6KGMpKSl7bj1NYXRoLmNlaWwobiksbz1NYXRoLmNlaWwobyksYT1NYXRoLmNlaWwoYSksbD1NYXRoLmNlaWwobCksdT1NYXRoLmNlaWwodSksYz1NYXRoLmNlaWwoYyk7dmFyIGQ9bjw9MT8xOnByKG8vbiwwLDEpLGg9bjw9MT8xOnByKGEvbiwwLDEpLF89bDw9MT8xOnByKHUvbCwwLDEpLHA9bDw9MT8xOnByKGMvbCwwLDEpO3I9dyhyLHskcHJldl9wYWdldmlld19sYXN0X3Njcm9sbDpvLCRwcmV2X3BhZ2V2aWV3X2xhc3Rfc2Nyb2xsX3BlcmNlbnRhZ2U6ZCwkcHJldl9wYWdldmlld19tYXhfc2Nyb2xsOmEsJHByZXZfcGFnZXZpZXdfbWF4X3Njcm9sbF9wZXJjZW50YWdlOmgsJHByZXZfcGFnZXZpZXdfbGFzdF9jb250ZW50OnUsJHByZXZfcGFnZXZpZXdfbGFzdF9jb250ZW50X3BlcmNlbnRhZ2U6XywkcHJldl9wYWdldmlld19tYXhfY29udGVudDpjLCRwcmV2X3BhZ2V2aWV3X21heF9jb250ZW50X3BlcmNlbnRhZ2U6cH0pfX1yZXR1cm4gaS5wYXRobmFtZSYmKHIuJHByZXZfcGFnZXZpZXdfcGF0aG5hbWU9aS5wYXRobmFtZSksaS50aW1lc3RhbXAmJihyLiRwcmV2X3BhZ2V2aWV3X2R1cmF0aW9uPShlLmdldFRpbWUoKS1pLnRpbWVzdGFtcC5nZXRUaW1lKCkpLzFlMykscn19dmFyIHFzLEJzLEhzLFVzLGpzLHpzLFdzLFZzLEdzPXt9LEpzPVtdLFlzPS9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8Z3JpZHxvd3N8bW5jfG50d3xpbmVbY2hdfHpvb3xeb3JkfGl0ZXJhL2ksS3M9QXJyYXkuaXNBcnJheTtmdW5jdGlvbiBYcyhlLHQpe2Zvcih2YXIgaSBpbiB0KWVbaV09dFtpXTtyZXR1cm4gZX1mdW5jdGlvbiBRcyhlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmdC5yZW1vdmVDaGlsZChlKX1mdW5jdGlvbiBacyhlLHQsaSxyLHMpe3ZhciBuPXt0eXBlOmUscHJvcHM6dCxrZXk6aSxyZWY6cixfX2s6bnVsbCxfXzpudWxsLF9fYjowLF9fZTpudWxsLF9fZDp2b2lkIDAsX19jOm51bGwsY29uc3RydWN0b3I6dm9pZCAwLF9fdjpudWxsPT1zPysrSHM6cyxfX2k6LTEsX191OjB9O3JldHVybiBudWxsPT1zJiZudWxsIT1Ccy52bm9kZSYmQnMudm5vZGUobiksbn1mdW5jdGlvbiBlbihlKXtyZXR1cm4gZS5jaGlsZHJlbn1mdW5jdGlvbiB0bihlLHQpe3RoaXMucHJvcHM9ZSx0aGlzLmNvbnRleHQ9dH1mdW5jdGlvbiBybihlLHQpe2lmKG51bGw9PXQpcmV0dXJuIGUuX18/cm4oZS5fXyxlLl9faSsxKTpudWxsO2Zvcih2YXIgaTt0PGUuX19rLmxlbmd0aDt0KyspaWYobnVsbCE9KGk9ZS5fX2tbdF0pJiZudWxsIT1pLl9fZSlyZXR1cm4gaS5fX2U7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZS50eXBlP3JuKGUpOm51bGx9ZnVuY3Rpb24gc24oZSl7dmFyIHQsaTtpZihudWxsIT0oZT1lLl9fKSYmbnVsbCE9ZS5fX2Mpe2ZvcihlLl9fZT1lLl9fYy5iYXNlPW51bGwsdD0wO3Q8ZS5fX2subGVuZ3RoO3QrKylpZihudWxsIT0oaT1lLl9fa1t0XSkmJm51bGwhPWkuX19lKXtlLl9fZT1lLl9fYy5iYXNlPWkuX19lO2JyZWFrfXJldHVybiBzbihlKX19ZnVuY3Rpb24gbm4oZSl7KCFlLl9fZCYmKGUuX19kPSEwKSYmVXMucHVzaChlKSYmIW9uLl9fcisrfHxqcyE9PUJzLmRlYm91bmNlUmVuZGVyaW5nKSYmKChqcz1Ccy5kZWJvdW5jZVJlbmRlcmluZyl8fHpzKShvbil9ZnVuY3Rpb24gb24oKXt2YXIgZSx0LGkscixzLG4sbyxhLGw7Zm9yKFVzLnNvcnQoV3MpO2U9VXMuc2hpZnQoKTspZS5fX2QmJih0PVVzLmxlbmd0aCxyPXZvaWQgMCxuPShzPShpPWUpLl9fdikuX19lLGE9W10sbD1bXSwobz1pLl9fUCkmJigocj1Ycyh7fSxzKSkuX192PXMuX192KzEsQnMudm5vZGUmJkJzLnZub2RlKHIpLHZuKG8scixzLGkuX19uLHZvaWQgMCE9PW8ub3duZXJTVkdFbGVtZW50LDMyJnMuX191P1tuXTpudWxsLGEsbnVsbD09bj9ybihzKTpuLCEhKDMyJnMuX191KSxsKSxyLl9fLl9fa1tyLl9faV09cixnbihhLHIsbCksci5fX2UhPW4mJnNuKHIpKSxVcy5sZW5ndGg+dCYmVXMuc29ydChXcykpO29uLl9fcj0wfWZ1bmN0aW9uIGFuKGUsdCxpLHIscyxuLG8sYSxsLHUsYyl7dmFyIGQsaCxfLHAsdixnPXImJnIuX19rfHxKcyxmPXQubGVuZ3RoO2ZvcihpLl9fZD1sLGxuKGksdCxnKSxsPWkuX19kLGQ9MDtkPGY7ZCsrKW51bGwhPShfPWkuX19rW2RdKSYmXCJib29sZWFuXCIhPXR5cGVvZiBfJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBfJiYoaD0tMT09PV8uX19pP0dzOmdbXy5fX2ldfHxHcyxfLl9faT1kLHZuKGUsXyxoLHMsbixvLGEsbCx1LGMpLHA9Xy5fX2UsXy5yZWYmJmgucmVmIT1fLnJlZiYmKGgucmVmJiZtbihoLnJlZixudWxsLF8pLGMucHVzaChfLnJlZixfLl9fY3x8cCxfKSksbnVsbD09diYmbnVsbCE9cCYmKHY9cCksNjU1MzYmXy5fX3V8fGguX19rPT09Xy5fX2s/bD11bihfLGwsZSk6XCJmdW5jdGlvblwiPT10eXBlb2YgXy50eXBlJiZ2b2lkIDAhPT1fLl9fZD9sPV8uX19kOnAmJihsPXAubmV4dFNpYmxpbmcpLF8uX19kPXZvaWQgMCxfLl9fdSY9LTE5NjYwOSk7aS5fX2Q9bCxpLl9fZT12fWZ1bmN0aW9uIGxuKGUsdCxpKXt2YXIgcixzLG4sbyxhLGw9dC5sZW5ndGgsdT1pLmxlbmd0aCxjPXUsZD0wO2ZvcihlLl9faz1bXSxyPTA7cjxsO3IrKyludWxsIT0ocz1lLl9fa1tyXT1udWxsPT0ocz10W3JdKXx8XCJib29sZWFuXCI9PXR5cGVvZiBzfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBzP251bGw6XCJzdHJpbmdcIj09dHlwZW9mIHN8fFwibnVtYmVyXCI9PXR5cGVvZiBzfHxcImJpZ2ludFwiPT10eXBlb2Ygc3x8cy5jb25zdHJ1Y3Rvcj09U3RyaW5nP1pzKG51bGwscyxudWxsLG51bGwscyk6S3Mocyk/WnMoZW4se2NoaWxkcmVuOnN9LG51bGwsbnVsbCxudWxsKTp2b2lkIDA9PT1zLmNvbnN0cnVjdG9yJiZzLl9fYj4wP1pzKHMudHlwZSxzLnByb3BzLHMua2V5LHMucmVmP3MucmVmOm51bGwscy5fX3YpOnMpPyhzLl9fPWUscy5fX2I9ZS5fX2IrMSxhPWNuKHMsaSxvPXIrZCxjKSxzLl9faT1hLG49bnVsbCwtMSE9PWEmJihjLS0sKG49aVthXSkmJihuLl9fdXw9MTMxMDcyKSksbnVsbD09bnx8bnVsbD09PW4uX192PygtMT09YSYmZC0tLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHMudHlwZSYmKHMuX191fD02NTUzNikpOmEhPT1vJiYoYT09PW8rMT9kKys6YT5vP2M+bC1vP2QrPWEtbzpkLS06ZD1hPG8mJmE9PW8tMT9hLW86MCxhIT09citkJiYocy5fX3V8PTY1NTM2KSkpOihuPWlbcl0pJiZudWxsPT1uLmtleSYmbi5fX2UmJihuLl9fZT09ZS5fX2QmJihlLl9fZD1ybihuKSksYm4obixuLCExKSxpW3JdPW51bGwsYy0tKTtpZihjKWZvcihyPTA7cjx1O3IrKyludWxsIT0obj1pW3JdKSYmMD09KDEzMTA3MiZuLl9fdSkmJihuLl9fZT09ZS5fX2QmJihlLl9fZD1ybihuKSksYm4obixuKSl9ZnVuY3Rpb24gdW4oZSx0LGkpe3ZhciByLHM7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS50eXBlKXtmb3Iocj1lLl9fayxzPTA7ciYmczxyLmxlbmd0aDtzKyspcltzXSYmKHJbc10uX189ZSx0PXVuKHJbc10sdCxpKSk7cmV0dXJuIHR9cmV0dXJuIGUuX19lIT10JiYoaS5pbnNlcnRCZWZvcmUoZS5fX2UsdHx8bnVsbCksdD1lLl9fZSksdCYmdC5uZXh0U2libGluZ31mdW5jdGlvbiBjbihlLHQsaSxyKXt2YXIgcz1lLmtleSxuPWUudHlwZSxvPWktMSxhPWkrMSxsPXRbaV07aWYobnVsbD09PWx8fGwmJnM9PWwua2V5JiZuPT09bC50eXBlKXJldHVybiBpO2lmKHI+KG51bGwhPWwmJjA9PSgxMzEwNzImbC5fX3UpPzE6MCkpZm9yKDtvPj0wfHxhPHQubGVuZ3RoOyl7aWYobz49MCl7aWYoKGw9dFtvXSkmJjA9PSgxMzEwNzImbC5fX3UpJiZzPT1sLmtleSYmbj09PWwudHlwZSlyZXR1cm4gbztvLS19aWYoYTx0Lmxlbmd0aCl7aWYoKGw9dFthXSkmJjA9PSgxMzEwNzImbC5fX3UpJiZzPT1sLmtleSYmbj09PWwudHlwZSlyZXR1cm4gYTthKyt9fXJldHVybi0xfWZ1bmN0aW9uIGRuKGUsdCxpKXtcIi1cIj09PXRbMF0/ZS5zZXRQcm9wZXJ0eSh0LG51bGw9PWk/XCJcIjppKTplW3RdPW51bGw9PWk/XCJcIjpcIm51bWJlclwiIT10eXBlb2YgaXx8WXMudGVzdCh0KT9pOmkrXCJweFwifWZ1bmN0aW9uIGhuKGUsdCxpLHIscyl7dmFyIG47ZTppZihcInN0eWxlXCI9PT10KWlmKFwic3RyaW5nXCI9PXR5cGVvZiBpKWUuc3R5bGUuY3NzVGV4dD1pO2Vsc2V7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHImJihlLnN0eWxlLmNzc1RleHQ9cj1cIlwiKSxyKWZvcih0IGluIHIpaSYmdCBpbiBpfHxkbihlLnN0eWxlLHQsXCJcIik7aWYoaSlmb3IodCBpbiBpKXImJmlbdF09PT1yW3RdfHxkbihlLnN0eWxlLHQsaVt0XSl9ZWxzZSBpZihcIm9cIj09PXRbMF0mJlwiblwiPT09dFsxXSluPXQhPT0odD10LnJlcGxhY2UoLyhQb2ludGVyQ2FwdHVyZSkkfENhcHR1cmUkLyxcIiQxXCIpKSx0PXQudG9Mb3dlckNhc2UoKWluIGU/dC50b0xvd2VyQ2FzZSgpLnNsaWNlKDIpOnQuc2xpY2UoMiksZS5sfHwoZS5sPXt9KSxlLmxbdCtuXT1pLGk/cj9pLnU9ci51OihpLnU9RGF0ZS5ub3coKSxlLmFkZEV2ZW50TGlzdGVuZXIodCxuP3BuOl9uLG4pKTplLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuP3BuOl9uLG4pO2Vsc2V7aWYocyl0PXQucmVwbGFjZSgveGxpbmsoSHw6aCkvLFwiaFwiKS5yZXBsYWNlKC9zTmFtZSQvLFwic1wiKTtlbHNlIGlmKFwid2lkdGhcIiE9PXQmJlwiaGVpZ2h0XCIhPT10JiZcImhyZWZcIiE9PXQmJlwibGlzdFwiIT09dCYmXCJmb3JtXCIhPT10JiZcInRhYkluZGV4XCIhPT10JiZcImRvd25sb2FkXCIhPT10JiZcInJvd1NwYW5cIiE9PXQmJlwiY29sU3BhblwiIT09dCYmXCJyb2xlXCIhPT10JiZ0IGluIGUpdHJ5e2VbdF09bnVsbD09aT9cIlwiOmk7YnJlYWsgZX1jYXRjaChlKXt9XCJmdW5jdGlvblwiPT10eXBlb2YgaXx8KG51bGw9PWl8fCExPT09aSYmXCItXCIhPT10WzRdP2UucmVtb3ZlQXR0cmlidXRlKHQpOmUuc2V0QXR0cmlidXRlKHQsaSkpfX1mdW5jdGlvbiBfbihlKXt2YXIgdD10aGlzLmxbZS50eXBlKyExXTtpZihlLnQpe2lmKGUudDw9dC51KXJldHVybn1lbHNlIGUudD1EYXRlLm5vdygpO3JldHVybiB0KEJzLmV2ZW50P0JzLmV2ZW50KGUpOmUpfWZ1bmN0aW9uIHBuKGUpe3JldHVybiB0aGlzLmxbZS50eXBlKyEwXShCcy5ldmVudD9Ccy5ldmVudChlKTplKX1mdW5jdGlvbiB2bihlLHQsaSxyLHMsbixvLGEsbCx1KXt2YXIgYyxkLGgsXyxwLHYsZyxmLG0sYix5LHcsUyxrLEUseD10LnR5cGU7aWYodm9pZCAwIT09dC5jb25zdHJ1Y3RvcilyZXR1cm4gbnVsbDsxMjgmaS5fX3UmJihsPSEhKDMyJmkuX191KSxuPVthPXQuX19lPWkuX19lXSksKGM9QnMuX19iKSYmYyh0KTtlOmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHgpdHJ5e2lmKGY9dC5wcm9wcyxtPShjPXguY29udGV4dFR5cGUpJiZyW2MuX19jXSxiPWM/bT9tLnByb3BzLnZhbHVlOmMuX186cixpLl9fYz9nPShkPXQuX19jPWkuX19jKS5fXz1kLl9fRTooXCJwcm90b3R5cGVcImluIHgmJngucHJvdG90eXBlLnJlbmRlcj90Ll9fYz1kPW5ldyB4KGYsYik6KHQuX19jPWQ9bmV3IHRuKGYsYiksZC5jb25zdHJ1Y3Rvcj14LGQucmVuZGVyPXluKSxtJiZtLnN1YihkKSxkLnByb3BzPWYsZC5zdGF0ZXx8KGQuc3RhdGU9e30pLGQuY29udGV4dD1iLGQuX19uPXIsaD1kLl9fZD0hMCxkLl9faD1bXSxkLl9zYj1bXSksbnVsbD09ZC5fX3MmJihkLl9fcz1kLnN0YXRlKSxudWxsIT14LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmKGQuX19zPT1kLnN0YXRlJiYoZC5fX3M9WHMoe30sZC5fX3MpKSxYcyhkLl9fcyx4LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhmLGQuX19zKSkpLF89ZC5wcm9wcyxwPWQuc3RhdGUsZC5fX3Y9dCxoKW51bGw9PXguZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZudWxsIT1kLmNvbXBvbmVudFdpbGxNb3VudCYmZC5jb21wb25lbnRXaWxsTW91bnQoKSxudWxsIT1kLmNvbXBvbmVudERpZE1vdW50JiZkLl9faC5wdXNoKGQuY29tcG9uZW50RGlkTW91bnQpO2Vsc2V7aWYobnVsbD09eC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJmYhPT1fJiZudWxsIT1kLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJmQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhmLGIpLCFkLl9fZSYmKG51bGwhPWQuc2hvdWxkQ29tcG9uZW50VXBkYXRlJiYhMT09PWQuc2hvdWxkQ29tcG9uZW50VXBkYXRlKGYsZC5fX3MsYil8fHQuX192PT09aS5fX3YpKXtmb3IodC5fX3YhPT1pLl9fdiYmKGQucHJvcHM9ZixkLnN0YXRlPWQuX19zLGQuX19kPSExKSx0Ll9fZT1pLl9fZSx0Ll9faz1pLl9fayx0Ll9fay5mb3JFYWNoKChmdW5jdGlvbihlKXtlJiYoZS5fXz10KX0pKSx5PTA7eTxkLl9zYi5sZW5ndGg7eSsrKWQuX19oLnB1c2goZC5fc2JbeV0pO2QuX3NiPVtdLGQuX19oLmxlbmd0aCYmby5wdXNoKGQpO2JyZWFrIGV9bnVsbCE9ZC5jb21wb25lbnRXaWxsVXBkYXRlJiZkLmNvbXBvbmVudFdpbGxVcGRhdGUoZixkLl9fcyxiKSxudWxsIT1kLmNvbXBvbmVudERpZFVwZGF0ZSYmZC5fX2gucHVzaCgoZnVuY3Rpb24oKXtkLmNvbXBvbmVudERpZFVwZGF0ZShfLHAsdil9KSl9aWYoZC5jb250ZXh0PWIsZC5wcm9wcz1mLGQuX19QPWUsZC5fX2U9ITEsdz1Ccy5fX3IsUz0wLFwicHJvdG90eXBlXCJpbiB4JiZ4LnByb3RvdHlwZS5yZW5kZXIpe2ZvcihkLnN0YXRlPWQuX19zLGQuX19kPSExLHcmJncodCksYz1kLnJlbmRlcihkLnByb3BzLGQuc3RhdGUsZC5jb250ZXh0KSxrPTA7azxkLl9zYi5sZW5ndGg7aysrKWQuX19oLnB1c2goZC5fc2Jba10pO2QuX3NiPVtdfWVsc2UgZG97ZC5fX2Q9ITEsdyYmdyh0KSxjPWQucmVuZGVyKGQucHJvcHMsZC5zdGF0ZSxkLmNvbnRleHQpLGQuc3RhdGU9ZC5fX3N9d2hpbGUoZC5fX2QmJisrUzwyNSk7ZC5zdGF0ZT1kLl9fcyxudWxsIT1kLmdldENoaWxkQ29udGV4dCYmKHI9WHMoWHMoe30sciksZC5nZXRDaGlsZENvbnRleHQoKSkpLGh8fG51bGw9PWQuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fCh2PWQuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoXyxwKSksYW4oZSxLcyhFPW51bGwhPWMmJmMudHlwZT09PWVuJiZudWxsPT1jLmtleT9jLnByb3BzLmNoaWxkcmVuOmMpP0U6W0VdLHQsaSxyLHMsbixvLGEsbCx1KSxkLmJhc2U9dC5fX2UsdC5fX3UmPS0xNjEsZC5fX2gubGVuZ3RoJiZvLnB1c2goZCksZyYmKGQuX19FPWQuX189bnVsbCl9Y2F0Y2goZSl7dC5fX3Y9bnVsbCxsfHxudWxsIT1uPyh0Ll9fZT1hLHQuX191fD1sPzE2MDozMixuW24uaW5kZXhPZihhKV09bnVsbCk6KHQuX19lPWkuX19lLHQuX19rPWkuX19rKSxCcy5fX2UoZSx0LGkpfWVsc2UgbnVsbD09biYmdC5fX3Y9PT1pLl9fdj8odC5fX2s9aS5fX2ssdC5fX2U9aS5fX2UpOnQuX19lPWZuKGkuX19lLHQsaSxyLHMsbixvLGwsdSk7KGM9QnMuZGlmZmVkKSYmYyh0KX1mdW5jdGlvbiBnbihlLHQsaSl7dC5fX2Q9dm9pZCAwO2Zvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKW1uKGlbcl0saVsrK3JdLGlbKytyXSk7QnMuX19jJiZCcy5fX2ModCxlKSxlLnNvbWUoKGZ1bmN0aW9uKHQpe3RyeXtlPXQuX19oLHQuX19oPVtdLGUuc29tZSgoZnVuY3Rpb24oZSl7ZS5jYWxsKHQpfSkpfWNhdGNoKGUpe0JzLl9fZShlLHQuX192KX19KSl9ZnVuY3Rpb24gZm4oZSx0LGkscixzLG4sbyxhLGwpe3ZhciB1LGMsZCxoLF8scCx2LGc9aS5wcm9wcyxmPXQucHJvcHMsbT10LnR5cGU7aWYoXCJzdmdcIj09PW0mJihzPSEwKSxudWxsIT1uKWZvcih1PTA7dTxuLmxlbmd0aDt1KyspaWYoKF89blt1XSkmJlwic2V0QXR0cmlidXRlXCJpbiBfPT0hIW0mJihtP18ubG9jYWxOYW1lPT09bTozPT09Xy5ub2RlVHlwZSkpe2U9XyxuW3VdPW51bGw7YnJlYWt9aWYobnVsbD09ZSl7aWYobnVsbD09PW0pcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGYpO2U9cz9kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLG0pOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobSxmLmlzJiZmKSxuPW51bGwsYT0hMX1pZihudWxsPT09bSlnPT09Znx8YSYmZS5kYXRhPT09Znx8KGUuZGF0YT1mKTtlbHNle2lmKG49biYmcXMuY2FsbChlLmNoaWxkTm9kZXMpLGc9aS5wcm9wc3x8R3MsIWEmJm51bGwhPW4pZm9yKGc9e30sdT0wO3U8ZS5hdHRyaWJ1dGVzLmxlbmd0aDt1KyspZ1soXz1lLmF0dHJpYnV0ZXNbdV0pLm5hbWVdPV8udmFsdWU7Zm9yKHUgaW4gZylfPWdbdV0sXCJjaGlsZHJlblwiPT11fHwoXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT11P2Q9XzpcImtleVwiPT09dXx8dSBpbiBmfHxobihlLHUsbnVsbCxfLHMpKTtmb3IodSBpbiBmKV89Zlt1XSxcImNoaWxkcmVuXCI9PXU/aD1fOlwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09dT9jPV86XCJ2YWx1ZVwiPT11P3A9XzpcImNoZWNrZWRcIj09dT92PV86XCJrZXlcIj09PXV8fGEmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIF98fGdbdV09PT1ffHxobihlLHUsXyxnW3VdLHMpO2lmKGMpYXx8ZCYmKGMuX19odG1sPT09ZC5fX2h0bWx8fGMuX19odG1sPT09ZS5pbm5lckhUTUwpfHwoZS5pbm5lckhUTUw9Yy5fX2h0bWwpLHQuX19rPVtdO2Vsc2UgaWYoZCYmKGUuaW5uZXJIVE1MPVwiXCIpLGFuKGUsS3MoaCk/aDpbaF0sdCxpLHIscyYmXCJmb3JlaWduT2JqZWN0XCIhPT1tLG4sbyxuP25bMF06aS5fX2smJnJuKGksMCksYSxsKSxudWxsIT1uKWZvcih1PW4ubGVuZ3RoO3UtLTspbnVsbCE9blt1XSYmUXMoblt1XSk7YXx8KHU9XCJ2YWx1ZVwiLHZvaWQgMCE9PXAmJihwIT09ZVt1XXx8XCJwcm9ncmVzc1wiPT09bSYmIXB8fFwib3B0aW9uXCI9PT1tJiZwIT09Z1t1XSkmJmhuKGUsdSxwLGdbdV0sITEpLHU9XCJjaGVja2VkXCIsdm9pZCAwIT09diYmdiE9PWVbdV0mJmhuKGUsdSx2LGdbdV0sITEpKX1yZXR1cm4gZX1mdW5jdGlvbiBtbihlLHQsaSl7dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSh0KTplLmN1cnJlbnQ9dH1jYXRjaChlKXtCcy5fX2UoZSxpKX19ZnVuY3Rpb24gYm4oZSx0LGkpe3ZhciByLHM7aWYoQnMudW5tb3VudCYmQnMudW5tb3VudChlKSwocj1lLnJlZikmJihyLmN1cnJlbnQmJnIuY3VycmVudCE9PWUuX19lfHxtbihyLG51bGwsdCkpLG51bGwhPShyPWUuX19jKSl7aWYoci5jb21wb25lbnRXaWxsVW5tb3VudCl0cnl7ci5jb21wb25lbnRXaWxsVW5tb3VudCgpfWNhdGNoKGUpe0JzLl9fZShlLHQpfXIuYmFzZT1yLl9fUD1udWxsLGUuX19jPXZvaWQgMH1pZihyPWUuX19rKWZvcihzPTA7czxyLmxlbmd0aDtzKyspcltzXSYmYm4ocltzXSx0LGl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUudHlwZSk7aXx8bnVsbD09ZS5fX2V8fFFzKGUuX19lKSxlLl9fPWUuX19lPWUuX19kPXZvaWQgMH1mdW5jdGlvbiB5bihlLHQsaSl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IoZSxpKX1xcz1Kcy5zbGljZSxCcz17X19lOmZ1bmN0aW9uKGUsdCxpLHIpe2Zvcih2YXIgcyxuLG87dD10Ll9fOylpZigocz10Ll9fYykmJiFzLl9fKXRyeXtpZigobj1zLmNvbnN0cnVjdG9yKSYmbnVsbCE9bi5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3ImJihzLnNldFN0YXRlKG4uZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGUpKSxvPXMuX19kKSxudWxsIT1zLmNvbXBvbmVudERpZENhdGNoJiYocy5jb21wb25lbnREaWRDYXRjaChlLHJ8fHt9KSxvPXMuX19kKSxvKXJldHVybiBzLl9fRT1zfWNhdGNoKHQpe2U9dH10aHJvdyBlfX0sSHM9MCx0bi5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSx0KXt2YXIgaTtpPW51bGwhPXRoaXMuX19zJiZ0aGlzLl9fcyE9PXRoaXMuc3RhdGU/dGhpcy5fX3M6dGhpcy5fX3M9WHMoe30sdGhpcy5zdGF0ZSksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGU9ZShYcyh7fSxpKSx0aGlzLnByb3BzKSksZSYmWHMoaSxlKSxudWxsIT1lJiZ0aGlzLl9fdiYmKHQmJnRoaXMuX3NiLnB1c2godCksbm4odGhpcykpfSx0bi5wcm90b3R5cGUuZm9yY2VVcGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5fX3YmJih0aGlzLl9fZT0hMCxlJiZ0aGlzLl9faC5wdXNoKGUpLG5uKHRoaXMpKX0sdG4ucHJvdG90eXBlLnJlbmRlcj1lbixVcz1bXSx6cz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm9taXNlP1Byb21pc2UucHJvdG90eXBlLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSk6c2V0VGltZW91dCxXcz1mdW5jdGlvbihlLHQpe3JldHVybiBlLl9fdi5fX2ItdC5fX3YuX19ifSxvbi5fX3I9MCxWcz0wO3ZhciB3bixTbixrbjshZnVuY3Rpb24oZSx0KXt2YXIgaT17X19jOnQ9XCJfX2NDXCIrVnMrKyxfXzplLENvbnN1bWVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY2hpbGRyZW4odCl9LFByb3ZpZGVyOmZ1bmN0aW9uKGUpe3ZhciBpLHI7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb250ZXh0fHwoaT1bXSwocj17fSlbdF09dGhpcyx0aGlzLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiByfSx0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLnByb3BzLnZhbHVlIT09ZS52YWx1ZSYmaS5zb21lKChmdW5jdGlvbihlKXtlLl9fZT0hMCxubihlKX0pKX0sdGhpcy5zdWI9ZnVuY3Rpb24oZSl7aS5wdXNoKGUpO3ZhciB0PWUuY29tcG9uZW50V2lsbFVubW91bnQ7ZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe2kuc3BsaWNlKGkuaW5kZXhPZihlKSwxKSx0JiZ0LmNhbGwoZSl9fSksZS5jaGlsZHJlbn19O2kuUHJvdmlkZXIuX189aS5Db25zdW1lci5jb250ZXh0VHlwZT1pfSh7aXNQcmV2aWV3TW9kZTohMSxwcmV2aWV3UGFnZUluZGV4OjAsaGFuZGxlQ2xvc2VTdXJ2ZXlQb3B1cDooKT0+e30saXNQb3B1cDohMCxvblByZXZpZXdTdWJtaXQ6KCk9Pnt9fSksZnVuY3Rpb24oZSl7ZS5Qb3BvdmVyPVwicG9wb3ZlclwiLGUuQVBJPVwiYXBpXCIsZS5XaWRnZXQ9XCJ3aWRnZXRcIn0od258fCh3bj17fSkpLGZ1bmN0aW9uKGUpe2UuT3Blbj1cIm9wZW5cIixlLk11bHRpcGxlQ2hvaWNlPVwibXVsdGlwbGVfY2hvaWNlXCIsZS5TaW5nbGVDaG9pY2U9XCJzaW5nbGVfY2hvaWNlXCIsZS5SYXRpbmc9XCJyYXRpbmdcIixlLkxpbms9XCJsaW5rXCJ9KFNufHwoU249e30pKSxmdW5jdGlvbihlKXtlLk5leHRRdWVzdGlvbj1cIm5leHRfcXVlc3Rpb25cIixlLkVuZD1cImVuZFwiLGUuUmVzcG9uc2VCYXNlZD1cInJlc3BvbnNlX2Jhc2VkXCIsZS5TcGVjaWZpY1F1ZXN0aW9uPVwic3BlY2lmaWNfcXVlc3Rpb25cIn0oa258fChrbj17fSkpO2NsYXNzIEVue2NvbnN0cnVjdG9yKCl7b2UodGhpcyxcImV2ZW50c1wiLHt9KSx0aGlzLmV2ZW50cz17fX1vbihlLHQpe3JldHVybiB0aGlzLmV2ZW50c1tlXXx8KHRoaXMuZXZlbnRzW2VdPVtdKSx0aGlzLmV2ZW50c1tlXS5wdXNoKHQpLCgpPT57dGhpcy5ldmVudHNbZV09dGhpcy5ldmVudHNbZV0uZmlsdGVyKChlPT5lIT09dCkpfX1lbWl0KGUsdCl7Zm9yKHZhciBpIG9mIHRoaXMuZXZlbnRzW2VdfHxbXSlpKHQpO2Zvcih2YXIgciBvZiB0aGlzLmV2ZW50c1tcIipcIl18fFtdKXIoZSx0KX19Y2xhc3MgeG57Y29uc3RydWN0b3IoZSl7b2UodGhpcyxcIl9kZWJ1Z0V2ZW50RW1pdHRlclwiLG5ldyBFbiksb2UodGhpcyxcImNoZWNrU3RlcFwiLCgoZSx0KT0+dGhpcy5jaGVja1N0ZXBFdmVudChlLHQpJiZ0aGlzLmNoZWNrU3RlcFVybChlLHQpJiZ0aGlzLmNoZWNrU3RlcEVsZW1lbnQoZSx0KSkpLG9lKHRoaXMsXCJjaGVja1N0ZXBFdmVudFwiLCgoZSx0KT0+bnVsbD09dHx8IXQuZXZlbnR8fChudWxsPT1lP3ZvaWQgMDplLmV2ZW50KT09PShudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSkpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLmFjdGlvbkV2ZW50cz1uZXcgU2V0LHRoaXMuYWN0aW9uUmVnaXN0cnk9bmV3IFNldH1pbml0KCl7dmFyIGU7aWYoIXoobnVsbD09PShlPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLl9hZGRDYXB0dXJlSG9vaykpe3ZhciB0O251bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dHx8dC5fYWRkQ2FwdHVyZUhvb2soKChlLHQpPT57dGhpcy5vbihlLHQpfSkpfX1yZWdpc3RlcihlKXt2YXIgdCxpO2lmKCF6KG51bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5fYWRkQ2FwdHVyZUhvb2spJiYoZS5mb3JFYWNoKChlPT57dmFyIHQsaTtudWxsPT09KHQ9dGhpcy5hY3Rpb25SZWdpc3RyeSl8fHZvaWQgMD09PXR8fHQuYWRkKGUpLG51bGw9PT0oaT1lLnN0ZXBzKXx8dm9pZCAwPT09aXx8aS5mb3JFYWNoKChlPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMuYWN0aW9uRXZlbnRzKXx8dm9pZCAwPT09dHx8dC5hZGQoKG51bGw9PWU/dm9pZCAwOmUuZXZlbnQpfHxcIlwiKX0pKX0pKSxudWxsIT09KGk9dGhpcy5pbnN0YW5jZSkmJnZvaWQgMCE9PWkmJmkuYXV0b2NhcHR1cmUpKXt2YXIgcixzPW5ldyBTZXQ7ZS5mb3JFYWNoKChlPT57dmFyIHQ7bnVsbD09PSh0PWUuc3RlcHMpfHx2b2lkIDA9PT10fHx0LmZvckVhY2goKGU9PntudWxsIT1lJiZlLnNlbGVjdG9yJiZzLmFkZChudWxsPT1lP3ZvaWQgMDplLnNlbGVjdG9yKX0pKX0pKSxudWxsPT09KHI9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PXJ8fHIuYXV0b2NhcHR1cmUuc2V0RWxlbWVudFNlbGVjdG9ycyhzKX19b24oZSx0KXt2YXIgaTtudWxsIT10JiYwIT1lLmxlbmd0aCYmKHRoaXMuYWN0aW9uRXZlbnRzLmhhcyhlKXx8dGhpcy5hY3Rpb25FdmVudHMuaGFzKG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSYmdGhpcy5hY3Rpb25SZWdpc3RyeSYmKG51bGw9PT0oaT10aGlzLmFjdGlvblJlZ2lzdHJ5KXx8dm9pZCAwPT09aT92b2lkIDA6aS5zaXplKT4wJiZ0aGlzLmFjdGlvblJlZ2lzdHJ5LmZvckVhY2goKGU9Pnt0aGlzLmNoZWNrQWN0aW9uKHQsZSkmJnRoaXMuX2RlYnVnRXZlbnRFbWl0dGVyLmVtaXQoXCJhY3Rpb25DYXB0dXJlZFwiLGUubmFtZSl9KSl9X2FkZEFjdGlvbkhvb2soZSl7dGhpcy5vbkFjdGlvbihcImFjdGlvbkNhcHR1cmVkXCIsKHQ9PmUodCkpKX1jaGVja0FjdGlvbihlLHQpe2lmKG51bGw9PShudWxsPT10P3ZvaWQgMDp0LnN0ZXBzKSlyZXR1cm4hMTtmb3IodmFyIGkgb2YgdC5zdGVwcylpZih0aGlzLmNoZWNrU3RlcChlLGkpKXJldHVybiEwO3JldHVybiExfW9uQWN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RlYnVnRXZlbnRFbWl0dGVyLm9uKGUsdCl9Y2hlY2tTdGVwVXJsKGUsdCl7aWYobnVsbCE9dCYmdC51cmwpe3ZhciBpLHI9bnVsbD09ZXx8bnVsbD09PShpPWUucHJvcGVydGllcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuJGN1cnJlbnRfdXJsO2lmKCFyfHxcInN0cmluZ1wiIT10eXBlb2YgcilyZXR1cm4hMTtpZigheG4ubWF0Y2hTdHJpbmcocixudWxsPT10P3ZvaWQgMDp0LnVybCwobnVsbD09dD92b2lkIDA6dC51cmxfbWF0Y2hpbmcpfHxcImNvbnRhaW5zXCIpKXJldHVybiExfXJldHVybiEwfXN0YXRpYyBtYXRjaFN0cmluZyhlLGkscil7c3dpdGNoKHIpe2Nhc2VcInJlZ2V4XCI6cmV0dXJuISF0JiZBKGUsaSk7Y2FzZVwiZXhhY3RcIjpyZXR1cm4gaT09PWU7Y2FzZVwiY29udGFpbnNcIjp2YXIgcz14bi5lc2NhcGVTdHJpbmdSZWdleHAoaSkucmVwbGFjZSgvXy9nLFwiLlwiKS5yZXBsYWNlKC8lL2csXCIuKlwiKTtyZXR1cm4gQShlLHMpO2RlZmF1bHQ6cmV0dXJuITF9fXN0YXRpYyBlc2NhcGVTdHJpbmdSZWdleHAoZSl7cmV0dXJuIGUucmVwbGFjZSgvW3xcXFxce30oKVtcXF1eJCsqPy5dL2csXCJcXFxcJCZcIikucmVwbGFjZSgvLS9nLFwiXFxcXHgyZFwiKX1jaGVja1N0ZXBFbGVtZW50KGUsdCl7aWYoKG51bGwhPXQmJnQuaHJlZnx8bnVsbCE9dCYmdC50YWdfbmFtZXx8bnVsbCE9dCYmdC50ZXh0KSYmIXRoaXMuZ2V0RWxlbWVudHNMaXN0KGUpLnNvbWUoKGU9PiEobnVsbCE9dCYmdC5ocmVmJiYheG4ubWF0Y2hTdHJpbmcoZS5ocmVmfHxcIlwiLG51bGw9PXQ/dm9pZCAwOnQuaHJlZiwobnVsbD09dD92b2lkIDA6dC5ocmVmX21hdGNoaW5nKXx8XCJleGFjdFwiKSkmJigobnVsbD09dHx8IXQudGFnX25hbWV8fGUudGFnX25hbWU9PT0obnVsbD09dD92b2lkIDA6dC50YWdfbmFtZSkpJiYhKG51bGwhPXQmJnQudGV4dCYmIXhuLm1hdGNoU3RyaW5nKGUudGV4dHx8XCJcIixudWxsPT10P3ZvaWQgMDp0LnRleHQsKG51bGw9PXQ/dm9pZCAwOnQudGV4dF9tYXRjaGluZyl8fFwiZXhhY3RcIikmJiF4bi5tYXRjaFN0cmluZyhlLiRlbF90ZXh0fHxcIlwiLG51bGw9PXQ/dm9pZCAwOnQudGV4dCwobnVsbD09dD92b2lkIDA6dC50ZXh0X21hdGNoaW5nKXx8XCJleGFjdFwiKSkpKSkpcmV0dXJuITE7aWYobnVsbCE9dCYmdC5zZWxlY3Rvcil7dmFyIGkscj1udWxsPT1lfHxudWxsPT09KGk9ZS5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09aT92b2lkIDA6aS4kZWxlbWVudF9zZWxlY3RvcnM7aWYoIXIpcmV0dXJuITE7aWYoIXIuaW5jbHVkZXMobnVsbD09dD92b2lkIDA6dC5zZWxlY3RvcikpcmV0dXJuITF9cmV0dXJuITB9Z2V0RWxlbWVudHNMaXN0KGUpe3JldHVybiBudWxsPT0obnVsbD09ZT92b2lkIDA6ZS5wcm9wZXJ0aWVzLiRlbGVtZW50cyk/W106bnVsbD09ZT92b2lkIDA6ZS5wcm9wZXJ0aWVzLiRlbGVtZW50c319Y2xhc3MgSW57Y29uc3RydWN0b3IoZSl7dGhpcy5pbnN0YW5jZT1lLHRoaXMuZXZlbnRUb1N1cnZleXM9bmV3IE1hcCx0aGlzLmFjdGlvblRvU3VydmV5cz1uZXcgTWFwfXJlZ2lzdGVyKGUpe3ZhciB0O3oobnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Ll9hZGRDYXB0dXJlSG9vayl8fCh0aGlzLnNldHVwRXZlbnRCYXNlZFN1cnZleXMoZSksdGhpcy5zZXR1cEFjdGlvbkJhc2VkU3VydmV5cyhlKSl9c2V0dXBBY3Rpb25CYXNlZFN1cnZleXMoZSl7dmFyIHQ9ZS5maWx0ZXIoKGU9Pnt2YXIgdCxpLHIscztyZXR1cm4obnVsbD09PSh0PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuYWN0aW9ucykmJihudWxsPT09KGk9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkuYWN0aW9ucyl8fHZvaWQgMD09PXJ8fG51bGw9PT0ocz1yLnZhbHVlcyl8fHZvaWQgMD09PXM/dm9pZCAwOnMubGVuZ3RoKT4wfSkpO2lmKDAhPT10Lmxlbmd0aCl7aWYobnVsbD09dGhpcy5hY3Rpb25NYXRjaGVyKXt0aGlzLmFjdGlvbk1hdGNoZXI9bmV3IHhuKHRoaXMuaW5zdGFuY2UpLHRoaXMuYWN0aW9uTWF0Y2hlci5pbml0KCk7dGhpcy5hY3Rpb25NYXRjaGVyLl9hZGRBY3Rpb25Ib29rKChlPT57dGhpcy5vbkFjdGlvbihlKX0pKX10LmZvckVhY2goKGU9Pnt2YXIgdCxpLHIscyxuLG8sYSxsLHUsYztlLmNvbmRpdGlvbnMmJm51bGwhPT0odD1lLmNvbmRpdGlvbnMpJiZ2b2lkIDAhPT10JiZ0LmFjdGlvbnMmJm51bGwhPT0oaT1lLmNvbmRpdGlvbnMpJiZ2b2lkIDAhPT1pJiZudWxsIT09KHI9aS5hY3Rpb25zKSYmdm9pZCAwIT09ciYmci52YWx1ZXMmJihudWxsPT09KHM9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09c3x8bnVsbD09PShuPXMuYWN0aW9ucyl8fHZvaWQgMD09PW58fG51bGw9PT0obz1uLnZhbHVlcyl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubGVuZ3RoKT4wJiYobnVsbD09PShhPXRoaXMuYWN0aW9uTWF0Y2hlcil8fHZvaWQgMD09PWF8fGEucmVnaXN0ZXIoZS5jb25kaXRpb25zLmFjdGlvbnMudmFsdWVzKSxudWxsPT09KGw9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09bHx8bnVsbD09PSh1PWwuYWN0aW9ucyl8fHZvaWQgMD09PXV8fG51bGw9PT0oYz11LnZhbHVlcyl8fHZvaWQgMD09PWN8fGMuZm9yRWFjaCgodD0+e2lmKHQmJnQubmFtZSl7dmFyIGk9dGhpcy5hY3Rpb25Ub1N1cnZleXMuZ2V0KHQubmFtZSk7aSYmaS5wdXNoKGUuaWQpLHRoaXMuYWN0aW9uVG9TdXJ2ZXlzLnNldCh0Lm5hbWUsaXx8W2UuaWRdKX19KSkpfSkpfX1zZXR1cEV2ZW50QmFzZWRTdXJ2ZXlzKGUpe3ZhciB0O2lmKDAhPT1lLmZpbHRlcigoZT0+e3ZhciB0LGkscixzO3JldHVybihudWxsPT09KHQ9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dD92b2lkIDA6dC5ldmVudHMpJiYobnVsbD09PShpPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLmV2ZW50cyl8fHZvaWQgMD09PXJ8fG51bGw9PT0ocz1yLnZhbHVlcyl8fHZvaWQgMD09PXM/dm9pZCAwOnMubGVuZ3RoKT4wfSkpLmxlbmd0aCl7bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10fHx0Ll9hZGRDYXB0dXJlSG9vaygoKGUsdCk9Pnt0aGlzLm9uRXZlbnQoZSx0KX0pKSxlLmZvckVhY2goKGU9Pnt2YXIgdCxpLHI7bnVsbD09PSh0PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXR8fG51bGw9PT0oaT10LmV2ZW50cyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLnZhbHVlcyl8fHZvaWQgMD09PXJ8fHIuZm9yRWFjaCgodD0+e2lmKHQmJnQubmFtZSl7dmFyIGk9dGhpcy5ldmVudFRvU3VydmV5cy5nZXQodC5uYW1lKTtpJiZpLnB1c2goZS5pZCksdGhpcy5ldmVudFRvU3VydmV5cy5zZXQodC5uYW1lLGl8fFtlLmlkXSl9fSkpfSkpfX1vbkV2ZW50KGUsdCl7dmFyIGkscixzPShudWxsPT09KGk9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09cj92b2lkIDA6ci5wcm9wc1tPZV0pfHxbXTtpZihJbi5TVVJWRVlfU0hPV05fRVZFTlRfTkFNRT09ZSYmdCYmcy5sZW5ndGg+MCl7dmFyIG4sbz1udWxsPT10fHxudWxsPT09KG49dC5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09bj92b2lkIDA6bi4kc3VydmV5X2lkO2lmKG8pe3ZhciBhPXMuaW5kZXhPZihvKTthPj0wJiYocy5zcGxpY2UoYSwxKSx0aGlzLl91cGRhdGVBY3RpdmF0ZWRTdXJ2ZXlzKHMpKX19ZWxzZSB0aGlzLmV2ZW50VG9TdXJ2ZXlzLmhhcyhlKSYmdGhpcy5fdXBkYXRlQWN0aXZhdGVkU3VydmV5cyhzLmNvbmNhdCh0aGlzLmV2ZW50VG9TdXJ2ZXlzLmdldChlKXx8W10pKX1vbkFjdGlvbihlKXt2YXIgdCxpLHI9KG51bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnByb3BzW09lXSl8fFtdO3RoaXMuYWN0aW9uVG9TdXJ2ZXlzLmhhcyhlKSYmdGhpcy5fdXBkYXRlQWN0aXZhdGVkU3VydmV5cyhyLmNvbmNhdCh0aGlzLmFjdGlvblRvU3VydmV5cy5nZXQoZSl8fFtdKSl9X3VwZGF0ZUFjdGl2YXRlZFN1cnZleXMoZSl7dmFyIHQsaTtudWxsPT09KHQ9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PXR8fG51bGw9PT0oaT10LnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5yZWdpc3Rlcih7W09lXTpbLi4ubmV3IFNldChlKV19KX1nZXRTdXJ2ZXlzKCl7dmFyIGUsdCxpPW51bGw9PT0oZT10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09ZXx8bnVsbD09PSh0PWUucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnByb3BzW09lXTtyZXR1cm4gaXx8W119Z2V0RXZlbnRUb1N1cnZleXMoKXtyZXR1cm4gdGhpcy5ldmVudFRvU3VydmV5c31fZ2V0QWN0aW9uTWF0Y2hlcigpe3JldHVybiB0aGlzLmFjdGlvbk1hdGNoZXJ9fW9lKEluLFwiU1VSVkVZX1NIT1dOX0VWRU5UX05BTUVcIixcInN1cnZleSBzaG93blwiKTt2YXIgQ249dGUoXCJbU3VydmV5c11cIiksUG49e2ljb250YWluczooZSx0KT0+ZS5zb21lKChlPT50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZS50b0xvd2VyQ2FzZSgpKSkpLG5vdF9pY29udGFpbnM6KGUsdCk9PmUuZXZlcnkoKGU9PiF0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZS50b0xvd2VyQ2FzZSgpKSkpLHJlZ2V4OihlLHQpPT5lLnNvbWUoKGU9PkEodCxlKSkpLG5vdF9yZWdleDooZSx0KT0+ZS5ldmVyeSgoZT0+IUEodCxlKSkpLGV4YWN0OihlLHQpPT5lLnNvbWUoKGU9PnQ9PT1lKSksaXNfbm90OihlLHQpPT5lLmV2ZXJ5KChlPT50IT09ZSkpfTtmdW5jdGlvbiBGbihlLHQsaSl7dmFyIHIscz1lLnF1ZXN0aW9uc1t0XSxuPXQrMTtpZihudWxsPT09KHI9cy5icmFuY2hpbmcpfHx2b2lkIDA9PT1yfHwhci50eXBlKXJldHVybiB0PT09ZS5xdWVzdGlvbnMubGVuZ3RoLTE/a24uRW5kOm47aWYocy5icmFuY2hpbmcudHlwZT09PWtuLkVuZClyZXR1cm4ga24uRW5kO2lmKHMuYnJhbmNoaW5nLnR5cGU9PT1rbi5TcGVjaWZpY1F1ZXN0aW9uKXtpZihOdW1iZXIuaXNJbnRlZ2VyKHMuYnJhbmNoaW5nLmluZGV4KSlyZXR1cm4gcy5icmFuY2hpbmcuaW5kZXh9ZWxzZSBpZihzLmJyYW5jaGluZy50eXBlPT09a24uUmVzcG9uc2VCYXNlZCl7aWYocy50eXBlPT09U24uU2luZ2xlQ2hvaWNlKXt2YXIgbyxhLGw9cy5jaG9pY2VzLmluZGV4T2YoXCJcIi5jb25jYXQoaSkpO2lmKG51bGwhPT0obz1zLmJyYW5jaGluZykmJnZvaWQgMCE9PW8mJm51bGwhPT0oYT1vLnJlc3BvbnNlVmFsdWVzKSYmdm9pZCAwIT09YSYmYS5oYXNPd25Qcm9wZXJ0eShsKSl7dmFyIHU9cy5icmFuY2hpbmcucmVzcG9uc2VWYWx1ZXNbbF07cmV0dXJuIE51bWJlci5pc0ludGVnZXIodSk/dTp1PT09a24uRW5kP2tuLkVuZDpufX1lbHNlIGlmKHMudHlwZT09PVNuLlJhdGluZyl7dmFyIGMsZDtpZihcIm51bWJlclwiIT10eXBlb2YgaXx8IU51bWJlci5pc0ludGVnZXIoaSkpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHJlc3BvbnNlIHR5cGUgbXVzdCBiZSBhbiBpbnRlZ2VyXCIpO3ZhciBoPWZ1bmN0aW9uKGUsdCl7aWYoMz09PXQpe2lmKGU8MXx8ZT4zKXRocm93IG5ldyBFcnJvcihcIlRoZSByZXNwb25zZSBtdXN0IGJlIGluIHJhbmdlIDEtM1wiKTtyZXR1cm4gMT09PWU/XCJuZWdhdGl2ZVwiOjI9PT1lP1wibmV1dHJhbFwiOlwicG9zaXRpdmVcIn1pZig1PT09dCl7aWYoZTwxfHxlPjUpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHJlc3BvbnNlIG11c3QgYmUgaW4gcmFuZ2UgMS01XCIpO3JldHVybiBlPD0yP1wibmVnYXRpdmVcIjozPT09ZT9cIm5ldXRyYWxcIjpcInBvc2l0aXZlXCJ9aWYoNz09PXQpe2lmKGU8MXx8ZT43KXRocm93IG5ldyBFcnJvcihcIlRoZSByZXNwb25zZSBtdXN0IGJlIGluIHJhbmdlIDEtN1wiKTtyZXR1cm4gZTw9Mz9cIm5lZ2F0aXZlXCI6ND09PWU/XCJuZXV0cmFsXCI6XCJwb3NpdGl2ZVwifWlmKDEwPT09dCl7aWYoZTwwfHxlPjEwKXRocm93IG5ldyBFcnJvcihcIlRoZSByZXNwb25zZSBtdXN0IGJlIGluIHJhbmdlIDAtMTBcIik7cmV0dXJuIGU8PTY/XCJkZXRyYWN0b3JzXCI6ZTw9OD9cInBhc3NpdmVzXCI6XCJwcm9tb3RlcnNcIn10aHJvdyBuZXcgRXJyb3IoXCJUaGUgc2NhbGUgbXVzdCBiZSBvbmUgb2Y6IDMsIDUsIDcsIDEwXCIpfShpLHMuc2NhbGUpO2lmKG51bGwhPT0oYz1zLmJyYW5jaGluZykmJnZvaWQgMCE9PWMmJm51bGwhPT0oZD1jLnJlc3BvbnNlVmFsdWVzKSYmdm9pZCAwIT09ZCYmZC5oYXNPd25Qcm9wZXJ0eShoKSl7dmFyIF89cy5icmFuY2hpbmcucmVzcG9uc2VWYWx1ZXNbaF07cmV0dXJuIE51bWJlci5pc0ludGVnZXIoXyk/XzpfPT09a24uRW5kP2tuLkVuZDpufX1yZXR1cm4gbn1yZXR1cm4gQ24ud2FybihcIkZhbGxpbmcgYmFjayB0byBuZXh0IHF1ZXN0aW9uIGluZGV4IGR1ZSB0byB1bmV4cGVjdGVkIGJyYW5jaGluZyB0eXBlXCIpLG59ZnVuY3Rpb24gVG4oZSl7cmV0dXJuIG51bGwhPWU/ZTpcImljb250YWluc1wifWNsYXNzIFJue2NvbnN0cnVjdG9yKGUpe29lKHRoaXMsXCJnZXROZXh0U3VydmV5U3RlcFwiLEZuKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcj1udWxsfW9uUmVtb3RlQ29uZmlnKGUpe3RoaXMuX2RlY2lkZVNlcnZlclJlc3BvbnNlPSEhZS5zdXJ2ZXlzLENuLmluZm8oXCJkZWNpZGVTZXJ2ZXJSZXNwb25zZSBzZXQgdG8gXCIuY29uY2F0KHRoaXMuX2RlY2lkZVNlcnZlclJlc3BvbnNlKSksdGhpcy5sb2FkSWZFbmFibGVkKCl9cmVzZXQoKXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImxhc3RTZWVuU3VydmV5RGF0ZVwiKTt2YXIgZT0oKCk9Pntmb3IodmFyIGU9W10sdD0wO3Q8bG9jYWxTdG9yYWdlLmxlbmd0aDt0Kyspe3ZhciBpPWxvY2FsU3RvcmFnZS5rZXkodCk7bnVsbCE9aSYmaS5zdGFydHNXaXRoKFwic2VlblN1cnZleV9cIikmJmUucHVzaChpKX1yZXR1cm4gZX0pKCk7ZS5mb3JFYWNoKChlPT5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKSkpfWxvYWRJZkVuYWJsZWQoKXtpZighdGhpcy5fc3VydmV5TWFuYWdlcilpZih0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3N1cnZleXMpQ24uaW5mbyhcIkRpc2FibGVkLiBOb3QgbG9hZGluZyBzdXJ2ZXlzLlwiKTtlbHNle3ZhciBlPW51bGw9PV8/dm9pZCAwOl8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fO2lmKGUpe3ZhciB0PWUuZ2VuZXJhdGVTdXJ2ZXlzO2lmKHRoaXMuX2RlY2lkZVNlcnZlclJlc3BvbnNlKWlmKG51bGw9PXRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXImJih0aGlzLl9zdXJ2ZXlFdmVudFJlY2VpdmVyPW5ldyBJbih0aGlzLmluc3RhbmNlKSksdCl0aGlzLl9zdXJ2ZXlNYW5hZ2VyPXQodGhpcy5pbnN0YW5jZSk7ZWxzZXt2YXIgaT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3k7aT9pKHRoaXMuaW5zdGFuY2UsXCJzdXJ2ZXlzXCIsKHQ9Pnt2YXIgaTt0P0NuLmVycm9yKFwiQ291bGQgbm90IGxvYWQgc3VydmV5cyBzY3JpcHRcIix0KTp0aGlzLl9zdXJ2ZXlNYW5hZ2VyPW51bGw9PT0oaT1lLmdlbmVyYXRlU3VydmV5cyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbChlLHRoaXMuaW5zdGFuY2UpfSkpOkNuLmVycm9yKFwiUG9zdEhvZyBsb2FkRXh0ZXJuYWxEZXBlbmRlbmN5IGV4dGVuc2lvbiBub3QgZm91bmQuIENhbm5vdCBsb2FkIHJlbW90ZSBjb25maWcuXCIpfWVsc2UgQ24ud2FybihcIkRlY2lkZSBub3QgbG9hZGVkIHlldC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIil9ZWxzZSBDbi5lcnJvcihcIlBvc3RIb2cgRXh0ZW5zaW9ucyBub3QgZm91bmQuXCIpfX1nZXRTdXJ2ZXlzKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07aWYodGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKXJldHVybiBDbi5pbmZvKFwiRGlzYWJsZWQuIE5vdCBsb2FkaW5nIHN1cnZleXMuXCIpLGUoW10pO251bGw9PXRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXImJih0aGlzLl9zdXJ2ZXlFdmVudFJlY2VpdmVyPW5ldyBJbih0aGlzLmluc3RhbmNlKSk7dmFyIGk9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoJGUpO2lmKGkmJiF0KXJldHVybiBlKGkpO3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh7dXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS9zdXJ2ZXlzLz90b2tlbj1cIi5jb25jYXQodGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4pKSxtZXRob2Q6XCJHRVRcIixjYWxsYmFjazp0PT57dmFyIGkscj10LnN0YXR1c0NvZGU7aWYoMjAwIT09cnx8IXQuanNvbilyZXR1cm4gQ24uZXJyb3IoXCJTdXJ2ZXlzIEFQSSBjb3VsZCBub3QgYmUgbG9hZGVkLCBzdGF0dXM6IFwiLmNvbmNhdChyKSksZShbXSk7dmFyIHMsbj10Lmpzb24uc3VydmV5c3x8W10sbz1uLmZpbHRlcigoZT0+e3ZhciB0LGkscixzLG4sbyxhLGwsdSxjLGQsaDtyZXR1cm4obnVsbD09PSh0PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZXZlbnRzKSYmKG51bGw9PT0oaT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5ldmVudHMpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnZhbHVlcykmJihudWxsPT09KHM9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09c3x8bnVsbD09PShuPXMuZXZlbnRzKXx8dm9pZCAwPT09bnx8bnVsbD09PShvPW4udmFsdWVzKXx8dm9pZCAwPT09bz92b2lkIDA6by5sZW5ndGgpPjB8fChudWxsPT09KGE9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09YT92b2lkIDA6YS5hY3Rpb25zKSYmKG51bGw9PT0obD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1sfHxudWxsPT09KHU9bC5hY3Rpb25zKXx8dm9pZCAwPT09dT92b2lkIDA6dS52YWx1ZXMpJiYobnVsbD09PShjPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWN8fG51bGw9PT0oZD1jLmFjdGlvbnMpfHx2b2lkIDA9PT1kfHxudWxsPT09KGg9ZC52YWx1ZXMpfHx2b2lkIDA9PT1oP3ZvaWQgMDpoLmxlbmd0aCk+MH0pKTtvLmxlbmd0aD4wJiYobnVsbD09PShzPXRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXIpfHx2b2lkIDA9PT1zfHxzLnJlZ2lzdGVyKG8pKTtyZXR1cm4gbnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnJlZ2lzdGVyKHtbJGVdOm59KSxlKG4pfX0pfWlzU3VydmV5RmVhdHVyZUZsYWdFbmFibGVkKGUpe3JldHVybiFlfHx0aGlzLmluc3RhbmNlLmZlYXR1cmVGbGFncy5pc0ZlYXR1cmVFbmFibGVkKGUpfWdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyhlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3RoaXMuZ2V0U3VydmV5cygoaT0+e3ZhciByLHM9aS5maWx0ZXIoKGU9PiEoIWUuc3RhcnRfZGF0ZXx8ZS5lbmRfZGF0ZSkpKS5maWx0ZXIoKGU9Pnt2YXIgaTtpZighZS5jb25kaXRpb25zKXJldHVybiEwO3ZhciByPWZ1bmN0aW9uKGUpe3ZhciBpLHIscztpZihudWxsPT09KGk9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09aXx8IWkudXJsKXJldHVybiEwO3ZhciBuPW51bGw9PXR8fG51bGw9PT0ocj10LmxvY2F0aW9uKXx8dm9pZCAwPT09cj92b2lkIDA6ci5ocmVmO2lmKCFuKXJldHVybiExO3ZhciBvPVtlLmNvbmRpdGlvbnMudXJsXTtyZXR1cm4gUG5bVG4obnVsbD09PShzPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXM/dm9pZCAwOnMudXJsTWF0Y2hUeXBlKV0obyxuKX0oZSkscz1udWxsPT09KGk9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09aXx8IWkuc2VsZWN0b3J8fChudWxsPT1hP3ZvaWQgMDphLnF1ZXJ5U2VsZWN0b3IoZS5jb25kaXRpb25zLnNlbGVjdG9yKSksbj1mdW5jdGlvbihlKXt2YXIgdCxpO2lmKG51bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10fHwhdC5kZXZpY2VUeXBlcylyZXR1cm4hMDtpZighaClyZXR1cm4hMTt2YXIgcj1FaS5kZXZpY2VUeXBlKGgpO3JldHVybiBQbltUbihudWxsPT09KGk9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09aT92b2lkIDA6aS5kZXZpY2VUeXBlc01hdGNoVHlwZSldKGUuY29uZGl0aW9ucy5kZXZpY2VUeXBlcyxyKX0oZSk7cmV0dXJuIHImJnMmJm59KSksbj1udWxsPT09KHI9dGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcil8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0U3VydmV5cygpLG89cy5maWx0ZXIoKGU9Pnt2YXIgdCxpLHIscyxvLGEsbCx1LGM7aWYoIShlLmxpbmtlZF9mbGFnX2tleXx8ZS50YXJnZXRpbmdfZmxhZ19rZXl8fGUuaW50ZXJuYWxfdGFyZ2V0aW5nX2ZsYWdfa2V5fHxudWxsIT09KHQ9ZS5mZWF0dXJlX2ZsYWdfa2V5cykmJnZvaWQgMCE9PXQmJnQubGVuZ3RoKSlyZXR1cm4hMDt2YXIgZD10aGlzLmlzU3VydmV5RmVhdHVyZUZsYWdFbmFibGVkKGUubGlua2VkX2ZsYWdfa2V5KSxoPXRoaXMuaXNTdXJ2ZXlGZWF0dXJlRmxhZ0VuYWJsZWQoZS50YXJnZXRpbmdfZmxhZ19rZXkpLF89KG51bGwhPT0oaT1udWxsPT09KHI9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09cnx8bnVsbD09PShzPXIuZXZlbnRzKXx8dm9pZCAwPT09c3x8bnVsbD09PShvPXMudmFsdWVzKXx8dm9pZCAwPT09bz92b2lkIDA6by5sZW5ndGgpJiZ2b2lkIDAhPT1pP2k6MCk+MCxwPShudWxsIT09KGE9bnVsbD09PShsPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWx8fG51bGw9PT0odT1sLmFjdGlvbnMpfHx2b2lkIDA9PT11fHxudWxsPT09KGM9dS52YWx1ZXMpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmxlbmd0aCkmJnZvaWQgMCE9PWE/YTowKT4wLHY9IV8mJiFwfHwobnVsbD09bj92b2lkIDA6bi5pbmNsdWRlcyhlLmlkKSksZz10aGlzLl9jYW5BY3RpdmF0ZVJlcGVhdGVkbHkoZSl8fHRoaXMuaXNTdXJ2ZXlGZWF0dXJlRmxhZ0VuYWJsZWQoZS5pbnRlcm5hbF90YXJnZXRpbmdfZmxhZ19rZXkpLGY9dGhpcy5jaGVja0ZsYWdzKGUpO3JldHVybiBkJiZoJiZnJiZ2JiZmfSkpO3JldHVybiBlKG8pfSksaSl9Y2hlY2tGbGFncyhlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PWUuZmVhdHVyZV9mbGFnX2tleXMpfHx2b2lkIDA9PT10fHwhdC5sZW5ndGh8fGUuZmVhdHVyZV9mbGFnX2tleXMuZXZlcnkoKGU9Pnt2YXJ7a2V5OnQsdmFsdWU6aX09ZTtyZXR1cm4hdHx8IWl8fHRoaXMuaW5zdGFuY2UuZmVhdHVyZUZsYWdzLmlzRmVhdHVyZUVuYWJsZWQoaSl9KSl9X2NhbkFjdGl2YXRlUmVwZWF0ZWRseShlKXt2YXIgdDtyZXR1cm4gSihudWxsPT09KHQ9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbkFjdGl2YXRlUmVwZWF0ZWRseSk/KENuLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpLCExKTpfLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5jYW5BY3RpdmF0ZVJlcGVhdGVkbHkoZSl9Y2FuUmVuZGVyU3VydmV5KGUpe0oodGhpcy5fc3VydmV5TWFuYWdlcik/Q24ud2FybihcImluaXQgd2FzIG5vdCBjYWxsZWRcIik6dGhpcy5nZXRTdXJ2ZXlzKCh0PT57dmFyIGk9dC5maWx0ZXIoKHQ9PnQuaWQ9PT1lKSlbMF07dGhpcy5fc3VydmV5TWFuYWdlci5jYW5SZW5kZXJTdXJ2ZXkoaSl9KSl9cmVuZGVyU3VydmV5KGUsdCl7Sih0aGlzLl9zdXJ2ZXlNYW5hZ2VyKT9Dbi53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKTp0aGlzLmdldFN1cnZleXMoKGk9Pnt2YXIgcj1pLmZpbHRlcigodD0+dC5pZD09PWUpKVswXTt0aGlzLl9zdXJ2ZXlNYW5hZ2VyLnJlbmRlclN1cnZleShyLG51bGw9PWE/dm9pZCAwOmEucXVlcnlTZWxlY3Rvcih0KSl9KSl9fXZhciAkbj10ZShcIltSYXRlTGltaXRlcl1cIik7Y2xhc3MgT257Y29uc3RydWN0b3IoZSl7dmFyIHQsaTtvZSh0aGlzLFwic2VydmVyTGltaXRzXCIse30pLG9lKHRoaXMsXCJsYXN0RXZlbnRSYXRlTGltaXRlZFwiLCExKSxvZSh0aGlzLFwiY2hlY2tGb3JMaW1pdGluZ1wiLChlPT57dmFyIHQ9ZS50ZXh0O2lmKHQmJnQubGVuZ3RoKXRyeXsoSlNPTi5wYXJzZSh0KS5xdW90YV9saW1pdGVkfHxbXSkuZm9yRWFjaCgoZT0+eyRuLmluZm8oXCJcIi5jb25jYXQoZXx8XCJldmVudHNcIixcIiBpcyBxdW90YSBsaW1pdGVkLlwiKSksdGhpcy5zZXJ2ZXJMaW1pdHNbZV09KG5ldyBEYXRlKS5nZXRUaW1lKCkrNmU0fSkpfWNhdGNoKGUpe3JldHVybiB2b2lkICRuLndhcm4oJ2NvdWxkIG5vdCByYXRlIGxpbWl0IC0gY29udGludWluZy4gRXJyb3I6IFwiJy5jb25jYXQobnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlLCdcIicpLHt0ZXh0OnR9KX19KSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZD0obnVsbD09PSh0PWUuY29uZmlnLnJhdGVfbGltaXRpbmcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmV2ZW50c19wZXJfc2Vjb25kKXx8MTAsdGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdD1NYXRoLm1heCgobnVsbD09PShpPWUuY29uZmlnLnJhdGVfbGltaXRpbmcpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmV2ZW50c19idXJzdF9saW1pdCl8fDEwKnRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCx0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQpLHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWQ9dGhpcy5jbGllbnRSYXRlTGltaXRDb250ZXh0KCEwKS5pc1JhdGVMaW1pdGVkfWNsaWVudFJhdGVMaW1pdENvbnRleHQoKXt2YXIgZSx0LGkscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksbj1udWxsIT09KGU9bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldF9wcm9wZXJ0eShEZSkpJiZ2b2lkIDAhPT1lP2U6e3Rva2Vuczp0aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0LGxhc3Q6c307bi50b2tlbnMrPShzLW4ubGFzdCkvMWUzKnRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCxuLmxhc3Q9cyxuLnRva2Vucz50aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0JiYobi50b2tlbnM9dGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCk7dmFyIG89bi50b2tlbnM8MTtyZXR1cm4gb3x8cnx8KG4udG9rZW5zPU1hdGgubWF4KDAsbi50b2tlbnMtMSkpLCFvfHx0aGlzLmxhc3RFdmVudFJhdGVMaW1pdGVkfHxyfHx0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkJGNsaWVudF9pbmdlc3Rpb25fd2FybmluZ1wiLHskJGNsaWVudF9pbmdlc3Rpb25fd2FybmluZ19tZXNzYWdlOlwicG9zdGhvZy1qcyBjbGllbnQgcmF0ZSBsaW1pdGVkLiBDb25maWcgaXMgc2V0IHRvIFwiLmNvbmNhdCh0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQsXCIgZXZlbnRzIHBlciBzZWNvbmQgYW5kIFwiKS5jb25jYXQodGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCxcIiBldmVudHMgYnVyc3QgbGltaXQuXCIpfSx7c2tpcF9jbGllbnRfcmF0ZV9saW1pdGluZzohMH0pLHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWQ9byxudWxsPT09KGk9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkuc2V0X3Byb3BlcnR5KERlLG4pLHtpc1JhdGVMaW1pdGVkOm8scmVtYWluaW5nVG9rZW5zOm4udG9rZW5zfX1pc1NlcnZlclJhdGVMaW1pdGVkKGUpe3ZhciB0PXRoaXMuc2VydmVyTGltaXRzW2V8fFwiZXZlbnRzXCJdfHwhMTtyZXR1cm4hMSE9PXQmJihuZXcgRGF0ZSkuZ2V0VGltZSgpPHR9fXZhciBNbj1lPT57dmFyIHQ9bnVsbD09ZT92b2lkIDA6ZS5jb25maWc7cmV0dXJuIG5lKHtpbml0aWFsUGF0aE5hbWU6KG51bGw9PWw/dm9pZCAwOmwucGF0aG5hbWUpfHxcIlwiLHJlZmVycmluZ0RvbWFpbjpFaS5yZWZlcnJpbmdEb21haW4oKX0sRWkuY2FtcGFpZ25QYXJhbXMoe2N1c3RvbVRyYWNrZWRQYXJhbXM6bnVsbD09dD92b2lkIDA6dC5jdXN0b21fY2FtcGFpZ25fcGFyYW1zLG1hc2tQZXJzb25hbERhdGFQcm9wZXJ0aWVzOm51bGw9PXQ/dm9pZCAwOnQubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczpudWxsPT10P3ZvaWQgMDp0LmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXN9KSl9O2NsYXNzIEFue2NvbnN0cnVjdG9yKGUsdCxpLHIpe29lKHRoaXMsXCJfb25TZXNzaW9uSWRDYWxsYmFja1wiLChlPT57dmFyIHQ9dGhpcy5fZ2V0U3RvcmVkUHJvcHMoKTtpZighdHx8dC5zZXNzaW9uSWQhPT1lKXt2YXIgaT17c2Vzc2lvbklkOmUscHJvcHM6dGhpcy5fc2Vzc2lvblNvdXJjZVBhcmFtR2VuZXJhdG9yKHRoaXMuaW5zdGFuY2UpfTt0aGlzLl9wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W0xlXTppfSl9fSkpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9zZXNzaW9uSWRNYW5hZ2VyPXQsdGhpcy5fcGVyc2lzdGVuY2U9aSx0aGlzLl9zZXNzaW9uU291cmNlUGFyYW1HZW5lcmF0b3I9cnx8TW4sdGhpcy5fc2Vzc2lvbklkTWFuYWdlci5vblNlc3Npb25JZCh0aGlzLl9vblNlc3Npb25JZENhbGxiYWNrKX1fZ2V0U3RvcmVkUHJvcHMoKXtyZXR1cm4gdGhpcy5fcGVyc2lzdGVuY2UucHJvcHNbTGVdfWdldFNlc3Npb25Qcm9wcygpe3ZhciBlLHQ9bnVsbD09PShlPXRoaXMuX2dldFN0b3JlZFByb3BzKCkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnByb3BzO3JldHVybiB0P3skY2xpZW50X3Nlc3Npb25faW5pdGlhbF9yZWZlcnJpbmdfaG9zdDp0LnJlZmVycmluZ0RvbWFpbiwkY2xpZW50X3Nlc3Npb25faW5pdGlhbF9wYXRobmFtZTp0LmluaXRpYWxQYXRoTmFtZSwkY2xpZW50X3Nlc3Npb25faW5pdGlhbF91dG1fc291cmNlOnQudXRtX3NvdXJjZSwkY2xpZW50X3Nlc3Npb25faW5pdGlhbF91dG1fY2FtcGFpZ246dC51dG1fY2FtcGFpZ24sJGNsaWVudF9zZXNzaW9uX2luaXRpYWxfdXRtX21lZGl1bTp0LnV0bV9tZWRpdW0sJGNsaWVudF9zZXNzaW9uX2luaXRpYWxfdXRtX2NvbnRlbnQ6dC51dG1fY29udGVudCwkY2xpZW50X3Nlc3Npb25faW5pdGlhbF91dG1fdGVybTp0LnV0bV90ZXJtfTp7fX19dmFyIExuPVtcImFocmVmc2JvdFwiLFwiYWhyZWZzc2l0ZWF1ZGl0XCIsXCJhcHBsZWJvdFwiLFwiYmFpZHVzcGlkZXJcIixcImJldHRlciB1cHRpbWUgYm90XCIsXCJiaW5nYm90XCIsXCJiaW5ncHJldmlld1wiLFwiYm90Lmh0bVwiLFwiYm90LnBocFwiLFwiY3Jhd2xlclwiLFwiZGVlcHNjYW5cIixcImR1Y2tkdWNrYm90XCIsXCJmYWNlYm9va2V4dGVybmFsXCIsXCJmYWNlYm9va2NhdGFsb2dcIixcImh0dHA6Ly95YW5kZXguY29tL2JvdHNcIixcImh1YnNwb3RcIixcImlhX2FyY2hpdmVyXCIsXCJsaW5rZWRpbmJvdFwiLFwibWoxMmJvdFwiLFwibXNuYm90XCIsXCJuZXNzdXNcIixcInBldGFsYm90XCIsXCJwaW50ZXJlc3RcIixcInByZXJlbmRlclwiLFwicm9nZXJib3RcIixcInNjcmVhbWluZyBmcm9nXCIsXCJzZW1ydXNoYm90XCIsXCJzaXRlYnVsYlwiLFwic2x1cnBcIixcInR1cm5pdGluXCIsXCJ0d2l0dGVyYm90XCIsXCJ2ZXJjZWxib3RcIixcInlhaG9vISBzbHVycFwiLFwieWFuZGV4Ym90XCIsXCJncHRib3RcIixcIm9haS1zZWFyY2hib3RcIixcImNoYXRncHQtdXNlclwiLFwiaGVhZGxlc3NjaHJvbWVcIixcImN5cHJlc3NcIixcIkdvb2dsZS1Ib3RlbEFkc1ZlcmlmaWVyXCIsXCJhZHNib3QtZ29vZ2xlXCIsXCJhcGlzLWdvb2dsZVwiLFwiZHVwbGV4d2ViLWdvb2dsZVwiLFwiZmVlZGZldGNoZXItZ29vZ2xlXCIsXCJnb29nbGUgZmF2aWNvblwiLFwiZ29vZ2xlIHdlYiBwcmV2aWV3XCIsXCJnb29nbGUtcmVhZC1hbG91ZFwiLFwiZ29vZ2xlYm90XCIsXCJnb29nbGV3ZWJsaWdodFwiLFwibWVkaWFwYXJ0bmVycy1nb29nbGVcIixcInN0b3JlYm90LWdvb2dsZVwiLFwiQnl0ZXNwaWRlcjtcIl0sRG49ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4hMTt2YXIgaT1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIExuLmNvbmNhdCh0fHxbXSkuc29tZSgoZT0+e3ZhciB0PWUudG9Mb3dlckNhc2UoKTtyZXR1cm4tMSE9PWkuaW5kZXhPZih0KX0pKX0sTm49ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4hMTt2YXIgaT1lLnVzZXJBZ2VudDtpZihpJiZEbihpLHQpKXJldHVybiEwO3RyeXt2YXIgcj1udWxsPT1lP3ZvaWQgMDplLnVzZXJBZ2VudERhdGE7aWYobnVsbCE9ciYmci5icmFuZHMmJnIuYnJhbmRzLnNvbWUoKGU9PkRuKG51bGw9PWU/dm9pZCAwOmUuYnJhbmQsdCkpKSlyZXR1cm4hMH1jYXRjaChlKXt9cmV0dXJuISFlLndlYmRyaXZlcn07Y2xhc3MgcW57Y29uc3RydWN0b3IoKXt0aGlzLmNsaWNrcz1bXX1pc1JhZ2VDbGljayhlLHQsaSl7dmFyIHI9dGhpcy5jbGlja3NbdGhpcy5jbGlja3MubGVuZ3RoLTFdO2lmKHImJk1hdGguYWJzKGUtci54KStNYXRoLmFicyh0LXIueSk8MzAmJmktci50aW1lc3RhbXA8MWUzKXtpZih0aGlzLmNsaWNrcy5wdXNoKHt4OmUseTp0LHRpbWVzdGFtcDppfSksMz09PXRoaXMuY2xpY2tzLmxlbmd0aClyZXR1cm4hMH1lbHNlIHRoaXMuY2xpY2tzPVt7eDplLHk6dCx0aW1lc3RhbXA6aX1dO3JldHVybiExfX12YXIgQm49dGUoXCJbRGVhZCBDbGlja3NdXCIpLEhuPSgpPT4hMCxVbj1lPT57dmFyIHQsaT0hKG51bGw9PT0odD1lLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8IXQuZ2V0X3Byb3BlcnR5KHZlKSkscj1lLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzO3JldHVybiBLKHIpP3I6aX07Y2xhc3Mgam57Z2V0IGxhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmUoKXtyZXR1cm4gdGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZX1jb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5pbnN0YW5jZT1lLHRoaXMuaXNFbmFibGVkPXQsdGhpcy5vbkNhcHR1cmU9aSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9b25SZW1vdGVDb25maWcoZSl7dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W3ZlXTpudWxsPT1lP3ZvaWQgMDplLmNhcHR1cmVEZWFkQ2xpY2tzfSksdGhpcy5zdGFydElmRW5hYmxlZCgpfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQodGhpcykmJnRoaXMubG9hZFNjcmlwdCgoKCk9Pnt0aGlzLnN0YXJ0KCl9KSl9bG9hZFNjcmlwdChlKXt2YXIgdCxpLHI7bnVsbCE9PSh0PV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdm9pZCAwIT09dCYmdC5pbml0RGVhZENsaWNrc0F1dG9jYXB0dXJlJiZlKCksbnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHRoaXMuaW5zdGFuY2UsXCJkZWFkLWNsaWNrcy1hdXRvY2FwdHVyZVwiLCh0PT57dD9Cbi5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLHQpOmUoKX0pKX1zdGFydCgpe3ZhciBlO2lmKGEpe2lmKCF0aGlzLl9sYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlJiZudWxsIT09KGU9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZ2b2lkIDAhPT1lJiZlLmluaXREZWFkQ2xpY2tzQXV0b2NhcHR1cmUpe3ZhciB0PVUodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9kZWFkX2NsaWNrcyk/dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9kZWFkX2NsaWNrczp7fTt0Ll9fb25DYXB0dXJlPXRoaXMub25DYXB0dXJlLHRoaXMuX2xhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmU9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18uaW5pdERlYWRDbGlja3NBdXRvY2FwdHVyZSh0aGlzLmluc3RhbmNlLHQpLHRoaXMuX2xhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmUuc3RhcnQoYSksQm4uaW5mbyhcInN0YXJ0aW5nLi4uXCIpfX1lbHNlIEJuLmVycm9yKFwiYGRvY3VtZW50YCBub3QgZm91bmQuIENhbm5vdCBzdGFydC5cIil9c3RvcCgpe3RoaXMuX2xhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmUmJih0aGlzLl9sYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlLnN0b3AoKSx0aGlzLl9sYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlPXZvaWQgMCxCbi5pbmZvKFwic3RvcHBpbmcuLi5cIikpfX12YXIgem49dGUoXCJbSGVhdG1hcHNdXCIpO2Z1bmN0aW9uIFduKGUpe3JldHVybiBVKGUpJiZcImNsaWVudFhcImluIGUmJlwiY2xpZW50WVwiaW4gZSYmWShlLmNsaWVudFgpJiZZKGUuY2xpZW50WSl9Y2xhc3MgVm57Y29uc3RydWN0b3IoZSl7dmFyIGk7b2UodGhpcyxcInJhZ2VjbGlja3NcIixuZXcgcW4pLG9lKHRoaXMsXCJfZW5hYmxlZFNlcnZlclNpZGVcIiwhMSksb2UodGhpcyxcIl9pbml0aWFsaXplZFwiLCExKSxvZSh0aGlzLFwiX2ZsdXNoSW50ZXJ2YWxcIixudWxsKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5fZW5hYmxlZFNlcnZlclNpZGU9IShudWxsPT09KGk9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fCFpLnByb3BzW2hlXSksUih0LFwiYmVmb3JldW5sb2FkXCIsdGhpcy5mbHVzaCl9Z2V0IGZsdXNoSW50ZXJ2YWxNaWxsaXNlY29uZHMoKXt2YXIgZT01ZTM7cmV0dXJuIFUodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcykmJnRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMuZmx1c2hfaW50ZXJ2YWxfbWlsbGlzZWNvbmRzJiYoZT10aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzLmZsdXNoX2ludGVydmFsX21pbGxpc2Vjb25kcyksZX1nZXQgaXNFbmFibGVkKCl7cmV0dXJuIHoodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcyk/eih0aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVfaGVhdG1hcHMpP3RoaXMuX2VuYWJsZWRTZXJ2ZXJTaWRlOnRoaXMuaW5zdGFuY2UuY29uZmlnLmVuYWJsZV9oZWF0bWFwczohMSE9PXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHN9c3RhcnRJZkVuYWJsZWQoKXtpZih0aGlzLmlzRW5hYmxlZCl7aWYodGhpcy5faW5pdGlhbGl6ZWQpcmV0dXJuO3puLmluZm8oXCJzdGFydGluZy4uLlwiKSx0aGlzLl9zZXR1cExpc3RlbmVycygpLHRoaXMuX2ZsdXNoSW50ZXJ2YWw9c2V0SW50ZXJ2YWwodGhpcy5mbHVzaC5iaW5kKHRoaXMpLHRoaXMuZmx1c2hJbnRlcnZhbE1pbGxpc2Vjb25kcyl9ZWxzZXt2YXIgZSx0O2NsZWFySW50ZXJ2YWwobnVsbCE9PShlPXRoaXMuX2ZsdXNoSW50ZXJ2YWwpJiZ2b2lkIDAhPT1lP2U6dm9pZCAwKSxudWxsPT09KHQ9dGhpcy5kZWFkQ2xpY2tzQ2FwdHVyZSl8fHZvaWQgMD09PXR8fHQuc3RvcCgpLHRoaXMuZ2V0QW5kQ2xlYXJCdWZmZXIoKX19b25SZW1vdGVDb25maWcoZSl7dmFyIHQ9ISFlLmhlYXRtYXBzO3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1toZV06dH0pLHRoaXMuX2VuYWJsZWRTZXJ2ZXJTaWRlPXQsdGhpcy5zdGFydElmRW5hYmxlZCgpfWdldEFuZENsZWFyQnVmZmVyKCl7dmFyIGU9dGhpcy5idWZmZXI7cmV0dXJuIHRoaXMuYnVmZmVyPXZvaWQgMCxlfV9vbkRlYWRDbGljayhlKXt0aGlzLl9vbkNsaWNrKGUub3JpZ2luYWxFdmVudCxcImRlYWRjbGlja1wiKX1fc2V0dXBMaXN0ZW5lcnMoKXt0JiZhJiYoUihhLFwiY2xpY2tcIiwoZT0+dGhpcy5fb25DbGljayhlfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCkpKSx7Y2FwdHVyZTohMH0pLFIoYSxcIm1vdXNlbW92ZVwiLChlPT50aGlzLl9vbk1vdXNlTW92ZShlfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCkpKSx7Y2FwdHVyZTohMH0pLHRoaXMuZGVhZENsaWNrc0NhcHR1cmU9bmV3IGpuKHRoaXMuaW5zdGFuY2UsSG4sdGhpcy5fb25EZWFkQ2xpY2suYmluZCh0aGlzKSksdGhpcy5kZWFkQ2xpY2tzQ2FwdHVyZS5zdGFydElmRW5hYmxlZCgpLHRoaXMuX2luaXRpYWxpemVkPSEwKX1fZ2V0UHJvcGVydGllcyhlLGkpe3ZhciByPXRoaXMuaW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5zY3JvbGxZKCkscz10aGlzLmluc3RhbmNlLnNjcm9sbE1hbmFnZXIuc2Nyb2xsWCgpLG49dGhpcy5pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnNjcm9sbEVsZW1lbnQoKSxvPWZ1bmN0aW9uKGUsaSxyKXtmb3IodmFyIHM9ZTtzJiYkaShzKSYmIU9pKHMsXCJib2R5XCIpOyl7aWYocz09PXIpcmV0dXJuITE7aWYoJChpLG51bGw9PXQ/dm9pZCAwOnQuZ2V0Q29tcHV0ZWRTdHlsZShzKS5wb3NpdGlvbikpcmV0dXJuITA7cz1qaShzKX1yZXR1cm4hMX0oSGkoZSksW1wiZml4ZWRcIixcInN0aWNreVwiXSxuKTtyZXR1cm57eDplLmNsaWVudFgrKG8/MDpzKSx5OmUuY2xpZW50WSsobz8wOnIpLHRhcmdldF9maXhlZDpvLHR5cGU6aX19X29uQ2xpY2soZSl7dmFyIHQsaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJjbGlja1wiO2lmKCFSaShlLnRhcmdldCkmJlduKGUpKXt2YXIgcj10aGlzLl9nZXRQcm9wZXJ0aWVzKGUsaSk7bnVsbCE9PSh0PXRoaXMucmFnZWNsaWNrcykmJnZvaWQgMCE9PXQmJnQuaXNSYWdlQ2xpY2soZS5jbGllbnRYLGUuY2xpZW50WSwobmV3IERhdGUpLmdldFRpbWUoKSkmJnRoaXMuX2NhcHR1cmUobmUobmUoe30scikse30se3R5cGU6XCJyYWdlY2xpY2tcIn0pKSx0aGlzLl9jYXB0dXJlKHIpfX1fb25Nb3VzZU1vdmUoZSl7IVJpKGUudGFyZ2V0KSYmV24oZSkmJihjbGVhclRpbWVvdXQodGhpcy5fbW91c2VNb3ZlVGltZW91dCksdGhpcy5fbW91c2VNb3ZlVGltZW91dD1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2NhcHR1cmUodGhpcy5fZ2V0UHJvcGVydGllcyhlLFwibW91c2Vtb3ZlXCIpKX0pLDUwMCkpfV9jYXB0dXJlKGUpe2lmKHQpe3ZhciBpPXQubG9jYXRpb24uaHJlZjt0aGlzLmJ1ZmZlcj10aGlzLmJ1ZmZlcnx8e30sdGhpcy5idWZmZXJbaV18fCh0aGlzLmJ1ZmZlcltpXT1bXSksdGhpcy5idWZmZXJbaV0ucHVzaChlKX19Zmx1c2goKXt0aGlzLmJ1ZmZlciYmIWoodGhpcy5idWZmZXIpJiZ0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkJGhlYXRtYXBcIix7JGhlYXRtYXBfZGF0YTp0aGlzLmdldEFuZENsZWFyQnVmZmVyKCl9KX19Y2xhc3MgR257Y29uc3RydWN0b3IoZSl7b2UodGhpcyxcIl91cGRhdGVTY3JvbGxEYXRhXCIsKCgpPT57dmFyIGUsdCxpLHI7dGhpcy5jb250ZXh0fHwodGhpcy5jb250ZXh0PXt9KTt2YXIgcz10aGlzLnNjcm9sbEVsZW1lbnQoKSxuPXRoaXMuc2Nyb2xsWSgpLG89cz9NYXRoLm1heCgwLHMuc2Nyb2xsSGVpZ2h0LXMuY2xpZW50SGVpZ2h0KTowLGE9bisoKG51bGw9PXM/dm9pZCAwOnMuY2xpZW50SGVpZ2h0KXx8MCksbD0obnVsbD09cz92b2lkIDA6cy5zY3JvbGxIZWlnaHQpfHwwO3RoaXMuY29udGV4dC5sYXN0U2Nyb2xsWT1NYXRoLmNlaWwobiksdGhpcy5jb250ZXh0Lm1heFNjcm9sbFk9TWF0aC5tYXgobixudWxsIT09KGU9dGhpcy5jb250ZXh0Lm1heFNjcm9sbFkpJiZ2b2lkIDAhPT1lP2U6MCksdGhpcy5jb250ZXh0Lm1heFNjcm9sbEhlaWdodD1NYXRoLm1heChvLG51bGwhPT0odD10aGlzLmNvbnRleHQubWF4U2Nyb2xsSGVpZ2h0KSYmdm9pZCAwIT09dD90OjApLHRoaXMuY29udGV4dC5sYXN0Q29udGVudFk9YSx0aGlzLmNvbnRleHQubWF4Q29udGVudFk9TWF0aC5tYXgoYSxudWxsIT09KGk9dGhpcy5jb250ZXh0Lm1heENvbnRlbnRZKSYmdm9pZCAwIT09aT9pOjApLHRoaXMuY29udGV4dC5tYXhDb250ZW50SGVpZ2h0PU1hdGgubWF4KGwsbnVsbCE9PShyPXRoaXMuY29udGV4dC5tYXhDb250ZW50SGVpZ2h0KSYmdm9pZCAwIT09cj9yOjApfSkpLHRoaXMuaW5zdGFuY2U9ZX1nZXRDb250ZXh0KCl7cmV0dXJuIHRoaXMuY29udGV4dH1yZXNldENvbnRleHQoKXt2YXIgZT10aGlzLmNvbnRleHQ7cmV0dXJuIHNldFRpbWVvdXQodGhpcy5fdXBkYXRlU2Nyb2xsRGF0YSwwKSxlfXN0YXJ0TWVhc3VyaW5nU2Nyb2xsUG9zaXRpb24oKXtSKHQsXCJzY3JvbGxcIix0aGlzLl91cGRhdGVTY3JvbGxEYXRhLHtjYXB0dXJlOiEwfSksUih0LFwic2Nyb2xsZW5kXCIsdGhpcy5fdXBkYXRlU2Nyb2xsRGF0YSx7Y2FwdHVyZTohMH0pLFIodCxcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZVNjcm9sbERhdGEpfXNjcm9sbEVsZW1lbnQoKXtpZighdGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpcmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3ZhciBlPUIodGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpP3RoaXMuaW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yOlt0aGlzLmluc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3Rvcl07Zm9yKHZhciBpIG9mIGUpe3ZhciByPW51bGw9PXQ/dm9pZCAwOnQuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpKTtpZihyKXJldHVybiByfX1zY3JvbGxZKCl7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3Ipe3ZhciBlPXRoaXMuc2Nyb2xsRWxlbWVudCgpO3JldHVybiBlJiZlLnNjcm9sbFRvcHx8MH1yZXR1cm4gdCYmKHQuc2Nyb2xsWXx8dC5wYWdlWU9mZnNldHx8dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKXx8MH1zY3JvbGxYKCl7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3Ipe3ZhciBlPXRoaXMuc2Nyb2xsRWxlbWVudCgpO3JldHVybiBlJiZlLnNjcm9sbExlZnR8fDB9cmV0dXJuIHQmJih0LnNjcm9sbFh8fHQucGFnZVhPZmZzZXR8fHQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpfHwwfX12YXIgSm49dGUoXCJbQXV0b0NhcHR1cmVdXCIpO2Z1bmN0aW9uIFluKGUsdCl7cmV0dXJuIHQubGVuZ3RoPmU/dC5zbGljZSgwLGUpK1wiLi4uXCI6dH1mdW5jdGlvbiBLbihlKXtpZihlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpcmV0dXJuIGUucHJldmlvdXNFbGVtZW50U2libGluZzt2YXIgdD1lO2Rve3Q9dC5wcmV2aW91c1NpYmxpbmd9d2hpbGUodCYmISRpKHQpKTtyZXR1cm4gdH1mdW5jdGlvbiBYbihlLHQsaSxyKXt2YXIgcz1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKSxuPXt0YWdfbmFtZTpzfTtVaS5pbmRleE9mKHMpPi0xJiYhaSYmKFwiYVwiPT09cy50b0xvd2VyQ2FzZSgpfHxcImJ1dHRvblwiPT09cy50b0xvd2VyQ2FzZSgpP24uJGVsX3RleHQ9WW4oMTAyNCxlcihlKSk6bi4kZWxfdGV4dD1ZbigxMDI0LEJpKGUpKSk7dmFyIG89TmkoZSk7by5sZW5ndGg+MCYmKG4uY2xhc3Nlcz1vLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuXCJcIiE9PWV9KSkpLHkoZS5hdHRyaWJ1dGVzLChmdW5jdGlvbihpKXt2YXIgcztpZigoIVZpKGUpfHwtMSE9PVtcIm5hbWVcIixcImlkXCIsXCJjbGFzc1wiLFwiYXJpYS1sYWJlbFwiXS5pbmRleE9mKGkubmFtZSkpJiYoKG51bGw9PXJ8fCFyLmluY2x1ZGVzKGkubmFtZSkpJiYhdCYmWmkoaS52YWx1ZSkmJihzPWkubmFtZSwhVyhzKXx8XCJfbmdjb250ZW50XCIhPT1zLnN1YnN0cmluZygwLDEwKSYmXCJfbmdob3N0XCIhPT1zLnN1YnN0cmluZygwLDcpKSkpe3ZhciBvPWkudmFsdWU7XCJjbGFzc1wiPT09aS5uYW1lJiYobz1MaShvKS5qb2luKFwiIFwiKSksbltcImF0dHJfX1wiK2kubmFtZV09WW4oMTAyNCxvKX19KSk7Zm9yKHZhciBhPTEsbD0xLHU9ZTt1PUtuKHUpOylhKyssdS50YWdOYW1lPT09ZS50YWdOYW1lJiZsKys7cmV0dXJuIG4ubnRoX2NoaWxkPWEsbi5udGhfb2ZfdHlwZT1sLG59ZnVuY3Rpb24gUW4oZSxpKXtmb3IodmFyIHIscyx7ZTpuLG1hc2tBbGxFbGVtZW50QXR0cmlidXRlczpvLG1hc2tBbGxUZXh0OmEsZWxlbWVudEF0dHJpYnV0ZUlnbm9yZUxpc3Q6bCxlbGVtZW50c0NoYWluQXNTdHJpbmc6dX09aSxjPVtlXSxkPWU7ZC5wYXJlbnROb2RlJiYhT2koZCxcImJvZHlcIik7KUFpKGQucGFyZW50Tm9kZSk/KGMucHVzaChkLnBhcmVudE5vZGUuaG9zdCksZD1kLnBhcmVudE5vZGUuaG9zdCk6KGMucHVzaChkLnBhcmVudE5vZGUpLGQ9ZC5wYXJlbnROb2RlKTt2YXIgaCxfPVtdLHA9e30sdj0hMSxnPSExO2lmKHkoYywoZT0+e3ZhciB0PVdpKGUpO1wiYVwiPT09ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJih2PWUuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSx2PXQmJnYmJlppKHYpJiZ2KSwkKE5pKGUpLFwicGgtbm8tY2FwdHVyZVwiKSYmKGc9ITApLF8ucHVzaChYbihlLG8sYSxsKSk7dmFyIGk9ZnVuY3Rpb24oZSl7aWYoIVdpKGUpKXJldHVybnt9O3ZhciB0PXt9O3JldHVybiB5KGUuYXR0cmlidXRlcywoZnVuY3Rpb24oZSl7aWYoZS5uYW1lJiYwPT09ZS5uYW1lLmluZGV4T2YoXCJkYXRhLXBoLWNhcHR1cmUtYXR0cmlidXRlXCIpKXt2YXIgaT1lLm5hbWUucmVwbGFjZShcImRhdGEtcGgtY2FwdHVyZS1hdHRyaWJ1dGUtXCIsXCJcIikscj1lLnZhbHVlO2kmJnImJlppKHIpJiYodFtpXT1yKX19KSksdH0oZSk7dyhwLGkpfSkpLGcpcmV0dXJue3Byb3BzOnt9LGV4cGxpY2l0Tm9DYXB0dXJlOmd9O2lmKGF8fChcImFcIj09PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpfHxcImJ1dHRvblwiPT09ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk/X1swXS4kZWxfdGV4dD1lcihlKTpfWzBdLiRlbF90ZXh0PUJpKGUpKSx2KXt2YXIgZixtO19bMF0uYXR0cl9faHJlZj12O3ZhciBiPW51bGw9PT0oZj15dCh2KSl8fHZvaWQgMD09PWY/dm9pZCAwOmYuaG9zdCxTPW51bGw9PXR8fG51bGw9PT0obT10LmxvY2F0aW9uKXx8dm9pZCAwPT09bT92b2lkIDA6bS5ob3N0O2ImJlMmJmIhPT1TJiYoaD12KX1yZXR1cm57cHJvcHM6dyh7JGV2ZW50X3R5cGU6bi50eXBlLCRjZV92ZXJzaW9uOjF9LHU/e306eyRlbGVtZW50czpffSx7JGVsZW1lbnRzX2NoYWluOmlyKF8pfSxudWxsIT09KHI9X1swXSkmJnZvaWQgMCE9PXImJnIuJGVsX3RleHQ/eyRlbF90ZXh0Om51bGw9PT0ocz1fWzBdKXx8dm9pZCAwPT09cz92b2lkIDA6cy4kZWxfdGV4dH06e30saCYmXCJjbGlja1wiPT09bi50eXBlP3skZXh0ZXJuYWxfY2xpY2tfdXJsOmh9Ont9LHApfX1jbGFzcyBabntjb25zdHJ1Y3RvcihlKXtvZSh0aGlzLFwiX2luaXRpYWxpemVkXCIsITEpLG9lKHRoaXMsXCJfaXNEaXNhYmxlZFNlcnZlclNpZGVcIixudWxsKSxvZSh0aGlzLFwicmFnZWNsaWNrc1wiLG5ldyBxbiksb2UodGhpcyxcIl9lbGVtZW50c0NoYWluQXNTdHJpbmdcIiwhMSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuX2VsZW1lbnRTZWxlY3RvcnM9bnVsbH1nZXQgY29uZmlnKCl7dmFyIGUsdCxpPVUodGhpcy5pbnN0YW5jZS5jb25maWcuYXV0b2NhcHR1cmUpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmF1dG9jYXB0dXJlOnt9O3JldHVybiBpLnVybF9hbGxvd2xpc3Q9bnVsbD09PShlPWkudXJsX2FsbG93bGlzdCl8fHZvaWQgMD09PWU/dm9pZCAwOmUubWFwKChlPT5uZXcgUmVnRXhwKGUpKSksaS51cmxfaWdub3JlbGlzdD1udWxsPT09KHQ9aS51cmxfaWdub3JlbGlzdCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubWFwKChlPT5uZXcgUmVnRXhwKGUpKSksaX1fYWRkRG9tRXZlbnRIYW5kbGVycygpe2lmKHRoaXMuaXNCcm93c2VyU3VwcG9ydGVkKCkpe2lmKHQmJmEpe3ZhciBlPWU9PntlPWV8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KTt0cnl7dGhpcy5fY2FwdHVyZUV2ZW50KGUpfWNhdGNoKGUpe0puLmVycm9yKFwiRmFpbGVkIHRvIGNhcHR1cmUgZXZlbnRcIixlKX19O2lmKFIoYSxcInN1Ym1pdFwiLGUse2NhcHR1cmU6ITB9KSxSKGEsXCJjaGFuZ2VcIixlLHtjYXB0dXJlOiEwfSksUihhLFwiY2xpY2tcIixlLHtjYXB0dXJlOiEwfSksdGhpcy5jb25maWcuY2FwdHVyZV9jb3BpZWRfdGV4dCl7dmFyIGk9ZT0+e2U9ZXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpLHRoaXMuX2NhcHR1cmVFdmVudChlLHYpfTtSKGEsXCJjb3B5XCIsaSx7Y2FwdHVyZTohMH0pLFIoYSxcImN1dFwiLGkse2NhcHR1cmU6ITB9KX19fWVsc2UgSm4uaW5mbyhcIkRpc2FibGluZyBBdXRvbWF0aWMgRXZlbnQgQ29sbGVjdGlvbiBiZWNhdXNlIHRoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkXCIpfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJiF0aGlzLl9pbml0aWFsaXplZCYmKHRoaXMuX2FkZERvbUV2ZW50SGFuZGxlcnMoKSx0aGlzLl9pbml0aWFsaXplZD0hMCl9b25SZW1vdGVDb25maWcoZSl7ZS5lbGVtZW50c0NoYWluQXNTdHJpbmcmJih0aGlzLl9lbGVtZW50c0NoYWluQXNTdHJpbmc9ZS5lbGVtZW50c0NoYWluQXNTdHJpbmcpLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tkZV06ISFlLmF1dG9jYXB0dXJlX29wdF9vdXR9KSx0aGlzLl9pc0Rpc2FibGVkU2VydmVyU2lkZT0hIWUuYXV0b2NhcHR1cmVfb3B0X291dCx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9c2V0RWxlbWVudFNlbGVjdG9ycyhlKXt0aGlzLl9lbGVtZW50U2VsZWN0b3JzPWV9Z2V0RWxlbWVudFNlbGVjdG9ycyhlKXt2YXIgdCxpPVtdO3JldHVybiBudWxsPT09KHQ9dGhpcy5fZWxlbWVudFNlbGVjdG9ycyl8fHZvaWQgMD09PXR8fHQuZm9yRWFjaCgodD0+e3ZhciByPW51bGw9PWE/dm9pZCAwOmEucXVlcnlTZWxlY3RvckFsbCh0KTtudWxsPT1yfHxyLmZvckVhY2goKHI9PntlPT09ciYmaS5wdXNoKHQpfSkpfSkpLGl9Z2V0IGlzRW5hYmxlZCgpe3ZhciBlLHQsaT1udWxsPT09KGU9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUucHJvcHNbZGVdLHI9dGhpcy5faXNEaXNhYmxlZFNlcnZlclNpZGU7aWYoRyhyKSYmIUsoaSkmJiF0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2RlY2lkZSlyZXR1cm4hMTt2YXIgcz1udWxsIT09KHQ9dGhpcy5faXNEaXNhYmxlZFNlcnZlclNpZGUpJiZ2b2lkIDAhPT10P3Q6ISFpO3JldHVybiEhdGhpcy5pbnN0YW5jZS5jb25maWcuYXV0b2NhcHR1cmUmJiFzfV9jYXB0dXJlRXZlbnQoZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiJGF1dG9jYXB0dXJlXCI7aWYodGhpcy5pc0VuYWJsZWQpe3ZhciByLHM9SGkoZSk7aWYoTWkocykmJihzPXMucGFyZW50Tm9kZXx8bnVsbCksXCIkYXV0b2NhcHR1cmVcIj09PWkmJlwiY2xpY2tcIj09PWUudHlwZSYmZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpdGhpcy5pbnN0YW5jZS5jb25maWcucmFnZWNsaWNrJiZudWxsIT09KHI9dGhpcy5yYWdlY2xpY2tzKSYmdm9pZCAwIT09ciYmci5pc1JhZ2VDbGljayhlLmNsaWVudFgsZS5jbGllbnRZLChuZXcgRGF0ZSkuZ2V0VGltZSgpKSYmdGhpcy5fY2FwdHVyZUV2ZW50KGUsXCIkcmFnZWNsaWNrXCIpO3ZhciBuPWk9PT12O2lmKHMmJnppKHMsZSx0aGlzLmNvbmZpZyxuLG4/W1wiY29weVwiLFwiY3V0XCJdOnZvaWQgMCkpe3Zhcntwcm9wczpvLGV4cGxpY2l0Tm9DYXB0dXJlOmF9PVFuKHMse2U6ZSxtYXNrQWxsRWxlbWVudEF0dHJpYnV0ZXM6dGhpcy5pbnN0YW5jZS5jb25maWcubWFza19hbGxfZWxlbWVudF9hdHRyaWJ1dGVzLG1hc2tBbGxUZXh0OnRoaXMuaW5zdGFuY2UuY29uZmlnLm1hc2tfYWxsX3RleHQsZWxlbWVudEF0dHJpYnV0ZUlnbm9yZUxpc3Q6dGhpcy5jb25maWcuZWxlbWVudF9hdHRyaWJ1dGVfaWdub3JlbGlzdCxlbGVtZW50c0NoYWluQXNTdHJpbmc6dGhpcy5fZWxlbWVudHNDaGFpbkFzU3RyaW5nfSk7aWYoYSlyZXR1cm4hMTt2YXIgbD10aGlzLmdldEVsZW1lbnRTZWxlY3RvcnMocyk7aWYobCYmbC5sZW5ndGg+MCYmKG8uJGVsZW1lbnRfc2VsZWN0b3JzPWwpLGk9PT12KXt2YXIgdSxjPXFpKG51bGw9PXR8fG51bGw9PT0odT10LmdldFNlbGVjdGlvbigpKXx8dm9pZCAwPT09dT92b2lkIDA6dS50b1N0cmluZygpKSxkPWUudHlwZXx8XCJjbGlwYm9hcmRcIjtpZighYylyZXR1cm4hMTtvLiRzZWxlY3RlZF9jb250ZW50PWMsby4kY29weV90eXBlPWR9cmV0dXJuIHRoaXMuaW5zdGFuY2UuY2FwdHVyZShpLG8pLCEwfX19aXNCcm93c2VyU3VwcG9ydGVkKCl7cmV0dXJuIEgobnVsbD09YT92b2lkIDA6YS5xdWVyeVNlbGVjdG9yQWxsKX19dmFyIGVvPXRlKFwiW1RyYWNpbmdIZWFkZXJzXVwiKTtjbGFzcyB0b3tjb25zdHJ1Y3RvcihlKXtvZSh0aGlzLFwiX3Jlc3RvcmVYSFJQYXRjaFwiLHZvaWQgMCksb2UodGhpcyxcIl9yZXN0b3JlRmV0Y2hQYXRjaFwiLHZvaWQgMCksb2UodGhpcyxcIl9zdGFydENhcHR1cmluZ1wiLCgoKT0+e3ZhciBlLHQsaSxyO3oodGhpcy5fcmVzdG9yZVhIUlBhdGNoKSYmKG51bGw9PT0oZT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnRyYWNpbmdIZWFkZXJzUGF0Y2hGbnMpfHx2b2lkIDA9PT10fHx0Ll9wYXRjaFhIUih0aGlzLmluc3RhbmNlLnNlc3Npb25NYW5hZ2VyKSk7eih0aGlzLl9yZXN0b3JlRmV0Y2hQYXRjaCkmJihudWxsPT09KGk9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS50cmFjaW5nSGVhZGVyc1BhdGNoRm5zKXx8dm9pZCAwPT09cnx8ci5fcGF0Y2hGZXRjaCh0aGlzLmluc3RhbmNlLnNlc3Npb25NYW5hZ2VyKSl9KSksdGhpcy5pbnN0YW5jZT1lfV9sb2FkU2NyaXB0KGUpe3ZhciB0LGkscjtudWxsIT09KHQ9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZ2b2lkIDAhPT10JiZ0LnRyYWNpbmdIZWFkZXJzUGF0Y2hGbnMmJmUoKSxudWxsPT09KGk9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KXx8dm9pZCAwPT09cnx8ci5jYWxsKGksdGhpcy5pbnN0YW5jZSxcInRyYWNpbmctaGVhZGVyc1wiLCh0PT57aWYodClyZXR1cm4gZW8uZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIix0KTtlKCl9KSl9c3RhcnRJZkVuYWJsZWRPclN0b3AoKXt2YXIgZSx0O3RoaXMuaW5zdGFuY2UuY29uZmlnLl9fYWRkX3RyYWNpbmdfaGVhZGVycz90aGlzLl9sb2FkU2NyaXB0KHRoaXMuX3N0YXJ0Q2FwdHVyaW5nKToobnVsbD09PShlPXRoaXMuX3Jlc3RvcmVYSFJQYXRjaCl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzKSxudWxsPT09KHQ9dGhpcy5fcmVzdG9yZUZldGNoUGF0Y2gpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyksdGhpcy5fcmVzdG9yZVhIUlBhdGNoPXZvaWQgMCx0aGlzLl9yZXN0b3JlRmV0Y2hQYXRjaD12b2lkIDApfX12YXIgaW87IWZ1bmN0aW9uKGUpe2VbZS5QRU5ESU5HPS0xXT1cIlBFTkRJTkdcIixlW2UuREVOSUVEPTBdPVwiREVOSUVEXCIsZVtlLkdSQU5URUQ9MV09XCJHUkFOVEVEXCJ9KGlvfHwoaW89e30pKTtjbGFzcyByb3tjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWV9Z2V0IGNvbmZpZygpe3JldHVybiB0aGlzLmluc3RhbmNlLmNvbmZpZ31nZXQgY29uc2VudCgpe3JldHVybiB0aGlzLmdldERudCgpP2lvLkRFTklFRDp0aGlzLnN0b3JlZENvbnNlbnR9aXNPcHRlZE91dCgpe3JldHVybiB0aGlzLmNvbnNlbnQ9PT1pby5ERU5JRUR8fHRoaXMuY29uc2VudD09PWlvLlBFTkRJTkcmJnRoaXMuY29uZmlnLm9wdF9vdXRfY2FwdHVyaW5nX2J5X2RlZmF1bHR9aXNPcHRlZEluKCl7cmV0dXJuIXRoaXMuaXNPcHRlZE91dCgpfW9wdEluT3V0KGUpe3RoaXMuc3RvcmFnZS5zZXQodGhpcy5zdG9yYWdlS2V5LGU/MTowLHRoaXMuY29uZmlnLmNvb2tpZV9leHBpcmF0aW9uLHRoaXMuY29uZmlnLmNyb3NzX3N1YmRvbWFpbl9jb29raWUsdGhpcy5jb25maWcuc2VjdXJlX2Nvb2tpZSl9cmVzZXQoKXt0aGlzLnN0b3JhZ2UucmVtb3ZlKHRoaXMuc3RvcmFnZUtleSx0aGlzLmNvbmZpZy5jcm9zc19zdWJkb21haW5fY29va2llKX1nZXQgc3RvcmFnZUtleSgpe3Zhcnt0b2tlbjplLG9wdF9vdXRfY2FwdHVyaW5nX2Nvb2tpZV9wcmVmaXg6dH09dGhpcy5pbnN0YW5jZS5jb25maWc7cmV0dXJuKHR8fFwiX19waF9vcHRfaW5fb3V0X1wiKStlfWdldCBzdG9yZWRDb25zZW50KCl7dmFyIGU9dGhpcy5zdG9yYWdlLmdldCh0aGlzLnN0b3JhZ2VLZXkpO3JldHVyblwiMVwiPT09ZT9pby5HUkFOVEVEOlwiMFwiPT09ZT9pby5ERU5JRUQ6aW8uUEVORElOR31nZXQgc3RvcmFnZSgpe2lmKCF0aGlzLl9zdG9yYWdlKXt2YXIgZT10aGlzLmNvbmZpZy5vcHRfb3V0X2NhcHR1cmluZ19wZXJzaXN0ZW5jZV90eXBlO3RoaXMuX3N0b3JhZ2U9XCJsb2NhbFN0b3JhZ2VcIj09PWU/aHQ6Y3Q7dmFyIHQ9XCJsb2NhbFN0b3JhZ2VcIj09PWU/Y3Q6aHQ7dC5nZXQodGhpcy5zdG9yYWdlS2V5KSYmKHRoaXMuX3N0b3JhZ2UuZ2V0KHRoaXMuc3RvcmFnZUtleSl8fHRoaXMub3B0SW5PdXQoXCIxXCI9PT10LmdldCh0aGlzLnN0b3JhZ2VLZXkpKSx0LnJlbW92ZSh0aGlzLnN0b3JhZ2VLZXksdGhpcy5jb25maWcuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSkpfXJldHVybiB0aGlzLl9zdG9yYWdlfWdldERudCgpe3JldHVybiEhdGhpcy5jb25maWcucmVzcGVjdF9kbnQmJiEhVChbbnVsbD09bz92b2lkIDA6by5kb05vdFRyYWNrLG51bGw9PW8/dm9pZCAwOm8ubXNEb05vdFRyYWNrLF8uZG9Ob3RUcmFja10sKGU9PiQoWyEwLDEsXCIxXCIsXCJ5ZXNcIl0sZSkpKX19dmFyIHNvPXRlKFwiW0V4Y2VwdGlvbkF1dG9jYXB0dXJlXVwiKTtjbGFzcyBub3tjb25zdHJ1Y3RvcihlKXt2YXIgaTtvZSh0aGlzLFwib3JpZ2luYWxPblVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZXJcIix2b2lkIDApLG9lKHRoaXMsXCJzdGFydENhcHR1cmluZ1wiLCgoKT0+e3ZhciBlLGkscixzO2lmKHQmJnRoaXMuaXNFbmFibGVkJiYhdGhpcy5oYXNIYW5kbGVycyYmIXRoaXMuaXNDYXB0dXJpbmcpe3ZhciBuPW51bGw9PT0oZT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWV8fG51bGw9PT0oaT1lLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLndyYXBPbkVycm9yLG89bnVsbD09PShyPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09cnx8bnVsbD09PShzPXIuZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucyl8fHZvaWQgMD09PXM/dm9pZCAwOnMud3JhcFVuaGFuZGxlZFJlamVjdGlvbjtpZihuJiZvKXRyeXt0aGlzLnVud3JhcE9uRXJyb3I9bih0aGlzLmNhcHR1cmVFeGNlcHRpb24uYmluZCh0aGlzKSksdGhpcy51bndyYXBVbmhhbmRsZWRSZWplY3Rpb249byh0aGlzLmNhcHR1cmVFeGNlcHRpb24uYmluZCh0aGlzKSl9Y2F0Y2goZSl7c28uZXJyb3IoXCJmYWlsZWQgdG8gc3RhcnRcIixlKSx0aGlzLnN0b3BDYXB0dXJpbmcoKX1lbHNlIHNvLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgZXJyb3Igd3JhcHBpbmcgZnVuY3Rpb25zIC0gY2Fubm90IHN0YXJ0XCIpfX0pKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5yZW1vdGVFbmFibGVkPSEobnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHwhaS5wcm9wc1tfZV0pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1nZXQgaXNFbmFibGVkKCl7dmFyIGU7cmV0dXJuIG51bGwhPT0oZT10aGlzLnJlbW90ZUVuYWJsZWQpJiZ2b2lkIDAhPT1lJiZlfWdldCBpc0NhcHR1cmluZygpe3ZhciBlO3JldHVybiEobnVsbD09dHx8bnVsbD09PShlPXQub25lcnJvcil8fHZvaWQgMD09PWV8fCFlLl9fUE9TVEhPR19JTlNUUlVNRU5URURfXyl9Z2V0IGhhc0hhbmRsZXJzKCl7cmV0dXJuIHRoaXMub3JpZ2luYWxPblVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZXJ8fHRoaXMudW53cmFwT25FcnJvcn1zdGFydElmRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkJiYhdGhpcy5pc0NhcHR1cmluZyYmKHNvLmluZm8oXCJlbmFibGVkLCBzdGFydGluZy4uLlwiKSx0aGlzLmxvYWRTY3JpcHQodGhpcy5zdGFydENhcHR1cmluZykpfWxvYWRTY3JpcHQoZSl7dmFyIHQsaTt0aGlzLmhhc0hhbmRsZXJzJiZlKCksbnVsbD09PSh0PV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PWl8fGkuY2FsbCh0LHRoaXMuaW5zdGFuY2UsXCJleGNlcHRpb24tYXV0b2NhcHR1cmVcIiwodD0+e2lmKHQpcmV0dXJuIHNvLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsdCk7ZSgpfSkpfXN0b3BDYXB0dXJpbmcoKXt2YXIgZSx0O251bGw9PT0oZT10aGlzLnVud3JhcE9uRXJyb3IpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyksbnVsbD09PSh0PXRoaXMudW53cmFwVW5oYW5kbGVkUmVqZWN0aW9uKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMpfW9uUmVtb3RlQ29uZmlnKGUpe3ZhciB0PWUuYXV0b2NhcHR1cmVFeGNlcHRpb25zO3RoaXMucmVtb3RlRW5hYmxlZD0hIXR8fCExLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tfZV06dGhpcy5yZW1vdGVFbmFibGVkfSksdGhpcy5zdGFydElmRW5hYmxlZCgpfWNhcHR1cmVFeGNlcHRpb24oZSl7dmFyIHQ9dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwidWlcIik7ZS4kZXhjZXB0aW9uX3BlcnNvblVSTD1cIlwiLmNvbmNhdCh0LFwiL3Byb2plY3QvXCIpLmNvbmNhdCh0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbixcIi9wZXJzb24vXCIpLmNvbmNhdCh0aGlzLmluc3RhbmNlLmdldF9kaXN0aW5jdF9pZCgpKSx0aGlzLmluc3RhbmNlLmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KGUpfX12YXIgb289dGUoXCJbV2ViIFZpdGFsc11cIiksYW89OWU1O2NsYXNzIGxve2NvbnN0cnVjdG9yKGUpe3ZhciB0O29lKHRoaXMsXCJfZW5hYmxlZFNlcnZlclNpZGVcIiwhMSksb2UodGhpcyxcIl9pbml0aWFsaXplZFwiLCExKSxvZSh0aGlzLFwiYnVmZmVyXCIse3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9KSxvZSh0aGlzLFwiX2ZsdXNoVG9DYXB0dXJlXCIsKCgpPT57Y2xlYXJUaW1lb3V0KHRoaXMuX2RlbGF5ZWRGbHVzaFRpbWVyKSwwIT09dGhpcy5idWZmZXIubWV0cmljcy5sZW5ndGgmJih0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkd2ViX3ZpdGFsc1wiLHRoaXMuYnVmZmVyLm1ldHJpY3MucmVkdWNlKCgoZSx0KT0+bmUobmUoe30sZSkse30se1tcIiR3ZWJfdml0YWxzX1wiLmNvbmNhdCh0Lm5hbWUsXCJfZXZlbnRcIildOm5lKHt9LHQpLFtcIiR3ZWJfdml0YWxzX1wiLmNvbmNhdCh0Lm5hbWUsXCJfdmFsdWVcIildOnQudmFsdWV9KSkse30pKSx0aGlzLmJ1ZmZlcj17dXJsOnZvaWQgMCxtZXRyaWNzOltdLGZpcnN0TWV0cmljVGltZXN0YW1wOnZvaWQgMH0pfSkpLG9lKHRoaXMsXCJfYWRkVG9CdWZmZXJcIiwoZT0+e3ZhciB0LGk9bnVsbD09PSh0PXRoaXMuaW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKTtpZih6KGkpKW9vLmVycm9yKFwiQ291bGQgbm90IHJlYWQgc2Vzc2lvbiBJRC4gRHJvcHBpbmcgbWV0cmljcyFcIik7ZWxzZXt0aGlzLmJ1ZmZlcj10aGlzLmJ1ZmZlcnx8e3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9O3ZhciByPXRoaXMuX2N1cnJlbnRVUkwoKTtpZigheihyKSlpZihKKG51bGw9PWU/dm9pZCAwOmUubmFtZSl8fEoobnVsbD09ZT92b2lkIDA6ZS52YWx1ZSkpb28uZXJyb3IoXCJJbnZhbGlkIG1ldHJpYyByZWNlaXZlZFwiLGUpO2Vsc2UgaWYodGhpcy5fbWF4QWxsb3dlZFZhbHVlJiZlLnZhbHVlPj10aGlzLl9tYXhBbGxvd2VkVmFsdWUpb28uZXJyb3IoXCJJZ25vcmluZyBtZXRyaWMgd2l0aCB2YWx1ZSA+PSBcIit0aGlzLl9tYXhBbGxvd2VkVmFsdWUsZSk7ZWxzZSB0aGlzLmJ1ZmZlci51cmwhPT1yJiYodGhpcy5fZmx1c2hUb0NhcHR1cmUoKSx0aGlzLl9kZWxheWVkRmx1c2hUaW1lcj1zZXRUaW1lb3V0KHRoaXMuX2ZsdXNoVG9DYXB0dXJlLHRoaXMuZmx1c2hUb0NhcHR1cmVUaW1lb3V0TXMpKSx6KHRoaXMuYnVmZmVyLnVybCkmJih0aGlzLmJ1ZmZlci51cmw9ciksdGhpcy5idWZmZXIuZmlyc3RNZXRyaWNUaW1lc3RhbXA9eih0aGlzLmJ1ZmZlci5maXJzdE1ldHJpY1RpbWVzdGFtcCk/RGF0ZS5ub3coKTp0aGlzLmJ1ZmZlci5maXJzdE1ldHJpY1RpbWVzdGFtcCxlLmF0dHJpYnV0aW9uJiZlLmF0dHJpYnV0aW9uLmludGVyYWN0aW9uVGFyZ2V0RWxlbWVudCYmKGUuYXR0cmlidXRpb24uaW50ZXJhY3Rpb25UYXJnZXRFbGVtZW50PXZvaWQgMCksdGhpcy5idWZmZXIubWV0cmljcy5wdXNoKG5lKG5lKHt9LGUpLHt9LHskY3VycmVudF91cmw6ciwkc2Vzc2lvbl9pZDppLnNlc3Npb25JZCwkd2luZG93X2lkOmkud2luZG93SWQsdGltZXN0YW1wOkRhdGUubm93KCl9KSksdGhpcy5idWZmZXIubWV0cmljcy5sZW5ndGg9PT10aGlzLmFsbG93ZWRNZXRyaWNzLmxlbmd0aCYmdGhpcy5fZmx1c2hUb0NhcHR1cmUoKX19KSksb2UodGhpcyxcIl9zdGFydENhcHR1cmluZ1wiLCgoKT0+e3ZhciBlLHQsaSxyLHM9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX187eihzKXx8eihzLnBvc3RIb2dXZWJWaXRhbHNDYWxsYmFja3MpfHwoe29uTENQOmUsb25DTFM6dCxvbkZDUDppLG9uSU5QOnJ9PXMucG9zdEhvZ1dlYlZpdGFsc0NhbGxiYWNrcyksZSYmdCYmaSYmcj8odGhpcy5hbGxvd2VkTWV0cmljcy5pbmRleE9mKFwiTENQXCIpPi0xJiZlKHRoaXMuX2FkZFRvQnVmZmVyLmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkNMU1wiKT4tMSYmdCh0aGlzLl9hZGRUb0J1ZmZlci5iaW5kKHRoaXMpKSx0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJGQ1BcIik+LTEmJmkodGhpcy5fYWRkVG9CdWZmZXIuYmluZCh0aGlzKSksdGhpcy5hbGxvd2VkTWV0cmljcy5pbmRleE9mKFwiSU5QXCIpPi0xJiZyKHRoaXMuX2FkZFRvQnVmZmVyLmJpbmQodGhpcykpLHRoaXMuX2luaXRpYWxpemVkPSEwKTpvby5lcnJvcihcIndlYiB2aXRhbHMgY2FsbGJhY2tzIG5vdCBsb2FkZWQgLSBub3Qgc3RhcnRpbmdcIil9KSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuX2VuYWJsZWRTZXJ2ZXJTaWRlPSEobnVsbD09PSh0PXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHwhdC5wcm9wc1twZV0pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1nZXQgYWxsb3dlZE1ldHJpY3MoKXt2YXIgZSx0LGk9VSh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT9udWxsPT09KGU9dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUud2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3M6dm9pZCAwO3JldHVybiB6KGkpPyhudWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucHJvcHNbZ2VdKXx8W1wiQ0xTXCIsXCJGQ1BcIixcIklOUFwiLFwiTENQXCJdOml9Z2V0IGZsdXNoVG9DYXB0dXJlVGltZW91dE1zKCl7cmV0dXJuKFUodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS53ZWJfdml0YWxzX2RlbGF5ZWRfZmx1c2hfbXM6dm9pZCAwKXx8NWUzfWdldCBfbWF4QWxsb3dlZFZhbHVlKCl7dmFyIGU9VSh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKSYmWSh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLl9fd2ViX3ZpdGFsc19tYXhfdmFsdWUpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UuX193ZWJfdml0YWxzX21heF92YWx1ZTphbztyZXR1cm4gMDxlJiZlPD02ZTQ/YW86ZX1nZXQgaXNFbmFibGVkKCl7dmFyIGU9VSh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLndlYl92aXRhbHM6dm9pZCAwO3JldHVybiBLKGUpP2U6dGhpcy5fZW5hYmxlZFNlcnZlclNpZGV9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmIXRoaXMuX2luaXRpYWxpemVkJiYob28uaW5mbyhcImVuYWJsZWQsIHN0YXJ0aW5nLi4uXCIpLHRoaXMubG9hZFNjcmlwdCh0aGlzLl9zdGFydENhcHR1cmluZykpfW9uUmVtb3RlQ29uZmlnKGUpe3ZhciB0PVUoZS5jYXB0dXJlUGVyZm9ybWFuY2UpJiYhIWUuY2FwdHVyZVBlcmZvcm1hbmNlLndlYl92aXRhbHMsaT1VKGUuY2FwdHVyZVBlcmZvcm1hbmNlKT9lLmNhcHR1cmVQZXJmb3JtYW5jZS53ZWJfdml0YWxzX2FsbG93ZWRfbWV0cmljczp2b2lkIDA7dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmKHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1twZV06dH0pLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tnZV06aX0pKSx0aGlzLl9lbmFibGVkU2VydmVyU2lkZT10LHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1sb2FkU2NyaXB0KGUpe3ZhciB0LGkscjtudWxsIT09KHQ9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZ2b2lkIDAhPT10JiZ0LnBvc3RIb2dXZWJWaXRhbHNDYWxsYmFja3MmJmUoKSxudWxsPT09KGk9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KXx8dm9pZCAwPT09cnx8ci5jYWxsKGksdGhpcy5pbnN0YW5jZSxcIndlYi12aXRhbHNcIiwodD0+e3Q/b28uZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIix0KTplKCl9KSl9X2N1cnJlbnRVUkwoKXt2YXIgZT10P3QubG9jYXRpb24uaHJlZjp2b2lkIDA7cmV0dXJuIGV8fG9vLmVycm9yKFwiQ291bGQgbm90IGRldGVybWluZSBjdXJyZW50IFVSTFwiKSxlfX12YXIgdW89e2ljb250YWluczooZSxpKT0+ISF0JiZpLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSk+LTEsbm90X2ljb250YWluczooZSxpKT0+ISF0JiYtMT09PWkuaHJlZi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZS50b0xvd2VyQ2FzZSgpKSxyZWdleDooZSxpKT0+ISF0JiZBKGkuaHJlZixlKSxub3RfcmVnZXg6KGUsaSk9PiEhdCYmIUEoaS5ocmVmLGUpLGV4YWN0OihlLHQpPT50LmhyZWY9PT1lLGlzX25vdDooZSx0KT0+dC5ocmVmIT09ZX07Y2xhc3MgY297Y29uc3RydWN0b3IoZSl7dmFyIHQ9dGhpcztvZSh0aGlzLFwiZ2V0V2ViRXhwZXJpbWVudHNBbmRFdmFsdWF0ZURpc3BsYXlMb2dpY1wiLChmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07dC5nZXRXZWJFeHBlcmltZW50cygoZT0+e2NvLmxvZ0luZm8oXCJyZXRyaWV2ZWQgd2ViIGV4cGVyaW1lbnRzIGZyb20gdGhlIHNlcnZlclwiKSx0Ll9mbGFnVG9FeHBlcmltZW50cz1uZXcgTWFwLGUuZm9yRWFjaCgoZT0+e2lmKGUuZmVhdHVyZV9mbGFnX2tleSl7dmFyIGk7aWYodC5fZmxhZ1RvRXhwZXJpbWVudHMpY28ubG9nSW5mbyhcInNldHRpbmcgZmxhZyBrZXkgXCIsZS5mZWF0dXJlX2ZsYWdfa2V5LFwiIHRvIHdlYiBleHBlcmltZW50IFwiLGUpLG51bGw9PT0oaT10Ll9mbGFnVG9FeHBlcmltZW50cyl8fHZvaWQgMD09PWl8fGkuc2V0KGUuZmVhdHVyZV9mbGFnX2tleSxlKTt2YXIgcj10Lmluc3RhbmNlLmdldEZlYXR1cmVGbGFnKGUuZmVhdHVyZV9mbGFnX2tleSk7VyhyKSYmZS52YXJpYW50c1tyXSYmdC5hcHBseVRyYW5zZm9ybXMoZS5uYW1lLHIsZS52YXJpYW50c1tyXS50cmFuc2Zvcm1zKX1lbHNlIGlmKGUudmFyaWFudHMpZm9yKHZhciBzIGluIGUudmFyaWFudHMpe3ZhciBuPWUudmFyaWFudHNbc107Y28ubWF0Y2hlc1Rlc3RWYXJpYW50KG4pJiZ0LmFwcGx5VHJhbnNmb3JtcyhlLm5hbWUscyxuLnRyYW5zZm9ybXMpfX0pKX0pLGUpfSkpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLmluc3RhbmNlLm9uRmVhdHVyZUZsYWdzKChlPT57dGhpcy5vbkZlYXR1cmVGbGFncyhlKX0pKX1vbkZlYXR1cmVGbGFncyhlKXtpZih0aGlzLl9pc19ib3QoKSljby5sb2dJbmZvKFwiUmVmdXNpbmcgdG8gcmVuZGVyIHdlYiBleHBlcmltZW50IHNpbmNlIHRoZSB2aWV3ZXIgaXMgYSBsaWtlbHkgYm90XCIpO2Vsc2UgaWYoIXRoaXMuaW5zdGFuY2UuY29uZmlnLmRpc2FibGVfd2ViX2V4cGVyaW1lbnRzKXtpZihKKHRoaXMuX2ZsYWdUb0V4cGVyaW1lbnRzKSlyZXR1cm4gdGhpcy5fZmxhZ1RvRXhwZXJpbWVudHM9bmV3IE1hcCx0aGlzLmxvYWRJZkVuYWJsZWQoKSx2b2lkIHRoaXMucHJldmlld1dlYkV4cGVyaW1lbnQoKTtjby5sb2dJbmZvKFwiYXBwbHlpbmcgZmVhdHVyZSBmbGFnc1wiLGUpLGUuZm9yRWFjaCgoZT0+e3ZhciB0O2lmKHRoaXMuX2ZsYWdUb0V4cGVyaW1lbnRzJiZudWxsIT09KHQ9dGhpcy5fZmxhZ1RvRXhwZXJpbWVudHMpJiZ2b2lkIDAhPT10JiZ0LmhhcyhlKSl7dmFyIGkscj10aGlzLmluc3RhbmNlLmdldEZlYXR1cmVGbGFnKGUpLHM9bnVsbD09PShpPXRoaXMuX2ZsYWdUb0V4cGVyaW1lbnRzKXx8dm9pZCAwPT09aT92b2lkIDA6aS5nZXQoZSk7ciYmbnVsbCE9cyYmcy52YXJpYW50c1tyXSYmdGhpcy5hcHBseVRyYW5zZm9ybXMocy5uYW1lLHIscy52YXJpYW50c1tyXS50cmFuc2Zvcm1zKX19KSl9fXByZXZpZXdXZWJFeHBlcmltZW50KCl7dmFyIGU9Y28uZ2V0V2luZG93TG9jYXRpb24oKTtpZihudWxsIT1lJiZlLnNlYXJjaCl7dmFyIHQ9U3QobnVsbD09ZT92b2lkIDA6ZS5zZWFyY2gsXCJfX2V4cGVyaW1lbnRfaWRcIiksaT1TdChudWxsPT1lP3ZvaWQgMDplLnNlYXJjaCxcIl9fZXhwZXJpbWVudF92YXJpYW50XCIpO3QmJmkmJihjby5sb2dJbmZvKFwicHJldmlld2luZyB3ZWIgZXhwZXJpbWVudHMgXCIuY29uY2F0KHQsXCIgJiYgXCIpLmNvbmNhdChpKSksdGhpcy5nZXRXZWJFeHBlcmltZW50cygoZT0+e3RoaXMuc2hvd1ByZXZpZXdXZWJFeHBlcmltZW50KHBhcnNlSW50KHQpLGksZSl9KSwhMSwhMCkpfX1sb2FkSWZFbmFibGVkKCl7dGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV93ZWJfZXhwZXJpbWVudHN8fHRoaXMuZ2V0V2ViRXhwZXJpbWVudHNBbmRFdmFsdWF0ZURpc3BsYXlMb2dpYygpfWdldFdlYkV4cGVyaW1lbnRzKGUsdCxpKXtpZih0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3dlYl9leHBlcmltZW50cyYmIWkpcmV0dXJuIGUoW10pO3ZhciByPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJHdlYl9leHBlcmltZW50c1wiKTtpZihyJiYhdClyZXR1cm4gZShyKTt0aGlzLmluc3RhbmNlLl9zZW5kX3JlcXVlc3Qoe3VybDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9hcGkvd2ViX2V4cGVyaW1lbnRzLz90b2tlbj1cIi5jb25jYXQodGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4pKSxtZXRob2Q6XCJHRVRcIixjYWxsYmFjazp0PT57aWYoMjAwIT09dC5zdGF0dXNDb2RlfHwhdC5qc29uKXJldHVybiBlKFtdKTt2YXIgaT10Lmpzb24uZXhwZXJpbWVudHN8fFtdO3JldHVybiBlKGkpfX0pfXNob3dQcmV2aWV3V2ViRXhwZXJpbWVudChlLHQsaSl7dmFyIHI9aS5maWx0ZXIoKHQ9PnQuaWQ9PT1lKSk7ciYmci5sZW5ndGg+MCYmKGNvLmxvZ0luZm8oXCJQcmV2aWV3aW5nIHdlYiBleHBlcmltZW50IFtcIi5jb25jYXQoclswXS5uYW1lLFwiXSB3aXRoIHZhcmlhbnQgW1wiKS5jb25jYXQodCxcIl1cIikpLHRoaXMuYXBwbHlUcmFuc2Zvcm1zKHJbMF0ubmFtZSx0LHJbMF0udmFyaWFudHNbdF0udHJhbnNmb3JtcykpfXN0YXRpYyBtYXRjaGVzVGVzdFZhcmlhbnQoZSl7cmV0dXJuIUooZS5jb25kaXRpb25zKSYmKGNvLm1hdGNoVXJsQ29uZGl0aW9ucyhlKSYmY28ubWF0Y2hVVE1Db25kaXRpb25zKGUpKX1zdGF0aWMgbWF0Y2hVcmxDb25kaXRpb25zKGUpe3ZhciB0O2lmKEooZS5jb25kaXRpb25zKXx8SihudWxsPT09KHQ9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dD92b2lkIDA6dC51cmwpKXJldHVybiEwO3ZhciBpLHIscyxuPWNvLmdldFdpbmRvd0xvY2F0aW9uKCk7cmV0dXJuISFuJiYobnVsbD09PShpPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWl8fCFpLnVybHx8dW9bbnVsbCE9PShyPW51bGw9PT0ocz1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnVybE1hdGNoVHlwZSkmJnZvaWQgMCE9PXI/cjpcImljb250YWluc1wiXShlLmNvbmRpdGlvbnMudXJsLG4pKX1zdGF0aWMgZ2V0V2luZG93TG9jYXRpb24oKXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5sb2NhdGlvbn1zdGF0aWMgbWF0Y2hVVE1Db25kaXRpb25zKGUpe3ZhciB0O2lmKEooZS5jb25kaXRpb25zKXx8SihudWxsPT09KHQ9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dD92b2lkIDA6dC51dG0pKXJldHVybiEwO3ZhciBpPUVpLmNhbXBhaWduUGFyYW1zKCk7aWYoaS51dG1fc291cmNlKXt2YXIgcixzLG4sbyxhLGwsdSxjLGQsaCxfLHAsdixnLGYsbSxiPW51bGw9PT0ocj1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1yfHxudWxsPT09KHM9ci51dG0pfHx2b2lkIDA9PT1zfHwhcy51dG1fY2FtcGFpZ258fChudWxsPT09KG49ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09bnx8bnVsbD09PShvPW4udXRtKXx8dm9pZCAwPT09bz92b2lkIDA6by51dG1fY2FtcGFpZ24pPT1pLnV0bV9jYW1wYWlnbix5PW51bGw9PT0oYT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1hfHxudWxsPT09KGw9YS51dG0pfHx2b2lkIDA9PT1sfHwhbC51dG1fc291cmNlfHwobnVsbD09PSh1PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXV8fG51bGw9PT0oYz11LnV0bSl8fHZvaWQgMD09PWM/dm9pZCAwOmMudXRtX3NvdXJjZSk9PWkudXRtX3NvdXJjZSx3PW51bGw9PT0oZD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1kfHxudWxsPT09KGg9ZC51dG0pfHx2b2lkIDA9PT1ofHwhaC51dG1fbWVkaXVtfHwobnVsbD09PShfPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PV98fG51bGw9PT0ocD1fLnV0bSl8fHZvaWQgMD09PXA/dm9pZCAwOnAudXRtX21lZGl1bSk9PWkudXRtX21lZGl1bSxTPW51bGw9PT0odj1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT12fHxudWxsPT09KGc9di51dG0pfHx2b2lkIDA9PT1nfHwhZy51dG1fdGVybXx8KG51bGw9PT0oZj1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1mfHxudWxsPT09KG09Zi51dG0pfHx2b2lkIDA9PT1tP3ZvaWQgMDptLnV0bV90ZXJtKT09aS51dG1fdGVybTtyZXR1cm4gYiYmdyYmUyYmeX1yZXR1cm4hMX1zdGF0aWMgbG9nSW5mbyhlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKWlbci0xXT1hcmd1bWVudHNbcl07ZWUuaW5mbyhcIltXZWJFeHBlcmltZW50c10gXCIuY29uY2F0KGUpLGkpfWFwcGx5VHJhbnNmb3JtcyhlLHQsaSl7dGhpcy5faXNfYm90KCk/Y28ubG9nSW5mbyhcIlJlZnVzaW5nIHRvIHJlbmRlciB3ZWIgZXhwZXJpbWVudCBzaW5jZSB0aGUgdmlld2VyIGlzIGEgbGlrZWx5IGJvdFwiKTpcImNvbnRyb2xcIiE9PXQ/aS5mb3JFYWNoKChpPT57aWYoaS5zZWxlY3Rvcil7dmFyIHI7Y28ubG9nSW5mbyhcImFwcGx5aW5nIHRyYW5zZm9ybSBvZiB2YXJpYW50IFwiLmNvbmNhdCh0LFwiIGZvciBleHBlcmltZW50IFwiKS5jb25jYXQoZSxcIiBcIiksaSk7dmFyIHM9bnVsbD09PShyPWRvY3VtZW50KXx8dm9pZCAwPT09cj92b2lkIDA6ci5xdWVyeVNlbGVjdG9yQWxsKGkuc2VsZWN0b3IpO251bGw9PXN8fHMuZm9yRWFjaCgoZT0+e3ZhciB0PWU7aS5hdHRyaWJ1dGVzJiZpLmF0dHJpYnV0ZXMuZm9yRWFjaCgoZT0+e3N3aXRjaChlLm5hbWUpe2Nhc2VcInRleHRcIjp0LmlubmVyVGV4dD1lLnZhbHVlO2JyZWFrO2Nhc2VcImh0bWxcIjp0LmlubmVySFRNTD1lLnZhbHVlO2JyZWFrO2Nhc2VcImNzc0NsYXNzXCI6dC5jbGFzc05hbWU9ZS52YWx1ZTticmVhaztkZWZhdWx0OnQuc2V0QXR0cmlidXRlKGUubmFtZSxlLnZhbHVlKX19KSksaS50ZXh0JiYodC5pbm5lclRleHQ9aS50ZXh0KSxpLmh0bWwmJih0LnBhcmVudEVsZW1lbnQ/dC5wYXJlbnRFbGVtZW50LmlubmVySFRNTD1pLmh0bWw6dC5pbm5lckhUTUw9aS5odG1sKSxpLmNzcyYmdC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGkuY3NzKX0pKX19KSk6Y28ubG9nSW5mbyhcIkNvbnRyb2wgdmFyaWFudHMgbGVhdmUgdGhlIHBhZ2UgdW5tb2RpZmllZC5cIil9X2lzX2JvdCgpe3JldHVybiBvJiZ0aGlzLmluc3RhbmNlP05uKG8sdGhpcy5pbnN0YW5jZS5jb25maWcuY3VzdG9tX2Jsb2NrZWRfdXNlcmFnZW50cyk6dm9pZCAwfX1jbGFzcyBob3tjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWV9c2VuZEV4Y2VwdGlvbkV2ZW50KGUpe3RoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiRleGNlcHRpb25cIixlLHtfbm9UcnVuY2F0ZTohMCxfYmF0Y2hLZXk6XCJleGNlcHRpb25FdmVudFwifSl9fXZhciBfbz1bXCIkc2V0X29uY2VcIixcIiRzZXRcIl0scG89dGUoXCJbU2l0ZUFwcHNdXCIpO2NsYXNzIHZve2NvbnN0cnVjdG9yKGUpe3RoaXMuaW5zdGFuY2U9ZSx0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnM9W10sdGhpcy5hcHBzPXt9fWdldCBpc0VuYWJsZWQoKXtyZXR1cm4hIXRoaXMuaW5zdGFuY2UuY29uZmlnLm9wdF9pbl9zaXRlX2FwcHN9ZXZlbnRDb2xsZWN0b3IoZSx0KXtpZih0KXt2YXIgaT10aGlzLmdsb2JhbHNGb3JFdmVudCh0KTt0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnMucHVzaChpKSx0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnMubGVuZ3RoPjFlMyYmKHRoaXMuYnVmZmVyZWRJbnZvY2F0aW9ucz10aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnMuc2xpY2UoMTApKX19Z2V0IHNpdGVBcHBMb2FkZXJzKCl7dmFyIGUsdDtyZXR1cm4gbnVsbD09PShlPV8uX1BPU1RIT0dfUkVNT1RFX0NPTkZJRyl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lW3RoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuXSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2l0ZUFwcHN9aW5pdCgpe2lmKHRoaXMuaXNFbmFibGVkKXt2YXIgZT10aGlzLmluc3RhbmNlLl9hZGRDYXB0dXJlSG9vayh0aGlzLmV2ZW50Q29sbGVjdG9yLmJpbmQodGhpcykpO3RoaXMuc3RvcEJ1ZmZlcmluZz0oKT0+e2UoKSx0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnM9W10sdGhpcy5zdG9wQnVmZmVyaW5nPXZvaWQgMH19fWdsb2JhbHNGb3JFdmVudChlKXt2YXIgdCxpLHIscyxuLG8sYTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJFdmVudCBwYXlsb2FkIGlzIHJlcXVpcmVkXCIpO3ZhciBsPXt9LHU9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoXCIkZ3JvdXBzXCIpfHxbXSxjPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJHN0b3JlZF9ncm91cF9wcm9wZXJ0aWVzXCIpfHx7fTtmb3IodmFyW2QsaF1vZiBPYmplY3QuZW50cmllcyhjKSlsW2RdPXtpZDp1W2RdLHR5cGU6ZCxwcm9wZXJ0aWVzOmh9O3Zhcnskc2V0X29uY2U6Xywkc2V0OnB9PWU7cmV0dXJue2V2ZW50Om5lKG5lKHt9LGFlKGUsX28pKSx7fSx7cHJvcGVydGllczpuZShuZShuZSh7fSxlLnByb3BlcnRpZXMpLHA/eyRzZXQ6bmUobmUoe30sbnVsbCE9PSh0PW51bGw9PT0oaT1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLiRzZXQpJiZ2b2lkIDAhPT10P3Q6e30pLHApfTp7fSksXz97JHNldF9vbmNlOm5lKG5lKHt9LG51bGwhPT0ocj1udWxsPT09KHM9ZS5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09cz92b2lkIDA6cy4kc2V0X29uY2UpJiZ2b2lkIDAhPT1yP3I6e30pLF8pfTp7fSksZWxlbWVudHNfY2hhaW46bnVsbCE9PShuPW51bGw9PT0obz1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLiRlbGVtZW50c19jaGFpbikmJnZvaWQgMCE9PW4/bjpcIlwiLGRpc3RpbmN0X2lkOm51bGw9PT0oYT1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmRpc3RpbmN0X2lkfSkscGVyc29uOntwcm9wZXJ0aWVzOnRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJHN0b3JlZF9wZXJzb25fcHJvcGVydGllc1wiKX0sZ3JvdXBzOmx9fXNldHVwU2l0ZUFwcChlKXt2YXIgdD17aWQ6ZS5pZCxsb2FkZWQ6ITEsZXJyb3JlZDohMX07dGhpcy5hcHBzW2UuaWRdPXQ7dmFyIGk9aT0+e3ZhciByO2Zvcih2YXIgcyBvZih0aGlzLmFwcHNbZS5pZF0uZXJyb3JlZD0haSx0aGlzLmFwcHNbZS5pZF0ubG9hZGVkPSEwLHBvLmluZm8oXCJTaXRlIGFwcCB3aXRoIGlkIFwiLmNvbmNhdChlLmlkLFwiIFwiKS5jb25jYXQoaT9cImxvYWRlZFwiOlwiZXJyb3JlZFwiKSksaSYmdGhpcy5idWZmZXJlZEludm9jYXRpb25zLmxlbmd0aCYmKHBvLmluZm8oXCJQcm9jZXNzaW5nIFwiLmNvbmNhdCh0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnMubGVuZ3RoLFwiIGV2ZW50cyBmb3Igc2l0ZSBhcHAgd2l0aCBpZCBcIikuY29uY2F0KGUuaWQpKSx0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnMuZm9yRWFjaCgoZT0+e3ZhciBpO3JldHVybiBudWxsPT09KGk9dC5wcm9jZXNzRXZlbnQpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodCxlKX0pKSksT2JqZWN0LnZhbHVlcyh0aGlzLmFwcHMpKSlpZighcy5sb2FkZWQpcmV0dXJuO251bGw9PT0ocj10aGlzLnN0b3BCdWZmZXJpbmcpfHx2b2lkIDA9PT1yfHxyLmNhbGwodGhpcyl9O3RyeXt2YXJ7cHJvY2Vzc0V2ZW50OnJ9PWUuaW5pdCh7cG9zdGhvZzp0aGlzLmluc3RhbmNlLGNhbGxiYWNrOmU9PntpKGUpfX0pO3ImJih0LnByb2Nlc3NFdmVudD1yKX1jYXRjaCh0KXtwby5lcnJvcihcIkVycm9yIHdoaWxlIGluaXRpYWxpemluZyBQb3N0SG9nIGFwcCB3aXRoIGNvbmZpZyBpZCBcIi5jb25jYXQoZS5pZCksdCksaSghMSl9fW9uQ2FwdHVyZWRFdmVudChlKXtpZigwIT09T2JqZWN0LmtleXModGhpcy5hcHBzKS5sZW5ndGgpe3ZhciB0PXRoaXMuZ2xvYmFsc0ZvckV2ZW50KGUpO2Zvcih2YXIgaSBvZiBPYmplY3QudmFsdWVzKHRoaXMuYXBwcykpdHJ5e3ZhciByO251bGw9PT0ocj1pLnByb2Nlc3NFdmVudCl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHQpfWNhdGNoKHQpe3BvLmVycm9yKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBldmVudCBcIi5jb25jYXQoZS5ldmVudCxcIiBmb3Igc2l0ZSBhcHAgXCIpLmNvbmNhdChpLmlkKSx0KX19fW9uUmVtb3RlQ29uZmlnKGUpe3ZhciB0LGkscixzPXRoaXM7aWYobnVsbCE9PSh0PXRoaXMuc2l0ZUFwcExvYWRlcnMpJiZ2b2lkIDAhPT10JiZ0Lmxlbmd0aCl7aWYoIXRoaXMuaXNFbmFibGVkKXJldHVybiB2b2lkIHBvLmVycm9yKCdQb3N0SG9nIHNpdGUgYXBwcyBhcmUgZGlzYWJsZWQuIEVuYWJsZSB0aGUgXCJvcHRfaW5fc2l0ZV9hcHBzXCIgY29uZmlnIHRvIHByb2NlZWQuJyk7Zm9yKHZhciBuIG9mIHRoaXMuc2l0ZUFwcExvYWRlcnMpdGhpcy5zZXR1cFNpdGVBcHAobik7dGhpcy5pbnN0YW5jZS5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+dGhpcy5vbkNhcHR1cmVkRXZlbnQoZSkpKX1lbHNlIGlmKG51bGw9PT0oaT10aGlzLnN0b3BCdWZmZXJpbmcpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyksbnVsbCE9PShyPWUuc2l0ZUFwcHMpJiZ2b2lkIDAhPT1yJiZyLmxlbmd0aClpZih0aGlzLmlzRW5hYmxlZCl7dmFyIG89ZnVuY3Rpb24oZSx0KXt2YXIgaSxyO19bXCJfXyQkcGhfc2l0ZV9hcHBfXCIuY29uY2F0KGUpXT1zLmluc3RhbmNlLG51bGw9PT0oaT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLmxvYWRTaXRlQXBwKXx8dm9pZCAwPT09cnx8ci5jYWxsKGkscy5pbnN0YW5jZSx0LCh0PT57aWYodClyZXR1cm4gcG8uZXJyb3IoXCJFcnJvciB3aGlsZSBpbml0aWFsaXppbmcgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIuY29uY2F0KGUpLHQpfSkpfTtmb3IodmFye2lkOmEsdXJsOmx9b2YgZS5zaXRlQXBwcylvKGEsbCl9ZWxzZSBwby5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpfX1mdW5jdGlvbiBnbyhlLHQsaSl7cmV0dXJuIGtzKHtkaXN0aW5jdF9pZDplLHVzZXJQcm9wZXJ0aWVzVG9TZXQ6dCx1c2VyUHJvcGVydGllc1RvU2V0T25jZTppfSl9dmFyIGZvPXt9LG1vPSgpPT57fSxibz1cInBvc3Rob2dcIix5bz0heXMmJi0xPT09KG51bGw9PWg/dm9pZCAwOmguaW5kZXhPZihcIk1TSUVcIikpJiYtMT09PShudWxsPT1oP3ZvaWQgMDpoLmluZGV4T2YoXCJNb3ppbGxhXCIpKSx3bz0oKT0+e3ZhciBlO3JldHVybnthcGlfaG9zdDpcImh0dHBzOi8vdXMuaS5wb3N0aG9nLmNvbVwiLHVpX2hvc3Q6bnVsbCx0b2tlbjpcIlwiLGF1dG9jYXB0dXJlOiEwLHJhZ2VjbGljazohMCxjcm9zc19zdWJkb21haW5fY29va2llOkYobnVsbD09YT92b2lkIDA6YS5sb2NhdGlvbikscGVyc2lzdGVuY2U6XCJsb2NhbFN0b3JhZ2UrY29va2llXCIscGVyc2lzdGVuY2VfbmFtZTpcIlwiLGxvYWRlZDptbyxzYXZlX2NhbXBhaWduX3BhcmFtczohMCxjdXN0b21fY2FtcGFpZ25fcGFyYW1zOltdLGN1c3RvbV9ibG9ja2VkX3VzZXJhZ2VudHM6W10sc2F2ZV9yZWZlcnJlcjohMCxjYXB0dXJlX3BhZ2V2aWV3OiEwLGNhcHR1cmVfcGFnZWxlYXZlOlwiaWZfY2FwdHVyZV9wYWdldmlld1wiLGRlYnVnOmwmJlcobnVsbD09bD92b2lkIDA6bC5zZWFyY2gpJiYtMSE9PWwuc2VhcmNoLmluZGV4T2YoXCJfX3Bvc3Rob2dfZGVidWc9dHJ1ZVwiKXx8ITEsY29va2llX2V4cGlyYXRpb246MzY1LHVwZ3JhZGU6ITEsZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzohMSxkaXNhYmxlX3BlcnNpc3RlbmNlOiExLGRpc2FibGVfd2ViX2V4cGVyaW1lbnRzOiEwLGRpc2FibGVfc3VydmV5czohMSxkaXNhYmxlX2V4dGVybmFsX2RlcGVuZGVuY3lfbG9hZGluZzohMSxlbmFibGVfcmVjb3JkaW5nX2NvbnNvbGVfbG9nOnZvaWQgMCxzZWN1cmVfY29va2llOlwiaHR0cHM6XCI9PT0obnVsbD09dHx8bnVsbD09PShlPXQubG9jYXRpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnByb3RvY29sKSxpcDohMCxvcHRfb3V0X2NhcHR1cmluZ19ieV9kZWZhdWx0OiExLG9wdF9vdXRfcGVyc2lzdGVuY2VfYnlfZGVmYXVsdDohMSxvcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXI6ITEsb3B0X291dF9jYXB0dXJpbmdfcGVyc2lzdGVuY2VfdHlwZTpcImxvY2FsU3RvcmFnZVwiLG9wdF9vdXRfY2FwdHVyaW5nX2Nvb2tpZV9wcmVmaXg6bnVsbCxvcHRfaW5fc2l0ZV9hcHBzOiExLHByb3BlcnR5X2RlbnlsaXN0OltdLHJlc3BlY3RfZG50OiExLHNhbml0aXplX3Byb3BlcnRpZXM6bnVsbCxyZXF1ZXN0X2hlYWRlcnM6e30scmVxdWVzdF9iYXRjaGluZzohMCxwcm9wZXJ0aWVzX3N0cmluZ19tYXhfbGVuZ3RoOjY1NTM1LHNlc3Npb25fcmVjb3JkaW5nOnt9LG1hc2tfYWxsX2VsZW1lbnRfYXR0cmlidXRlczohMSxtYXNrX2FsbF90ZXh0OiExLG1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzOiExLGN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXM6W10sYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGU6ITEsYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzOiExLGFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc19vbl9maXJzdF9sb2FkOiExLGFkdmFuY2VkX2Rpc2FibGVfdG9vbGJhcl9tZXRyaWNzOiExLGZlYXR1cmVfZmxhZ19yZXF1ZXN0X3RpbWVvdXRfbXM6M2UzLG9uX3JlcXVlc3RfZXJyb3I6ZT0+e3ZhciB0PVwiQmFkIEhUVFAgc3RhdHVzOiBcIitlLnN0YXR1c0NvZGUrXCIgXCIrZS50ZXh0O2VlLmVycm9yKHQpfSxnZXRfZGV2aWNlX2lkOmU9PmUsY2FwdHVyZV9wZXJmb3JtYW5jZTp2b2lkIDAsbmFtZTpcInBvc3Rob2dcIixib290c3RyYXA6e30sZGlzYWJsZV9jb21wcmVzc2lvbjohMSxzZXNzaW9uX2lkbGVfdGltZW91dF9zZWNvbmRzOjE4MDAscGVyc29uX3Byb2ZpbGVzOlwiaWRlbnRpZmllZF9vbmx5XCIsYmVmb3JlX3NlbmQ6dm9pZCAwLHJlcXVlc3RfcXVldWVfY29uZmlnOntmbHVzaF9pbnRlcnZhbF9tczpmc30sX29uQ2FwdHVyZTptb319LFNvPWU9Pnt2YXIgdD17fTt6KGUucHJvY2Vzc19wZXJzb24pfHwodC5wZXJzb25fcHJvZmlsZXM9ZS5wcm9jZXNzX3BlcnNvbikseihlLnhocl9oZWFkZXJzKXx8KHQucmVxdWVzdF9oZWFkZXJzPWUueGhyX2hlYWRlcnMpLHooZS5jb29raWVfbmFtZSl8fCh0LnBlcnNpc3RlbmNlX25hbWU9ZS5jb29raWVfbmFtZSkseihlLmRpc2FibGVfY29va2llKXx8KHQuZGlzYWJsZV9wZXJzaXN0ZW5jZT1lLmRpc2FibGVfY29va2llKSx6KGUuc3RvcmVfZ29vZ2xlKXx8KHQuc2F2ZV9jYW1wYWlnbl9wYXJhbXM9ZS5zdG9yZV9nb29nbGUpLHooZS52ZXJib3NlKXx8KHQuZGVidWc9ZS52ZXJib3NlKTt2YXIgaT13KHt9LHQsZSk7cmV0dXJuIEIoZS5wcm9wZXJ0eV9ibGFja2xpc3QpJiYoeihlLnByb3BlcnR5X2RlbnlsaXN0KT9pLnByb3BlcnR5X2RlbnlsaXN0PWUucHJvcGVydHlfYmxhY2tsaXN0OkIoZS5wcm9wZXJ0eV9kZW55bGlzdCk/aS5wcm9wZXJ0eV9kZW55bGlzdD1bLi4uZS5wcm9wZXJ0eV9ibGFja2xpc3QsLi4uZS5wcm9wZXJ0eV9kZW55bGlzdF06ZWUuZXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwcm9wZXJ0eV9kZW55bGlzdCBjb25maWc6IFwiK2UucHJvcGVydHlfZGVueWxpc3QpKSxpfTtjbGFzcyBrb3tjb25zdHJ1Y3Rvcigpe29lKHRoaXMsXCJfX2ZvcmNlQWxsb3dMb2NhbGhvc3RcIiwhMSl9Z2V0IF9mb3JjZUFsbG93TG9jYWxob3N0KCl7cmV0dXJuIHRoaXMuX19mb3JjZUFsbG93TG9jYWxob3N0fXNldCBfZm9yY2VBbGxvd0xvY2FsaG9zdChlKXtlZS5lcnJvcihcIldlYlBlcmZvcm1hbmNlT2JzZXJ2ZXIgaXMgZGVwcmVjYXRlZCBhbmQgaGFzIG5vIGltcGFjdCBvbiBuZXR3b3JrIGNhcHR1cmUuIFVzZSBgX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZWAgb24gYHBvc3Rob2cuc2Vzc2lvblJlY29yZGluZ2BcIiksdGhpcy5fX2ZvcmNlQWxsb3dMb2NhbGhvc3Q9ZX19Y2xhc3MgRW97Z2V0IGRlY2lkZUVuZHBvaW50V2FzSGl0KCl7dmFyIGUsdDtyZXR1cm4gbnVsbCE9PShlPW51bGw9PT0odD10aGlzLmZlYXR1cmVGbGFncyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaGFzTG9hZGVkRmxhZ3MpJiZ2b2lkIDAhPT1lJiZlfWNvbnN0cnVjdG9yKCl7b2UodGhpcyxcIndlYlBlcmZvcm1hbmNlXCIsbmV3IGtvKSxvZSh0aGlzLFwidmVyc2lvblwiLHAuTElCX1ZFUlNJT04pLG9lKHRoaXMsXCJfaW50ZXJuYWxFdmVudEVtaXR0ZXJcIixuZXcgRW4pLHRoaXMuY29uZmlnPXdvKCksdGhpcy5TZW50cnlJbnRlZ3JhdGlvbj1Bcyx0aGlzLnNlbnRyeUludGVncmF0aW9uPWU9PmZ1bmN0aW9uKGUsdCl7dmFyIGk9TXMoZSx0KTtyZXR1cm57bmFtZTpPcyxwcm9jZXNzRXZlbnQ6ZT0+aShlKX19KHRoaXMsZSksdGhpcy5fX3JlcXVlc3RfcXVldWU9W10sdGhpcy5fX2xvYWRlZD0hMSx0aGlzLmFuYWx5dGljc0RlZmF1bHRFbmRwb2ludD1cIi9lL1wiLHRoaXMuX2luaXRpYWxQYWdldmlld0NhcHR1cmVkPSExLHRoaXMuX2luaXRpYWxQZXJzb25Qcm9maWxlc0NvbmZpZz1udWxsLHRoaXMuX2NhY2hlZElkZW50aWZ5PW51bGwsdGhpcy5mZWF0dXJlRmxhZ3M9bmV3IFhlKHRoaXMpLHRoaXMudG9vbGJhcj1uZXcgZ3ModGhpcyksdGhpcy5zY3JvbGxNYW5hZ2VyPW5ldyBHbih0aGlzKSx0aGlzLnBhZ2VWaWV3TWFuYWdlcj1uZXcgTnModGhpcyksdGhpcy5zdXJ2ZXlzPW5ldyBSbih0aGlzKSx0aGlzLmV4cGVyaW1lbnRzPW5ldyBjbyh0aGlzKSx0aGlzLmV4Y2VwdGlvbnM9bmV3IGhvKHRoaXMpLHRoaXMucmF0ZUxpbWl0ZXI9bmV3IE9uKHRoaXMpLHRoaXMucmVxdWVzdFJvdXRlcj1uZXcgJHModGhpcyksdGhpcy5jb25zZW50PW5ldyBybyh0aGlzKSx0aGlzLnBlb3BsZT17c2V0OihlLHQsaSk9Pnt2YXIgcj1XKGUpP3tbZV06dH06ZTt0aGlzLnNldFBlcnNvblByb3BlcnRpZXMociksbnVsbD09aXx8aSh7fSl9LHNldF9vbmNlOihlLHQsaSk9Pnt2YXIgcj1XKGUpP3tbZV06dH06ZTt0aGlzLnNldFBlcnNvblByb3BlcnRpZXModm9pZCAwLHIpLG51bGw9PWl8fGkoe30pfX0sdGhpcy5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+ZWUuaW5mbygnc2VuZCBcIicuY29uY2F0KG51bGw9PWU/dm9pZCAwOmUuZXZlbnQsJ1wiJyksZSkpKX1pbml0KGUsdCxpKXtpZihpJiZpIT09Ym8pe3ZhciByLHM9bnVsbCE9PShyPWZvW2ldKSYmdm9pZCAwIT09cj9yOm5ldyBFbztyZXR1cm4gcy5faW5pdChlLHQsaSksZm9baV09cyxmb1tib11baV09cyxzfXJldHVybiB0aGlzLl9pbml0KGUsdCxpKX1faW5pdChpKXt2YXIgcixzLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG89YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7aWYoeihpKXx8VihpKSlyZXR1cm4gZWUuY3JpdGljYWwoXCJQb3N0SG9nIHdhcyBpbml0aWFsaXplZCB3aXRob3V0IGEgdG9rZW4uIFRoaXMgbGlrZWx5IGluZGljYXRlcyBhIG1pc2NvbmZpZ3VyYXRpb24uIFBsZWFzZSBjaGVjayB0aGUgZmlyc3QgYXJndW1lbnQgcGFzc2VkIHRvIHBvc3Rob2cuaW5pdCgpXCIpLHRoaXM7aWYodGhpcy5fX2xvYWRlZClyZXR1cm4gZWUud2FybihcIllvdSBoYXZlIGFscmVhZHkgaW5pdGlhbGl6ZWQgUG9zdEhvZyEgUmUtaW5pdGlhbGl6aW5nIGlzIGEgbm8tb3BcIiksdGhpczt0aGlzLl9fbG9hZGVkPSEwLHRoaXMuY29uZmlnPXt9LHRoaXMuX3RyaWdnZXJlZF9ub3RpZnM9W10sbi5wZXJzb25fcHJvZmlsZXMmJih0aGlzLl9pbml0aWFsUGVyc29uUHJvZmlsZXNDb25maWc9bi5wZXJzb25fcHJvZmlsZXMpLHRoaXMuc2V0X2NvbmZpZyh3KHt9LHdvKCksU28obikse25hbWU6byx0b2tlbjppfSkpLHRoaXMuY29uZmlnLm9uX3hocl9lcnJvciYmZWUuZXJyb3IoXCJvbl94aHJfZXJyb3IgaXMgZGVwcmVjYXRlZC4gVXNlIG9uX3JlcXVlc3RfZXJyb3IgaW5zdGVhZFwiKSx0aGlzLmNvbXByZXNzaW9uPW4uZGlzYWJsZV9jb21wcmVzc2lvbj92b2lkIDA6ZS5HWmlwSlMsdGhpcy5wZXJzaXN0ZW5jZT1uZXcgSWkodGhpcy5jb25maWcpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlPVwic2Vzc2lvblN0b3JhZ2VcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlfHxcIm1lbW9yeVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2U/dGhpcy5wZXJzaXN0ZW5jZTpuZXcgSWkobmUobmUoe30sdGhpcy5jb25maWcpLHt9LHtwZXJzaXN0ZW5jZTpcInNlc3Npb25TdG9yYWdlXCJ9KSk7dmFyIGE9bmUoe30sdGhpcy5wZXJzaXN0ZW5jZS5wcm9wcyksbD1uZSh7fSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS5wcm9wcyk7aWYodGhpcy5fcmVxdWVzdFF1ZXVlPW5ldyBtcygoZT0+dGhpcy5fc2VuZF9yZXRyaWFibGVfcmVxdWVzdChlKSksdGhpcy5jb25maWcucmVxdWVzdF9xdWV1ZV9jb25maWcpLHRoaXMuX3JldHJ5UXVldWU9bmV3IENzKHRoaXMpLHRoaXMuX19yZXF1ZXN0X3F1ZXVlPVtdLHRoaXMuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlfHwodGhpcy5zZXNzaW9uTWFuYWdlcj1uZXcgVHModGhpcyksdGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyPW5ldyBBbih0aGlzLHRoaXMuc2Vzc2lvbk1hbmFnZXIsdGhpcy5wZXJzaXN0ZW5jZSkpLG5ldyB0byh0aGlzKS5zdGFydElmRW5hYmxlZE9yU3RvcCgpLHRoaXMuc2l0ZUFwcHM9bmV3IHZvKHRoaXMpLG51bGw9PT0ocj10aGlzLnNpdGVBcHBzKXx8dm9pZCAwPT09cnx8ci5pbml0KCksdGhpcy5jb25maWcuX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGV8fCh0aGlzLnNlc3Npb25SZWNvcmRpbmc9bmV3IHVzKHRoaXMpLHRoaXMuc2Vzc2lvblJlY29yZGluZy5zdGFydElmRW5hYmxlZE9yU3RvcCgpKSx0aGlzLmNvbmZpZy5kaXNhYmxlX3Njcm9sbF9wcm9wZXJ0aWVzfHx0aGlzLnNjcm9sbE1hbmFnZXIuc3RhcnRNZWFzdXJpbmdTY3JvbGxQb3NpdGlvbigpLHRoaXMuYXV0b2NhcHR1cmU9bmV3IFpuKHRoaXMpLHRoaXMuYXV0b2NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLnN1cnZleXMubG9hZElmRW5hYmxlZCgpLHRoaXMuaGVhdG1hcHM9bmV3IFZuKHRoaXMpLHRoaXMuaGVhdG1hcHMuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLndlYlZpdGFsc0F1dG9jYXB0dXJlPW5ldyBsbyh0aGlzKSx0aGlzLmV4Y2VwdGlvbk9ic2VydmVyPW5ldyBubyh0aGlzKSx0aGlzLmV4Y2VwdGlvbk9ic2VydmVyLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5kZWFkQ2xpY2tzQXV0b2NhcHR1cmU9bmV3IGpuKHRoaXMsVW4pLHRoaXMuZGVhZENsaWNrc0F1dG9jYXB0dXJlLnN0YXJ0SWZFbmFibGVkKCkscC5ERUJVRz1wLkRFQlVHfHx0aGlzLmNvbmZpZy5kZWJ1ZyxwLkRFQlVHJiZlZS5pbmZvKFwiU3RhcnRpbmcgaW4gZGVidWcgbW9kZVwiLHt0aGlzOnRoaXMsY29uZmlnOm4sdGhpc0M6bmUoe30sdGhpcy5jb25maWcpLHA6YSxzOmx9KSx0aGlzLl9zeW5jX29wdF9vdXRfd2l0aF9wZXJzaXN0ZW5jZSgpLHZvaWQgMCE9PShudWxsPT09KHM9bi5ib290c3RyYXApfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmRpc3RpbmN0SUQpKXt2YXIgdSxjLGQ9dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZChzdCgpKSxoPW51bGwhPT0odT1uLmJvb3RzdHJhcCkmJnZvaWQgMCE9PXUmJnUuaXNJZGVudGlmaWVkSUQ/ZDpuLmJvb3RzdHJhcC5kaXN0aW5jdElEO3RoaXMucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KEFlLG51bGwhPT0oYz1uLmJvb3RzdHJhcCkmJnZvaWQgMCE9PWMmJmMuaXNJZGVudGlmaWVkSUQ/XCJpZGVudGlmaWVkXCI6XCJhbm9ueW1vdXNcIiksdGhpcy5yZWdpc3Rlcih7ZGlzdGluY3RfaWQ6bi5ib290c3RyYXAuZGlzdGluY3RJRCwkZGV2aWNlX2lkOmh9KX1pZih0aGlzLl9oYXNCb290c3RyYXBwZWRGZWF0dXJlRmxhZ3MoKSl7dmFyIF8sdixnPU9iamVjdC5rZXlzKChudWxsPT09KF89bi5ib290c3RyYXApfHx2b2lkIDA9PT1fP3ZvaWQgMDpfLmZlYXR1cmVGbGFncyl8fHt9KS5maWx0ZXIoKGU9Pnt2YXIgdCxpO3JldHVybiEobnVsbD09PSh0PW4uYm9vdHN0cmFwKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQuZmVhdHVyZUZsYWdzKXx8dm9pZCAwPT09aXx8IWlbZV0pfSkpLnJlZHVjZSgoKGUsdCk9Pnt2YXIgaSxyO3JldHVybiBlW3RdPShudWxsPT09KGk9bi5ib290c3RyYXApfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5mZWF0dXJlRmxhZ3MpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyW3RdKXx8ITEsZX0pLHt9KSxmPU9iamVjdC5rZXlzKChudWxsPT09KHY9bi5ib290c3RyYXApfHx2b2lkIDA9PT12P3ZvaWQgMDp2LmZlYXR1cmVGbGFnUGF5bG9hZHMpfHx7fSkuZmlsdGVyKChlPT5nW2VdKSkucmVkdWNlKCgoZSx0KT0+e3ZhciBpLHIscyxvO251bGwhPT0oaT1uLmJvb3RzdHJhcCkmJnZvaWQgMCE9PWkmJm51bGwhPT0ocj1pLmZlYXR1cmVGbGFnUGF5bG9hZHMpJiZ2b2lkIDAhPT1yJiZyW3RdJiYoZVt0XT1udWxsPT09KHM9bi5ib290c3RyYXApfHx2b2lkIDA9PT1zfHxudWxsPT09KG89cy5mZWF0dXJlRmxhZ1BheWxvYWRzKXx8dm9pZCAwPT09bz92b2lkIDA6b1t0XSk7cmV0dXJuIGV9KSx7fSk7dGhpcy5mZWF0dXJlRmxhZ3MucmVjZWl2ZWRGZWF0dXJlRmxhZ3Moe2ZlYXR1cmVGbGFnczpnLGZlYXR1cmVGbGFnUGF5bG9hZHM6Zn0pfWlmKHRoaXMuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlKXRoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6amUsJGRldmljZV9pZDpudWxsfSxcIlwiKTtlbHNlIGlmKCF0aGlzLmdldF9kaXN0aW5jdF9pZCgpKXt2YXIgbT10aGlzLmNvbmZpZy5nZXRfZGV2aWNlX2lkKHN0KCkpO3RoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6bSwkZGV2aWNlX2lkOm19LFwiXCIpLHRoaXMucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KEFlLFwiYW5vbnltb3VzXCIpfXJldHVybiBSKHQsXCJvbnBhZ2VoaWRlXCJpbiBzZWxmP1wicGFnZWhpZGVcIjpcInVubG9hZFwiLHRoaXMuX2hhbmRsZV91bmxvYWQuYmluZCh0aGlzKSx7cGFzc2l2ZTohMX0pLHRoaXMudG9vbGJhci5tYXliZUxvYWRUb29sYmFyKCksbi5zZWdtZW50P0RzKHRoaXMsKCgpPT50aGlzLl9sb2FkZWQoKSkpOnRoaXMuX2xvYWRlZCgpLEgodGhpcy5jb25maWcuX29uQ2FwdHVyZSkmJnRoaXMuY29uZmlnLl9vbkNhcHR1cmUhPT1tbyYmKGVlLndhcm4oXCJvbkNhcHR1cmUgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBgYmVmb3JlX3NlbmRgIGluc3RlYWRcIiksdGhpcy5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+dGhpcy5jb25maWcuX29uQ2FwdHVyZShlLmV2ZW50LGUpKSkpLHRoaXN9X29uUmVtb3RlQ29uZmlnKHQpe3ZhciBpLHIscyxuLG8sbCx1LGM7aWYoIWF8fCFhLmJvZHkpcmV0dXJuIGVlLmluZm8oXCJkb2N1bWVudCBub3QgcmVhZHkgeWV0LCB0cnlpbmcgYWdhaW4gaW4gNTAwIG1pbGxpc2Vjb25kcy4uLlwiKSx2b2lkIHNldFRpbWVvdXQoKCgpPT57dGhpcy5fb25SZW1vdGVDb25maWcodCl9KSw1MDApO3RoaXMuY29tcHJlc3Npb249dm9pZCAwLHQuc3VwcG9ydGVkQ29tcHJlc3Npb24mJiF0aGlzLmNvbmZpZy5kaXNhYmxlX2NvbXByZXNzaW9uJiYodGhpcy5jb21wcmVzc2lvbj0kKHQuc3VwcG9ydGVkQ29tcHJlc3Npb24sZS5HWmlwSlMpP2UuR1ppcEpTOiQodC5zdXBwb3J0ZWRDb21wcmVzc2lvbixlLkJhc2U2NCk/ZS5CYXNlNjQ6dm9pZCAwKSxudWxsIT09KGk9dC5hbmFseXRpY3MpJiZ2b2lkIDAhPT1pJiZpLmVuZHBvaW50JiYodGhpcy5hbmFseXRpY3NEZWZhdWx0RW5kcG9pbnQ9dC5hbmFseXRpY3MuZW5kcG9pbnQpLHRoaXMuc2V0X2NvbmZpZyh7cGVyc29uX3Byb2ZpbGVzOnRoaXMuX2luaXRpYWxQZXJzb25Qcm9maWxlc0NvbmZpZz90aGlzLl9pbml0aWFsUGVyc29uUHJvZmlsZXNDb25maWc6XCJpZGVudGlmaWVkX29ubHlcIn0pLG51bGw9PT0ocj10aGlzLnNpdGVBcHBzKXx8dm9pZCAwPT09cnx8ci5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT09KHM9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09c3x8cy5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT09KG49dGhpcy5hdXRvY2FwdHVyZSl8fHZvaWQgMD09PW58fG4ub25SZW1vdGVDb25maWcodCksbnVsbD09PShvPXRoaXMuaGVhdG1hcHMpfHx2b2lkIDA9PT1vfHxvLm9uUmVtb3RlQ29uZmlnKHQpLHRoaXMuc3VydmV5cy5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT09KGw9dGhpcy53ZWJWaXRhbHNBdXRvY2FwdHVyZSl8fHZvaWQgMD09PWx8fGwub25SZW1vdGVDb25maWcodCksbnVsbD09PSh1PXRoaXMuZXhjZXB0aW9uT2JzZXJ2ZXIpfHx2b2lkIDA9PT11fHx1Lm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PT0oYz10aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZSl8fHZvaWQgMD09PWN8fGMub25SZW1vdGVDb25maWcodCl9X2xvYWRlZCgpe3RyeXt0aGlzLmNvbmZpZy5sb2FkZWQodGhpcyl9Y2F0Y2goZSl7ZWUuY3JpdGljYWwoXCJgbG9hZGVkYCBmdW5jdGlvbiBmYWlsZWRcIixlKX10aGlzLl9zdGFydF9xdWV1ZV9pZl9vcHRlZF9pbigpLHRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcmJnNldFRpbWVvdXQoKCgpPT57dGhpcy5jb25zZW50LmlzT3B0ZWRJbigpJiZ0aGlzLl9jYXB0dXJlSW5pdGlhbFBhZ2V2aWV3KCl9KSwxKSxuZXcgZHModGhpcykubG9hZCgpLHRoaXMuZmVhdHVyZUZsYWdzLmRlY2lkZSgpfV9zdGFydF9xdWV1ZV9pZl9vcHRlZF9pbigpe3ZhciBlO3RoaXMuaGFzX29wdGVkX291dF9jYXB0dXJpbmcoKXx8dGhpcy5jb25maWcucmVxdWVzdF9iYXRjaGluZyYmKG51bGw9PT0oZT10aGlzLl9yZXF1ZXN0UXVldWUpfHx2b2lkIDA9PT1lfHxlLmVuYWJsZSgpKX1fZG9tX2xvYWRlZCgpe3RoaXMuaGFzX29wdGVkX291dF9jYXB0dXJpbmcoKXx8Yih0aGlzLl9fcmVxdWVzdF9xdWV1ZSwoZT0+dGhpcy5fc2VuZF9yZXRyaWFibGVfcmVxdWVzdChlKSkpLHRoaXMuX19yZXF1ZXN0X3F1ZXVlPVtdLHRoaXMuX3N0YXJ0X3F1ZXVlX2lmX29wdGVkX2luKCl9X2hhbmRsZV91bmxvYWQoKXt2YXIgZSx0O3RoaXMuY29uZmlnLnJlcXVlc3RfYmF0Y2hpbmc/KHRoaXMuX3Nob3VsZENhcHR1cmVQYWdlbGVhdmUoKSYmdGhpcy5jYXB0dXJlKFwiJHBhZ2VsZWF2ZVwiKSxudWxsPT09KGU9dGhpcy5fcmVxdWVzdFF1ZXVlKXx8dm9pZCAwPT09ZXx8ZS51bmxvYWQoKSxudWxsPT09KHQ9dGhpcy5fcmV0cnlRdWV1ZSl8fHZvaWQgMD09PXR8fHQudW5sb2FkKCkpOnRoaXMuX3Nob3VsZENhcHR1cmVQYWdlbGVhdmUoKSYmdGhpcy5jYXB0dXJlKFwiJHBhZ2VsZWF2ZVwiLG51bGwse3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pfV9zZW5kX3JlcXVlc3QoZSl7dGhpcy5fX2xvYWRlZCYmKHlvP3RoaXMuX19yZXF1ZXN0X3F1ZXVlLnB1c2goZSk6dGhpcy5yYXRlTGltaXRlci5pc1NlcnZlclJhdGVMaW1pdGVkKGUuYmF0Y2hLZXkpfHwoZS50cmFuc3BvcnQ9ZS50cmFuc3BvcnR8fHRoaXMuY29uZmlnLmFwaV90cmFuc3BvcnQsZS51cmw9U3MoZS51cmwse2lwOnRoaXMuY29uZmlnLmlwPzE6MH0pLGUuaGVhZGVycz1uZSh7fSx0aGlzLmNvbmZpZy5yZXF1ZXN0X2hlYWRlcnMpLGUuY29tcHJlc3Npb249XCJiZXN0LWF2YWlsYWJsZVwiPT09ZS5jb21wcmVzc2lvbj90aGlzLmNvbXByZXNzaW9uOmUuY29tcHJlc3Npb24sZS5mZXRjaE9wdGlvbnM9ZS5mZXRjaE9wdGlvbnN8fHRoaXMuY29uZmlnLmZldGNoX29wdGlvbnMsKGU9Pnt2YXIgdCxpLHIscz1uZSh7fSxlKTtzLnRpbWVvdXQ9cy50aW1lb3V0fHw2ZTQscy51cmw9U3Mocy51cmwse186KG5ldyBEYXRlKS5nZXRUaW1lKCkudG9TdHJpbmcoKSx2ZXI6cC5MSUJfVkVSU0lPTixjb21wcmVzc2lvbjpzLmNvbXByZXNzaW9ufSk7dmFyIG49bnVsbCE9PSh0PXMudHJhbnNwb3J0KSYmdm9pZCAwIT09dD90OlwiZmV0Y2hcIixvPW51bGwhPT0oaT1udWxsPT09KHI9VCh4cywoZT0+ZS50cmFuc3BvcnQ9PT1uKSkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm1ldGhvZCkmJnZvaWQgMCE9PWk/aTp4c1swXS5tZXRob2Q7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiTm8gYXZhaWxhYmxlIHRyYW5zcG9ydCBtZXRob2RcIik7byhzKX0pKG5lKG5lKHt9LGUpLHt9LHtjYWxsYmFjazp0PT57dmFyIGkscixzOyh0aGlzLnJhdGVMaW1pdGVyLmNoZWNrRm9yTGltaXRpbmcodCksdC5zdGF0dXNDb2RlPj00MDApJiYobnVsbD09PShyPShzPXRoaXMuY29uZmlnKS5vbl9yZXF1ZXN0X2Vycm9yKXx8dm9pZCAwPT09cnx8ci5jYWxsKHMsdCkpO251bGw9PT0oaT1lLmNhbGxiYWNrKXx8dm9pZCAwPT09aXx8aS5jYWxsKGUsdCl9fSkpKSl9X3NlbmRfcmV0cmlhYmxlX3JlcXVlc3QoZSl7dGhpcy5fcmV0cnlRdWV1ZT90aGlzLl9yZXRyeVF1ZXVlLnJldHJpYWJsZVJlcXVlc3QoZSk6dGhpcy5fc2VuZF9yZXF1ZXN0KGUpfV9leGVjdXRlX2FycmF5KGUpe3ZhciB0LGk9W10scj1bXSxzPVtdO2IoZSwoZT0+e2UmJih0PWVbMF0sQih0KT9zLnB1c2goZSk6SChlKT9lLmNhbGwodGhpcyk6QihlKSYmXCJhbGlhc1wiPT09dD9pLnB1c2goZSk6QihlKSYmLTEhPT10LmluZGV4T2YoXCJjYXB0dXJlXCIpJiZIKHRoaXNbdF0pP3MucHVzaChlKTpyLnB1c2goZSkpfSkpO3ZhciBuPWZ1bmN0aW9uKGUsdCl7YihlLChmdW5jdGlvbihlKXtpZihCKGVbMF0pKXt2YXIgaT10O3koZSwoZnVuY3Rpb24oZSl7aT1pW2VbMF1dLmFwcGx5KGksZS5zbGljZSgxKSl9KSl9ZWxzZSB0aGlzW2VbMF1dLmFwcGx5KHRoaXMsZS5zbGljZSgxKSl9KSx0KX07bihpLHRoaXMpLG4ocix0aGlzKSxuKHMsdGhpcyl9X2hhc0Jvb3RzdHJhcHBlZEZlYXR1cmVGbGFncygpe3ZhciBlLHQ7cmV0dXJuKG51bGw9PT0oZT10aGlzLmNvbmZpZy5ib290c3RyYXApfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmZlYXR1cmVGbGFncykmJk9iamVjdC5rZXlzKG51bGw9PT0odD10aGlzLmNvbmZpZy5ib290c3RyYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmZlYXR1cmVGbGFncykubGVuZ3RoPjB8fCExfXB1c2goZSl7dGhpcy5fZXhlY3V0ZV9hcnJheShbZV0pfWNhcHR1cmUoZSx0LGkpe3ZhciByO2lmKHRoaXMuX19sb2FkZWQmJnRoaXMucGVyc2lzdGVuY2UmJnRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlJiZ0aGlzLl9yZXF1ZXN0UXVldWUpe2lmKCF0aGlzLmNvbnNlbnQuaXNPcHRlZE91dCgpKWlmKCF6KGUpJiZXKGUpKXtpZih0aGlzLmNvbmZpZy5vcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXJ8fCF0aGlzLl9pc19ib3QoKSl7dmFyIHM9bnVsbCE9aSYmaS5za2lwX2NsaWVudF9yYXRlX2xpbWl0aW5nP3ZvaWQgMDp0aGlzLnJhdGVMaW1pdGVyLmNsaWVudFJhdGVMaW1pdENvbnRleHQoKTtpZihudWxsPT1zfHwhcy5pc1JhdGVMaW1pdGVkKXt0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS51cGRhdGVfc2VhcmNoX2tleXdvcmQoKSx0aGlzLmNvbmZpZy5zYXZlX2NhbXBhaWduX3BhcmFtcyYmdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UudXBkYXRlX2NhbXBhaWduX3BhcmFtcygpLHRoaXMuY29uZmlnLnNhdmVfcmVmZXJyZXImJnRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnVwZGF0ZV9yZWZlcnJlcl9pbmZvKCksKHRoaXMuY29uZmlnLnNhdmVfY2FtcGFpZ25fcGFyYW1zfHx0aGlzLmNvbmZpZy5zYXZlX3JlZmVycmVyKSYmdGhpcy5wZXJzaXN0ZW5jZS5zZXRfaW5pdGlhbF9wZXJzb25faW5mbygpO3ZhciBuPW5ldyBEYXRlLG89KG51bGw9PWk/dm9pZCAwOmkudGltZXN0YW1wKXx8bixhPXN0KCksbD17dXVpZDphLGV2ZW50OmUscHJvcGVydGllczp0aGlzLl9jYWxjdWxhdGVfZXZlbnRfcHJvcGVydGllcyhlLHR8fHt9LG8sYSl9O3MmJihsLnByb3BlcnRpZXMuJGxpYl9yYXRlX2xpbWl0X3JlbWFpbmluZ190b2tlbnM9cy5yZW1haW5pbmdUb2tlbnMpLChudWxsPT1pP3ZvaWQgMDppLiRzZXQpJiYobC4kc2V0PW51bGw9PWk/dm9pZCAwOmkuJHNldCk7dmFyIHU9dGhpcy5fY2FsY3VsYXRlX3NldF9vbmNlX3Byb3BlcnRpZXMobnVsbD09aT92b2lkIDA6aS4kc2V0X29uY2UpO3UmJihsLiRzZXRfb25jZT11KSwobD1DKGwsbnVsbCE9aSYmaS5fbm9UcnVuY2F0ZT9udWxsOnRoaXMuY29uZmlnLnByb3BlcnRpZXNfc3RyaW5nX21heF9sZW5ndGgpKS50aW1lc3RhbXA9byx6KG51bGw9PWk/dm9pZCAwOmkudGltZXN0YW1wKXx8KGwucHJvcGVydGllcy4kZXZlbnRfdGltZV9vdmVycmlkZV9wcm92aWRlZD0hMCxsLnByb3BlcnRpZXMuJGV2ZW50X3RpbWVfb3ZlcnJpZGVfc3lzdGVtX3RpbWU9bik7dmFyIGM9bmUobmUoe30sbC5wcm9wZXJ0aWVzLiRzZXQpLGwuJHNldCk7aWYoaihjKXx8dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoYyksIUoodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpKXt2YXIgZD10aGlzLl9ydW5CZWZvcmVTZW5kKGwpO2lmKCFkKXJldHVybjtsPWR9dGhpcy5faW50ZXJuYWxFdmVudEVtaXR0ZXIuZW1pdChcImV2ZW50Q2FwdHVyZWRcIixsKTt2YXIgaD17bWV0aG9kOlwiUE9TVFwiLHVybDpudWxsIT09KHI9bnVsbD09aT92b2lkIDA6aS5fdXJsKSYmdm9pZCAwIT09cj9yOnRoaXMucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLHRoaXMuYW5hbHl0aWNzRGVmYXVsdEVuZHBvaW50KSxkYXRhOmwsY29tcHJlc3Npb246XCJiZXN0LWF2YWlsYWJsZVwiLGJhdGNoS2V5Om51bGw9PWk/dm9pZCAwOmkuX2JhdGNoS2V5fTtyZXR1cm4hdGhpcy5jb25maWcucmVxdWVzdF9iYXRjaGluZ3x8aSYmKG51bGw9PWl8fCFpLl9iYXRjaEtleSl8fG51bGwhPWkmJmkuc2VuZF9pbnN0YW50bHk/dGhpcy5fc2VuZF9yZXRyaWFibGVfcmVxdWVzdChoKTp0aGlzLl9yZXF1ZXN0UXVldWUuZW5xdWV1ZShoKSxsfWVlLmNyaXRpY2FsKFwiVGhpcyBjYXB0dXJlIGNhbGwgaXMgaWdub3JlZCBkdWUgdG8gY2xpZW50IHJhdGUgbGltaXRpbmcuXCIpfX1lbHNlIGVlLmVycm9yKFwiTm8gZXZlbnQgbmFtZSBwcm92aWRlZCB0byBwb3N0aG9nLmNhcHR1cmVcIil9ZWxzZSBlZS51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cuY2FwdHVyZVwiKX1fYWRkQ2FwdHVyZUhvb2soZSl7cmV0dXJuIHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKHQ9PmUodC5ldmVudCx0KSkpfV9jYWxjdWxhdGVfZXZlbnRfcHJvcGVydGllcyhlLHQsaSxyKXtpZihpPWl8fG5ldyBEYXRlLCF0aGlzLnBlcnNpc3RlbmNlfHwhdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpcmV0dXJuIHQ7dmFyIHM9dGhpcy5wZXJzaXN0ZW5jZS5yZW1vdmVfZXZlbnRfdGltZXIoZSksbj1uZSh7fSx0KTtpZihuLnRva2VuPXRoaXMuY29uZmlnLnRva2VuLHRoaXMuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlJiYobi4kY29va2llbGVzc19tb2RlPSEwKSxcIiRzbmFwc2hvdFwiPT09ZSl7dmFyIG89bmUobmUoe30sdGhpcy5wZXJzaXN0ZW5jZS5wcm9wZXJ0aWVzKCkpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSk7cmV0dXJuIG4uZGlzdGluY3RfaWQ9by5kaXN0aW5jdF9pZCwoIVcobi5kaXN0aW5jdF9pZCkmJiFZKG4uZGlzdGluY3RfaWQpfHxWKG4uZGlzdGluY3RfaWQpKSYmZWUuZXJyb3IoXCJJbnZhbGlkIGRpc3RpbmN0X2lkIGZvciByZXBsYXkgZXZlbnQuIFRoaXMgaW5kaWNhdGVzIGEgYnVnIGluIHlvdXIgaW1wbGVtZW50YXRpb25cIiksbn12YXIgbCx1PUVpLnByb3BlcnRpZXMoe21hc2tQZXJzb25hbERhdGFQcm9wZXJ0aWVzOnRoaXMuY29uZmlnLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLGN1c3RvbVBlcnNvbmFsRGF0YVByb3BlcnRpZXM6dGhpcy5jb25maWcuY3VzdG9tX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllc30pO2lmKHRoaXMuc2Vzc2lvbk1hbmFnZXIpe3ZhcntzZXNzaW9uSWQ6Yyx3aW5kb3dJZDpkfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCk7bi4kc2Vzc2lvbl9pZD1jLG4uJHdpbmRvd19pZD1kfWlmKHRoaXMuc2Vzc2lvblJlY29yZGluZyYmKG4uJHJlY29yZGluZ19zdGF0dXM9dGhpcy5zZXNzaW9uUmVjb3JkaW5nLnN0YXR1cyksdGhpcy5yZXF1ZXN0Um91dGVyLnJlZ2lvbj09PVBzLkNVU1RPTSYmKG4uJGxpYl9jdXN0b21fYXBpX2hvc3Q9dGhpcy5jb25maWcuYXBpX2hvc3QpLGw9XCIkcGFnZXZpZXdcIj09PWU/dGhpcy5wYWdlVmlld01hbmFnZXIuZG9QYWdlVmlldyhpLHIpOlwiJHBhZ2VsZWF2ZVwiPT09ZT90aGlzLnBhZ2VWaWV3TWFuYWdlci5kb1BhZ2VMZWF2ZShpKTp0aGlzLnBhZ2VWaWV3TWFuYWdlci5kb0V2ZW50KCksbj13KG4sbCksXCIkcGFnZXZpZXdcIj09PWUmJmEmJihuLnRpdGxlPWEudGl0bGUpLCF6KHMpKXt2YXIgXz1pLmdldFRpbWUoKS1zO24uJGR1cmF0aW9uPXBhcnNlRmxvYXQoKF8vMWUzKS50b0ZpeGVkKDMpKX1oJiZ0aGlzLmNvbmZpZy5vcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXImJihuLiRicm93c2VyX3R5cGU9dGhpcy5faXNfYm90KCk/XCJib3RcIjpcImJyb3dzZXJcIiksKG49dyh7fSx1LHRoaXMucGVyc2lzdGVuY2UucHJvcGVydGllcygpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSxuKSkuJGlzX2lkZW50aWZpZWQ9dGhpcy5faXNJZGVudGlmaWVkKCksQih0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCk/eSh0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCwoZnVuY3Rpb24oZSl7ZGVsZXRlIG5bZV19KSk6ZWUuZXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwcm9wZXJ0eV9kZW55bGlzdCBjb25maWc6IFwiK3RoaXMuY29uZmlnLnByb3BlcnR5X2RlbnlsaXN0K1wiIG9yIHByb3BlcnR5X2JsYWNrbGlzdCBjb25maWc6IFwiK3RoaXMuY29uZmlnLnByb3BlcnR5X2JsYWNrbGlzdCk7dmFyIHA9dGhpcy5jb25maWcuc2FuaXRpemVfcHJvcGVydGllcztwJiYoZWUuZXJyb3IoXCJzYW5pdGl6ZV9wcm9wZXJ0aWVzIGlzIGRlcHJlY2F0ZWQuIFVzZSBiZWZvcmVfc2VuZCBpbnN0ZWFkXCIpLG49cChuLGUpKTt2YXIgdj10aGlzLl9oYXNQZXJzb25Qcm9jZXNzaW5nKCk7cmV0dXJuIG4uJHByb2Nlc3NfcGVyc29uX3Byb2ZpbGU9dix2JiZ0aGlzLl9yZXF1aXJlUGVyc29uUHJvY2Vzc2luZyhcIl9jYWxjdWxhdGVfZXZlbnRfcHJvcGVydGllc1wiKSxufV9jYWxjdWxhdGVfc2V0X29uY2VfcHJvcGVydGllcyhlKXtpZighdGhpcy5wZXJzaXN0ZW5jZXx8IXRoaXMuX2hhc1BlcnNvblByb2Nlc3NpbmcoKSlyZXR1cm4gZTt2YXIgdD13KHt9LHRoaXMucGVyc2lzdGVuY2UuZ2V0X2luaXRpYWxfcHJvcHMoKSxlfHx7fSksaT10aGlzLmNvbmZpZy5zYW5pdGl6ZV9wcm9wZXJ0aWVzO3JldHVybiBpJiYoZWUuZXJyb3IoXCJzYW5pdGl6ZV9wcm9wZXJ0aWVzIGlzIGRlcHJlY2F0ZWQuIFVzZSBiZWZvcmVfc2VuZCBpbnN0ZWFkXCIpLHQ9aSh0LFwiJHNldF9vbmNlXCIpKSxqKHQpP3ZvaWQgMDp0fXJlZ2lzdGVyKGUsdCl7dmFyIGk7bnVsbD09PShpPXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnJlZ2lzdGVyKGUsdCl9cmVnaXN0ZXJfb25jZShlLHQsaSl7dmFyIHI7bnVsbD09PShyPXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1yfHxyLnJlZ2lzdGVyX29uY2UoZSx0LGkpfXJlZ2lzdGVyX2Zvcl9zZXNzaW9uKGUpe3ZhciB0O251bGw9PT0odD10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXR8fHQucmVnaXN0ZXIoZSl9dW5yZWdpc3RlcihlKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXR8fHQudW5yZWdpc3RlcihlKX11bnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKGUpe3ZhciB0O251bGw9PT0odD10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXR8fHQudW5yZWdpc3RlcihlKX1fcmVnaXN0ZXJfc2luZ2xlKGUsdCl7dGhpcy5yZWdpc3Rlcih7W2VdOnR9KX1nZXRGZWF0dXJlRmxhZyhlLHQpe3JldHVybiB0aGlzLmZlYXR1cmVGbGFncy5nZXRGZWF0dXJlRmxhZyhlLHQpfWdldEZlYXR1cmVGbGFnUGF5bG9hZChlKXt2YXIgdD10aGlzLmZlYXR1cmVGbGFncy5nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZSk7dHJ5e3JldHVybiBKU09OLnBhcnNlKHQpfWNhdGNoKGUpe3JldHVybiB0fX1pc0ZlYXR1cmVFbmFibGVkKGUsdCl7cmV0dXJuIHRoaXMuZmVhdHVyZUZsYWdzLmlzRmVhdHVyZUVuYWJsZWQoZSx0KX1yZWxvYWRGZWF0dXJlRmxhZ3MoKXt0aGlzLmZlYXR1cmVGbGFncy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX11cGRhdGVFYXJseUFjY2Vzc0ZlYXR1cmVFbnJvbGxtZW50KGUsdCl7dGhpcy5mZWF0dXJlRmxhZ3MudXBkYXRlRWFybHlBY2Nlc3NGZWF0dXJlRW5yb2xsbWVudChlLHQpfWdldEVhcmx5QWNjZXNzRmVhdHVyZXMoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RWFybHlBY2Nlc3NGZWF0dXJlcyhlLHQpfW9uKGUsdCl7cmV0dXJuIHRoaXMuX2ludGVybmFsRXZlbnRFbWl0dGVyLm9uKGUsdCl9b25GZWF0dXJlRmxhZ3MoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZUZsYWdzLm9uRmVhdHVyZUZsYWdzKGUpfW9uU2Vzc2lvbklkKGUpe3ZhciB0LGk7cmV0dXJuIG51bGwhPT0odD1udWxsPT09KGk9dGhpcy5zZXNzaW9uTWFuYWdlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkub25TZXNzaW9uSWQoZSkpJiZ2b2lkIDAhPT10P3Q6KCk9Pnt9fWdldFN1cnZleXMoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTt0aGlzLnN1cnZleXMuZ2V0U3VydmV5cyhlLHQpfWdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3RoaXMuc3VydmV5cy5nZXRBY3RpdmVNYXRjaGluZ1N1cnZleXMoZSx0KX1yZW5kZXJTdXJ2ZXkoZSx0KXt0aGlzLnN1cnZleXMucmVuZGVyU3VydmV5KGUsdCl9Y2FuUmVuZGVyU3VydmV5KGUpe3RoaXMuc3VydmV5cy5jYW5SZW5kZXJTdXJ2ZXkoZSl9Z2V0TmV4dFN1cnZleVN0ZXAoZSx0LGkpe3JldHVybiB0aGlzLnN1cnZleXMuZ2V0TmV4dFN1cnZleVN0ZXAoZSx0LGkpfWlkZW50aWZ5KGUsdCxpKXtpZighdGhpcy5fX2xvYWRlZHx8IXRoaXMucGVyc2lzdGVuY2UpcmV0dXJuIGVlLnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5pZGVudGlmeVwiKTtpZihZKGUpJiYoZT1lLnRvU3RyaW5nKCksZWUud2FybihcIlRoZSBmaXJzdCBhcmd1bWVudCB0byBwb3N0aG9nLmlkZW50aWZ5IHdhcyBhIG51bWJlciwgYnV0IGl0IHNob3VsZCBiZSBhIHN0cmluZy4gSXQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgc3RyaW5nLlwiKSksZSl7aWYoW1wiZGlzdGluY3RfaWRcIixcImRpc3RpbmN0aWRcIl0uaW5jbHVkZXMoZS50b0xvd2VyQ2FzZSgpKSllZS5jcml0aWNhbCgnVGhlIHN0cmluZyBcIicuY29uY2F0KGUsJ1wiIHdhcyBzZXQgaW4gcG9zdGhvZy5pZGVudGlmeSB3aGljaCBpbmRpY2F0ZXMgYW4gZXJyb3IuIFRoaXMgSUQgc2hvdWxkIGJlIHVuaXF1ZSB0byB0aGUgdXNlciBhbmQgbm90IGEgaGFyZGNvZGVkIHN0cmluZy4nKSk7ZWxzZSBpZih0aGlzLl9yZXF1aXJlUGVyc29uUHJvY2Vzc2luZyhcInBvc3Rob2cuaWRlbnRpZnlcIikpe3ZhciByPXRoaXMuZ2V0X2Rpc3RpbmN0X2lkKCk7aWYodGhpcy5yZWdpc3Rlcih7JHVzZXJfaWQ6ZX0pLCF0aGlzLmdldF9wcm9wZXJ0eShcIiRkZXZpY2VfaWRcIikpe3ZhciBzPXI7dGhpcy5yZWdpc3Rlcl9vbmNlKHskaGFkX3BlcnNpc3RlZF9kaXN0aW5jdF9pZDohMCwkZGV2aWNlX2lkOnN9LFwiXCIpfWUhPT1yJiZlIT09dGhpcy5nZXRfcHJvcGVydHkodWUpJiYodGhpcy51bnJlZ2lzdGVyKHVlKSx0aGlzLnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDplfSkpO3ZhciBuPVwiYW5vbnltb3VzXCI9PT0odGhpcy5wZXJzaXN0ZW5jZS5nZXRfcHJvcGVydHkoQWUpfHxcImFub255bW91c1wiKTtlIT09ciYmbj8odGhpcy5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkoQWUsXCJpZGVudGlmaWVkXCIpLHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKG5lKG5lKHt9LGl8fHt9KSx0fHx7fSksITEpLHRoaXMuY2FwdHVyZShcIiRpZGVudGlmeVwiLHtkaXN0aW5jdF9pZDplLCRhbm9uX2Rpc3RpbmN0X2lkOnJ9LHskc2V0OnR8fHt9LCRzZXRfb25jZTppfHx7fX0pLHRoaXMuZmVhdHVyZUZsYWdzLnNldEFub255bW91c0Rpc3RpbmN0SWQociksdGhpcy5fY2FjaGVkSWRlbnRpZnk9Z28oZSx0LGkpKToodHx8aSkmJih0aGlzLl9jYWNoZWRJZGVudGlmeSE9PWdvKGUsdCxpKT8odGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHQsaSksdGhpcy5fY2FjaGVkSWRlbnRpZnk9Z28oZSx0LGkpKTplZS5pbmZvKFwiQSBkdXBsaWNhdGUgcG9zdGhvZy5pZGVudGlmeSBjYWxsIHdhcyBtYWRlIHdpdGggdGhlIHNhbWUgcHJvcGVydGllcy4gSXQgaGFzIGJlZW4gaWdub3JlZC5cIikpLGUhPT1yJiYodGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKSx0aGlzLnVucmVnaXN0ZXIoTWUpKX19ZWxzZSBlZS5lcnJvcihcIlVuaXF1ZSB1c2VyIGlkIGhhcyBub3QgYmVlbiBzZXQgaW4gcG9zdGhvZy5pZGVudGlmeVwiKX1zZXRQZXJzb25Qcm9wZXJ0aWVzKGUsdCl7KGV8fHQpJiZ0aGlzLl9yZXF1aXJlUGVyc29uUHJvY2Vzc2luZyhcInBvc3Rob2cuc2V0UGVyc29uUHJvcGVydGllc1wiKSYmKHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKG5lKG5lKHt9LHR8fHt9KSxlfHx7fSkpLHRoaXMuY2FwdHVyZShcIiRzZXRcIix7JHNldDplfHx7fSwkc2V0X29uY2U6dHx8e319KSl9Z3JvdXAoZSx0LGkpe2lmKGUmJnQpe2lmKHRoaXMuX3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKFwicG9zdGhvZy5ncm91cFwiKSl7dmFyIHI9dGhpcy5nZXRHcm91cHMoKTtyW2VdIT09dCYmdGhpcy5yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUpLHRoaXMucmVnaXN0ZXIoeyRncm91cHM6bmUobmUoe30scikse30se1tlXTp0fSl9KSxpJiYodGhpcy5jYXB0dXJlKFwiJGdyb3VwaWRlbnRpZnlcIix7JGdyb3VwX3R5cGU6ZSwkZ3JvdXBfa2V5OnQsJGdyb3VwX3NldDppfSksdGhpcy5zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh7W2VdOml9KSkscltlXT09PXR8fGl8fHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCl9fWVsc2UgZWUuZXJyb3IoXCJwb3N0aG9nLmdyb3VwIHJlcXVpcmVzIGEgZ3JvdXAgdHlwZSBhbmQgZ3JvdXAga2V5XCIpfXJlc2V0R3JvdXBzKCl7dGhpcy5yZWdpc3Rlcih7JGdyb3Vwczp7fX0pLHRoaXMucmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncygpLHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCl9c2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07dGhpcy5mZWF0dXJlRmxhZ3Muc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGUsdCl9cmVzZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoKXt0aGlzLmZlYXR1cmVGbGFncy5yZXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncygpfXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07dGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLnNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzXCIpJiZ0aGlzLmZlYXR1cmVGbGFncy5zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyhlLHQpfXJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoZSl7dGhpcy5mZWF0dXJlRmxhZ3MucmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyhlKX1yZXNldChlKXt2YXIgdCxpLHIscztpZihlZS5pbmZvKFwicmVzZXRcIiksIXRoaXMuX19sb2FkZWQpcmV0dXJuIGVlLnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5yZXNldFwiKTt2YXIgbj10aGlzLmdldF9wcm9wZXJ0eShcIiRkZXZpY2VfaWRcIik7aWYodGhpcy5jb25zZW50LnJlc2V0KCksbnVsbD09PSh0PXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LmNsZWFyKCksbnVsbD09PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5jbGVhcigpLHRoaXMuc3VydmV5cy5yZXNldCgpLG51bGw9PT0ocj10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09cnx8ci5zZXRfcHJvcGVydHkoQWUsXCJhbm9ueW1vdXNcIiksbnVsbD09PShzPXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHx2b2lkIDA9PT1zfHxzLnJlc2V0U2Vzc2lvbklkKCksdGhpcy5fY2FjaGVkSWRlbnRpZnk9bnVsbCx0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSl0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOmplLCRkZXZpY2VfaWQ6bnVsbH0sXCJcIik7ZWxzZXt2YXIgbz10aGlzLmNvbmZpZy5nZXRfZGV2aWNlX2lkKHN0KCkpO3RoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6bywkZGV2aWNlX2lkOmU/bzpufSxcIlwiKX10aGlzLnJlZ2lzdGVyKHskbGFzdF9wb3N0aG9nX3Jlc2V0OihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKX0sMSl9Z2V0X2Rpc3RpbmN0X2lkKCl7cmV0dXJuIHRoaXMuZ2V0X3Byb3BlcnR5KFwiZGlzdGluY3RfaWRcIil9Z2V0R3JvdXBzKCl7cmV0dXJuIHRoaXMuZ2V0X3Byb3BlcnR5KFwiJGdyb3Vwc1wiKXx8e319Z2V0X3Nlc3Npb25faWQoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKS5zZXNzaW9uSWQpJiZ2b2lkIDAhPT1lP2U6XCJcIn1nZXRfc2Vzc2lvbl9yZXBsYXlfdXJsKGUpe2lmKCF0aGlzLnNlc3Npb25NYW5hZ2VyKXJldHVyblwiXCI7dmFye3Nlc3Npb25JZDp0LHNlc3Npb25TdGFydFRpbWVzdGFtcDppfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKSxyPXRoaXMucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIsXCIvcHJvamVjdC9cIi5jb25jYXQodGhpcy5jb25maWcudG9rZW4sXCIvcmVwbGF5L1wiKS5jb25jYXQodCkpO2lmKG51bGwhPWUmJmUud2l0aFRpbWVzdGFtcCYmaSl7dmFyIHMsbj1udWxsIT09KHM9ZS50aW1lc3RhbXBMb29rQmFjaykmJnZvaWQgMCE9PXM/czoxMDtpZighaSlyZXR1cm4gcjt2YXIgbz1NYXRoLm1heChNYXRoLmZsb29yKCgobmV3IERhdGUpLmdldFRpbWUoKS1pKS8xZTMpLW4sMCk7cis9XCI/dD1cIi5jb25jYXQobyl9cmV0dXJuIHJ9YWxpYXMoZSx0KXtyZXR1cm4gZT09PXRoaXMuZ2V0X3Byb3BlcnR5KGxlKT8oZWUuY3JpdGljYWwoXCJBdHRlbXB0aW5nIHRvIGNyZWF0ZSBhbGlhcyBmb3IgZXhpc3RpbmcgUGVvcGxlIHVzZXIgLSBhYm9ydGluZy5cIiksLTIpOnRoaXMuX3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKFwicG9zdGhvZy5hbGlhc1wiKT8oeih0KSYmKHQ9dGhpcy5nZXRfZGlzdGluY3RfaWQoKSksZSE9PXQ/KHRoaXMuX3JlZ2lzdGVyX3NpbmdsZSh1ZSxlKSx0aGlzLmNhcHR1cmUoXCIkY3JlYXRlX2FsaWFzXCIse2FsaWFzOmUsZGlzdGluY3RfaWQ6dH0pKTooZWUud2FybihcImFsaWFzIG1hdGNoZXMgY3VycmVudCBkaXN0aW5jdF9pZCAtIHNraXBwaW5nIGFwaSBjYWxsLlwiKSx0aGlzLmlkZW50aWZ5KGUpLC0xKSk6dm9pZCAwfXNldF9jb25maWcoZSl7dmFyIHQsaSxyLHMsbj1uZSh7fSx0aGlzLmNvbmZpZyk7VShlKSYmKHcodGhpcy5jb25maWcsU28oZSkpLG51bGw9PT0odD10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8dC51cGRhdGVfY29uZmlnKHRoaXMuY29uZmlnLG4pLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlPVwic2Vzc2lvblN0b3JhZ2VcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlfHxcIm1lbW9yeVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2U/dGhpcy5wZXJzaXN0ZW5jZTpuZXcgSWkobmUobmUoe30sdGhpcy5jb25maWcpLHt9LHtwZXJzaXN0ZW5jZTpcInNlc3Npb25TdG9yYWdlXCJ9KSksaHQuaXNfc3VwcG9ydGVkKCkmJlwidHJ1ZVwiPT09aHQuZ2V0KFwicGhfZGVidWdcIikmJih0aGlzLmNvbmZpZy5kZWJ1Zz0hMCksdGhpcy5jb25maWcuZGVidWcmJihwLkRFQlVHPSEwLGVlLmluZm8oXCJzZXRfY29uZmlnXCIse2NvbmZpZzplLG9sZENvbmZpZzpuLG5ld0NvbmZpZzpuZSh7fSx0aGlzLmNvbmZpZyl9KSksbnVsbD09PShpPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PWl8fGkuc3RhcnRJZkVuYWJsZWRPclN0b3AoKSxudWxsPT09KHI9dGhpcy5hdXRvY2FwdHVyZSl8fHZvaWQgMD09PXJ8fHIuc3RhcnRJZkVuYWJsZWQoKSxudWxsPT09KHM9dGhpcy5oZWF0bWFwcyl8fHZvaWQgMD09PXN8fHMuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLnN1cnZleXMubG9hZElmRW5hYmxlZCgpLHRoaXMuX3N5bmNfb3B0X291dF93aXRoX3BlcnNpc3RlbmNlKCkpfXN0YXJ0U2Vzc2lvblJlY29yZGluZyhlKXt2YXIgdD0hMD09PWUsaT17c2FtcGxpbmc6dHx8IShudWxsPT1lfHwhZS5zYW1wbGluZyksbGlua2VkX2ZsYWc6dHx8IShudWxsPT1lfHwhZS5saW5rZWRfZmxhZyksdXJsX3RyaWdnZXI6dHx8IShudWxsPT1lfHwhZS51cmxfdHJpZ2dlciksZXZlbnRfdHJpZ2dlcjp0fHwhKG51bGw9PWV8fCFlLmV2ZW50X3RyaWdnZXIpfTtpZihPYmplY3QudmFsdWVzKGkpLnNvbWUoQm9vbGVhbikpe3ZhciByLHMsbixvLGE7aWYobnVsbD09PShyPXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHx2b2lkIDA9PT1yfHxyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCksaS5zYW1wbGluZyludWxsPT09KHM9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09c3x8cy5vdmVycmlkZVNhbXBsaW5nKCk7aWYoaS5saW5rZWRfZmxhZyludWxsPT09KG49dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09bnx8bi5vdmVycmlkZUxpbmtlZEZsYWcoKTtpZihpLnVybF90cmlnZ2VyKW51bGw9PT0obz10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1vfHxvLm92ZXJyaWRlVHJpZ2dlcihcInVybFwiKTtpZihpLmV2ZW50X3RyaWdnZXIpbnVsbD09PShhPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PWF8fGEub3ZlcnJpZGVUcmlnZ2VyKFwiZXZlbnRcIil9dGhpcy5zZXRfY29uZmlnKHtkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nOiExfSl9c3RvcFNlc3Npb25SZWNvcmRpbmcoKXt0aGlzLnNldF9jb25maWcoe2Rpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ITB9KX1zZXNzaW9uUmVjb3JkaW5nU3RhcnRlZCgpe3ZhciBlO3JldHVybiEobnVsbD09PShlPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PWV8fCFlLnN0YXJ0ZWQpfWNhcHR1cmVFeGNlcHRpb24oZSx0KXt2YXIgaSxyPW5ldyBFcnJvcihcIlBvc3RIb2cgc3ludGhldGljRXhjZXB0aW9uXCIpLHM9SChudWxsPT09KGk9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnBhcnNlRXJyb3JBc1Byb3BlcnRpZXMpP25lKG5lKHt9LF8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fLnBhcnNlRXJyb3JBc1Byb3BlcnRpZXMoW2UubWVzc2FnZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCxlXSx7c3ludGhldGljRXhjZXB0aW9uOnJ9KSksdCk6bmUoeyRleGNlcHRpb25fbGV2ZWw6XCJlcnJvclwiLCRleGNlcHRpb25fbGlzdDpbe3R5cGU6ZS5uYW1lLHZhbHVlOmUubWVzc2FnZSxtZWNoYW5pc206e2hhbmRsZWQ6ITAsc3ludGhldGljOiExfX1dfSx0KTt0aGlzLmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KHMpfWxvYWRUb29sYmFyKGUpe3JldHVybiB0aGlzLnRvb2xiYXIubG9hZFRvb2xiYXIoZSl9Z2V0X3Byb3BlcnR5KGUpe3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucHJvcHNbZV19Z2V0U2Vzc2lvblByb3BlcnR5KGUpe3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnByb3BzW2VdfXRvU3RyaW5nKCl7dmFyIGUsdD1udWxsIT09KGU9dGhpcy5jb25maWcubmFtZSkmJnZvaWQgMCE9PWU/ZTpibztyZXR1cm4gdCE9PWJvJiYodD1ibytcIi5cIit0KSx0fV9pc0lkZW50aWZpZWQoKXt2YXIgZSx0O3JldHVyblwiaWRlbnRpZmllZFwiPT09KG51bGw9PT0oZT10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRfcHJvcGVydHkoQWUpKXx8XCJpZGVudGlmaWVkXCI9PT0obnVsbD09PSh0PXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRfcHJvcGVydHkoQWUpKX1faGFzUGVyc29uUHJvY2Vzc2luZygpe3ZhciBlLHQsaSxyO3JldHVybiEoXCJuZXZlclwiPT09dGhpcy5jb25maWcucGVyc29uX3Byb2ZpbGVzfHxcImlkZW50aWZpZWRfb25seVwiPT09dGhpcy5jb25maWcucGVyc29uX3Byb2ZpbGVzJiYhdGhpcy5faXNJZGVudGlmaWVkKCkmJmoodGhpcy5nZXRHcm91cHMoKSkmJihudWxsPT09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnByb3BzKXx8dm9pZCAwPT09dHx8IXRbdWVdKSYmKG51bGw9PT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkucHJvcHMpfHx2b2lkIDA9PT1yfHwhcltIZV0pKX1fc2hvdWxkQ2FwdHVyZVBhZ2VsZWF2ZSgpe3JldHVybiEwPT09dGhpcy5jb25maWcuY2FwdHVyZV9wYWdlbGVhdmV8fFwiaWZfY2FwdHVyZV9wYWdldmlld1wiPT09dGhpcy5jb25maWcuY2FwdHVyZV9wYWdlbGVhdmUmJnRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXd9Y3JlYXRlUGVyc29uUHJvZmlsZSgpe3RoaXMuX2hhc1BlcnNvblByb2Nlc3NpbmcoKXx8dGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLmNyZWF0ZVBlcnNvblByb2ZpbGVcIikmJnRoaXMuc2V0UGVyc29uUHJvcGVydGllcyh7fSx7fSl9X3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKGUpe3JldHVyblwibmV2ZXJcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlcz8oZWUuZXJyb3IoZSsnIHdhcyBjYWxsZWQsIGJ1dCBwcm9jZXNzX3BlcnNvbiBpcyBzZXQgdG8gXCJuZXZlclwiLiBUaGlzIGNhbGwgd2lsbCBiZSBpZ25vcmVkLicpLCExKToodGhpcy5fcmVnaXN0ZXJfc2luZ2xlKEhlLCEwKSwhMCl9X3N5bmNfb3B0X291dF93aXRoX3BlcnNpc3RlbmNlKCl7dmFyIGUsdCxpLHIscz10aGlzLmNvbnNlbnQuaXNPcHRlZE91dCgpLG49dGhpcy5jb25maWcub3B0X291dF9wZXJzaXN0ZW5jZV9ieV9kZWZhdWx0LG89dGhpcy5jb25maWcuZGlzYWJsZV9wZXJzaXN0ZW5jZXx8cyYmISFuOyhudWxsPT09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZGlzYWJsZWQpIT09byYmKG51bGw9PT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5zZXRfZGlzYWJsZWQobykpOyhudWxsPT09KHQ9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmRpc2FibGVkKSE9PW8mJihudWxsPT09KHI9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1yfHxyLnNldF9kaXNhYmxlZChvKSl9b3B0X2luX2NhcHR1cmluZyhlKXt2YXIgdDsodGhpcy5jb25zZW50Lm9wdEluT3V0KCEwKSx0aGlzLl9zeW5jX29wdF9vdXRfd2l0aF9wZXJzaXN0ZW5jZSgpLHoobnVsbD09ZT92b2lkIDA6ZS5jYXB0dXJlRXZlbnROYW1lKXx8bnVsbCE9ZSYmZS5jYXB0dXJlRXZlbnROYW1lKSYmdGhpcy5jYXB0dXJlKG51bGwhPT0odD1udWxsPT1lP3ZvaWQgMDplLmNhcHR1cmVFdmVudE5hbWUpJiZ2b2lkIDAhPT10P3Q6XCIkb3B0X2luXCIsbnVsbD09ZT92b2lkIDA6ZS5jYXB0dXJlUHJvcGVydGllcyx7c2VuZF9pbnN0YW50bHk6ITB9KTt0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3JiZ0aGlzLl9jYXB0dXJlSW5pdGlhbFBhZ2V2aWV3KCl9b3B0X291dF9jYXB0dXJpbmcoKXt0aGlzLmNvbnNlbnQub3B0SW5PdXQoITEpLHRoaXMuX3N5bmNfb3B0X291dF93aXRoX3BlcnNpc3RlbmNlKCl9aGFzX29wdGVkX2luX2NhcHR1cmluZygpe3JldHVybiB0aGlzLmNvbnNlbnQuaXNPcHRlZEluKCl9aGFzX29wdGVkX291dF9jYXB0dXJpbmcoKXtyZXR1cm4gdGhpcy5jb25zZW50LmlzT3B0ZWRPdXQoKX1jbGVhcl9vcHRfaW5fb3V0X2NhcHR1cmluZygpe3RoaXMuY29uc2VudC5yZXNldCgpLHRoaXMuX3N5bmNfb3B0X291dF93aXRoX3BlcnNpc3RlbmNlKCl9X2lzX2JvdCgpe3JldHVybiBvP05uKG8sdGhpcy5jb25maWcuY3VzdG9tX2Jsb2NrZWRfdXNlcmFnZW50cyk6dm9pZCAwfV9jYXB0dXJlSW5pdGlhbFBhZ2V2aWV3KCl7YSYmIXRoaXMuX2luaXRpYWxQYWdldmlld0NhcHR1cmVkJiYodGhpcy5faW5pdGlhbFBhZ2V2aWV3Q2FwdHVyZWQ9ITAsdGhpcy5jYXB0dXJlKFwiJHBhZ2V2aWV3XCIse3RpdGxlOmEudGl0bGV9LHtzZW5kX2luc3RhbnRseTohMH0pKX1kZWJ1ZyhlKXshMT09PWU/KG51bGw9PXR8fHQuY29uc29sZS5sb2coXCJZb3UndmUgZGlzYWJsZWQgZGVidWcgbW9kZS5cIiksbG9jYWxTdG9yYWdlJiZsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInBoX2RlYnVnXCIpLHRoaXMuc2V0X2NvbmZpZyh7ZGVidWc6ITF9KSk6KG51bGw9PXR8fHQuY29uc29sZS5sb2coXCJZb3UncmUgbm93IGluIGRlYnVnIG1vZGUuIEFsbCBjYWxscyB0byBQb3N0SG9nIHdpbGwgYmUgbG9nZ2VkIGluIHlvdXIgY29uc29sZS5cXG5Zb3UgY2FuIGRpc2FibGUgdGhpcyB3aXRoIGBwb3N0aG9nLmRlYnVnKGZhbHNlKWAuXCIpLGxvY2FsU3RvcmFnZSYmbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwaF9kZWJ1Z1wiLFwidHJ1ZVwiKSx0aGlzLnNldF9jb25maWcoe2RlYnVnOiEwfSkpfV9ydW5CZWZvcmVTZW5kKGUpe2lmKEoodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpKXJldHVybiBlO3ZhciB0PUIodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpP3RoaXMuY29uZmlnLmJlZm9yZV9zZW5kOlt0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZF0saT1lO2Zvcih2YXIgciBvZiB0KXtpZihpPXIoaSksSihpKSl7dmFyIHM9XCJFdmVudCAnXCIuY29uY2F0KGUuZXZlbnQsXCInIHdhcyByZWplY3RlZCBpbiBiZWZvcmVTZW5kIGZ1bmN0aW9uXCIpO3JldHVybiBRKGUuZXZlbnQpP2VlLndhcm4oXCJcIi5jb25jYXQocyxcIi4gVGhpcyBjYW4gY2F1c2UgdW5leHBlY3RlZCBiZWhhdmlvci5cIikpOmVlLmluZm8ocyksbnVsbH1pLnByb3BlcnRpZXMmJiFqKGkucHJvcGVydGllcyl8fGVlLndhcm4oXCJFdmVudCAnXCIuY29uY2F0KGUuZXZlbnQsXCInIGhhcyBubyBwcm9wZXJ0aWVzIGFmdGVyIGJlZm9yZVNlbmQgZnVuY3Rpb24sIHRoaXMgaXMgbGlrZWx5IGFuIGVycm9yLlwiKSl9cmV0dXJuIGl9Z2V0UGFnZVZpZXdJZCgpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5wYWdlVmlld01hbmFnZXIuX2N1cnJlbnRQYWdldmlldyl8fHZvaWQgMD09PWU/dm9pZCAwOmUucGFnZVZpZXdJZH19IWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspZS5wcm90b3R5cGVbdFtpXV09eChlLnByb3RvdHlwZVt0W2ldXSl9KEVvLFtcImlkZW50aWZ5XCJdKTt2YXIgeG8sSW89KHhvPWZvW2JvXT1uZXcgRW8sZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7ZS5kb25lfHwoZS5kb25lPSEwLHlvPSExLHkoZm8sKGZ1bmN0aW9uKGUpe2UuX2RvbV9sb2FkZWQoKX0pKSl9bnVsbCE9YSYmYS5hZGRFdmVudExpc3RlbmVyP1wiY29tcGxldGVcIj09PWEucmVhZHlTdGF0ZT9lKCk6UihhLFwiRE9NQ29udGVudExvYWRlZFwiLGUse2NhcHR1cmU6ITF9KTp0JiZlZS5lcnJvcihcIkJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyYCBzbyBQb3N0SG9nIGNvdWxkbid0IGJlIGluaXRpYWxpemVkXCIpfSgpLHhvKTtleHBvcnR7diBhcyBDT1BZX0FVVE9DQVBUVVJFX0VWRU5ULGUgYXMgQ29tcHJlc3Npb24sRW8gYXMgUG9zdEhvZyxrbiBhcyBTdXJ2ZXlRdWVzdGlvbkJyYW5jaGluZ1R5cGUsU24gYXMgU3VydmV5UXVlc3Rpb25UeXBlLHduIGFzIFN1cnZleVR5cGUsSW8gYXMgZGVmYXVsdCxnIGFzIGtub3duVW5zYWZlRWRpdGFibGVFdmVudCxJbyBhcyBwb3N0aG9nLGYgYXMgc2V2ZXJpdHlMZXZlbHN9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kdWxlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/posthog-js/dist/module.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/posthog-js/react/dist/esm/index.js":
/*!**********************************************************!*\
  !*** ../node_modules/posthog-js/react/dist/esm/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PostHogContext: () => (/* binding */ PostHogContext),\n/* harmony export */   PostHogFeature: () => (/* binding */ PostHogFeature),\n/* harmony export */   PostHogProvider: () => (/* binding */ PostHogProvider),\n/* harmony export */   useActiveFeatureFlags: () => (/* binding */ useActiveFeatureFlags),\n/* harmony export */   useFeatureFlagEnabled: () => (/* binding */ useFeatureFlagEnabled),\n/* harmony export */   useFeatureFlagPayload: () => (/* binding */ useFeatureFlagPayload),\n/* harmony export */   useFeatureFlagVariantKey: () => (/* binding */ useFeatureFlagVariantKey),\n/* harmony export */   usePostHog: () => (/* binding */ usePostHog)\n/* harmony export */ });\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! posthog-js */ \"(ssr)/../node_modules/posthog-js/dist/module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar PostHogContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({ client: posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] });\n\nfunction isDeepEqual(obj1, obj2, visited) {\r\n    if (visited === void 0) { visited = new WeakMap(); }\r\n    if (obj1 === obj2) {\r\n        return true;\r\n    }\r\n    if (typeof obj1 !== 'object' || obj1 === null || typeof obj2 !== 'object' || obj2 === null) {\r\n        return false;\r\n    }\r\n    if (visited.has(obj1) && visited.get(obj1) === obj2) {\r\n        return true;\r\n    }\r\n    visited.set(obj1, obj2);\r\n    var keys1 = Object.keys(obj1);\r\n    var keys2 = Object.keys(obj2);\r\n    if (keys1.length !== keys2.length) {\r\n        return false;\r\n    }\r\n    for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\r\n        var key = keys1_1[_i];\r\n        if (!keys2.includes(key)) {\r\n            return false;\r\n        }\r\n        if (!isDeepEqual(obj1[key], obj2[key], visited)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\n\nfunction PostHogProvider(_a) {\r\n    var children = _a.children, client = _a.client, apiKey = _a.apiKey, options = _a.options;\r\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), alreadyInitialized = _b[0], setAlreadyInitialized = _b[1];\r\n    var posthog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\r\n        if (client) {\r\n            if (apiKey) {\r\n                console.warn('[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`.');\r\n            }\r\n            if (options) {\r\n                console.warn('[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`.');\r\n            }\r\n            if (client.__loaded) {\r\n                console.warn('[PostHog.js] `client` was already loaded elsewhere. This may cause issues.');\r\n            }\r\n            return client;\r\n        }\r\n        if (apiKey) {\r\n            if (alreadyInitialized !== false) {\r\n                if (apiKey !== alreadyInitialized.previousAPIKey) {\r\n                    console.warn(\"[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop.\");\r\n                }\r\n                if (options && !isDeepEqual(options, alreadyInitialized.previousOptions)) {\r\n                    posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set_config(options);\r\n                }\r\n                setAlreadyInitialized({\r\n                    previousAPIKey: apiKey,\r\n                    previousOptions: options !== null && options !== void 0 ? options : {},\r\n                });\r\n                return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n            }\r\n            if (posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].__loaded) {\r\n                console.warn('[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues.');\r\n            }\r\n            posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(apiKey, options);\r\n            setAlreadyInitialized({\r\n                previousAPIKey: apiKey,\r\n                previousOptions: options !== null && options !== void 0 ? options : {},\r\n            });\r\n            return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n        }\r\n        console.warn('[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior.');\r\n        return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n    }, [client, apiKey, JSON.stringify(options)]);\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PostHogContext.Provider, { value: { client: posthog } }, children);\r\n}\n\nvar usePostHog = function () {\r\n    var client = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext).client;\r\n    return client;\r\n};\n\nfunction useFeatureFlagEnabled(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.isFeatureEnabled(flag); }), featureEnabled = _a[0], setFeatureEnabled = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureEnabled(client.isFeatureEnabled(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureEnabled;\r\n}\n\nfunction useFeatureFlagPayload(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.getFeatureFlagPayload(flag); }), featureFlagPayload = _a[0], setFeatureFlagPayload = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureFlagPayload(client.getFeatureFlagPayload(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureFlagPayload;\r\n}\n\nfunction useActiveFeatureFlags() {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.featureFlags.getFlags(); }), featureFlags = _a[0], setFeatureFlags = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function (flags) {\r\n            setFeatureFlags(flags);\r\n        });\r\n    }, [client]);\r\n    return featureFlags;\r\n}\n\nfunction useFeatureFlagVariantKey(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\r\n        return client.getFeatureFlag(flag);\r\n    }), featureFlagVariantKey = _a[0], setFeatureFlagVariantKey = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureFlagVariantKey(client.getFeatureFlag(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureFlagVariantKey;\r\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nvar isFunction = function (f) {\r\n    return typeof f === 'function';\r\n};\r\nvar isUndefined = function (x) {\r\n    return x === void 0;\r\n};\r\nvar isNull = function (x) {\r\n    return x === null;\r\n};\n\nfunction PostHogFeature(_a) {\r\n    var flag = _a.flag, match = _a.match, children = _a.children, fallback = _a.fallback, visibilityObserverOptions = _a.visibilityObserverOptions, trackInteraction = _a.trackInteraction, trackView = _a.trackView, props = __rest(_a, [\"flag\", \"match\", \"children\", \"fallback\", \"visibilityObserverOptions\", \"trackInteraction\", \"trackView\"]);\r\n    var payload = useFeatureFlagPayload(flag);\r\n    var variant = useFeatureFlagVariantKey(flag);\r\n    var shouldTrackInteraction = trackInteraction !== null && trackInteraction !== void 0 ? trackInteraction : true;\r\n    var shouldTrackView = trackView !== null && trackView !== void 0 ? trackView : true;\r\n    if (isUndefined(match) || variant === match) {\r\n        var childNode = isFunction(children) ? children(payload) : children;\r\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTrackers, __assign({ flag: flag, options: visibilityObserverOptions, trackInteraction: shouldTrackInteraction, trackView: shouldTrackView }, props), childNode));\r\n    }\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, fallback);\r\n}\r\nfunction captureFeatureInteraction(flag, posthog) {\r\n    var _a;\r\n    posthog.capture('$feature_interaction', { feature_flag: flag, $set: (_a = {}, _a[\"$feature_interaction/\".concat(flag)] = true, _a) });\r\n}\r\nfunction captureFeatureView(flag, posthog) {\r\n    posthog.capture('$feature_view', { feature_flag: flag });\r\n}\r\nfunction VisibilityAndClickTracker(_a) {\r\n    var flag = _a.flag, children = _a.children, onIntersect = _a.onIntersect, onClick = _a.onClick, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"onIntersect\", \"onClick\", \"trackView\", \"options\"]);\r\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\r\n    var posthog = usePostHog();\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        if (isNull(ref.current) || !trackView)\r\n            return;\r\n        var observer = new IntersectionObserver(function (_a) {\r\n            var entry = _a[0];\r\n            return onIntersect(entry);\r\n        }, __assign({ threshold: 0.1 }, options));\r\n        observer.observe(ref.current);\r\n        return function () { return observer.disconnect(); };\r\n    }, [flag, options, posthog, ref, trackView, onIntersect]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({ ref: ref }, props, { onClick: onClick }), children));\r\n}\r\nfunction VisibilityAndClickTrackers(_a) {\r\n    var flag = _a.flag, children = _a.children, trackInteraction = _a.trackInteraction, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"trackInteraction\", \"trackView\", \"options\"]);\r\n    var clickTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\r\n    var visibilityTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\r\n    var posthog = usePostHog();\r\n    var cachedOnClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\r\n        if (!clickTrackedRef.current && trackInteraction) {\r\n            captureFeatureInteraction(flag, posthog);\r\n            clickTrackedRef.current = true;\r\n        }\r\n    }, [flag, posthog, trackInteraction]);\r\n    var onIntersect = function (entry) {\r\n        if (!visibilityTrackedRef.current && entry.isIntersecting) {\r\n            captureFeatureView(flag, posthog);\r\n            visibilityTrackedRef.current = true;\r\n        }\r\n    };\r\n    var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child) {\r\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ flag: flag, onClick: cachedOnClick, onIntersect: onIntersect, trackView: trackView, options: options }, props), child));\r\n    });\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, trackedChildren);\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL3Bvc3Rob2ctanMvcmVhY3QvZGlzdC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBbUM7QUFDbUY7O0FBRXRILHFCQUFxQixvREFBYSxHQUFHLFFBQVEsa0RBQVMsRUFBRTs7QUFFeEQ7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHFCQUFxQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSwrQ0FBUTtBQUNyQixrQkFBa0IsOENBQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtEQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRjtBQUMxRixpQkFBaUI7QUFDakIsdUJBQXVCLGtEQUFTO0FBQ2hDO0FBQ0EsZ0JBQWdCLGtEQUFTO0FBQ3pCO0FBQ0E7QUFDQSxZQUFZLGtEQUFTO0FBQ3JCO0FBQ0E7QUFDQSxzRkFBc0Y7QUFDdEYsYUFBYTtBQUNiLG1CQUFtQixrREFBUztBQUM1QjtBQUNBO0FBQ0EsZUFBZSxrREFBUztBQUN4QixLQUFLO0FBQ0wsV0FBVywwREFBbUIsNEJBQTRCLFNBQVMsbUJBQW1CO0FBQ3RGOztBQUVBO0FBQ0EsaUJBQWlCLGlEQUFVO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsK0NBQVEsZUFBZSx1Q0FBdUM7QUFDM0UsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsK0NBQVEsZUFBZSw0Q0FBNEM7QUFDaEYsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsK0NBQVEsZUFBZSx3Q0FBd0M7QUFDNUUsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsK0NBQVE7QUFDckI7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwREFBbUIsd0NBQXdDLHNIQUFzSDtBQUNqTTtBQUNBLFdBQVcsMERBQW1CLENBQUMsdURBQWM7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGtDQUFrQyx3REFBd0Q7QUFDeEk7QUFDQTtBQUNBLHVDQUF1QyxvQkFBb0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2Q0FBTTtBQUNwQjtBQUNBLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxhQUFhLGdCQUFnQjtBQUN0QztBQUNBLDZCQUE2QjtBQUM3QixLQUFLO0FBQ0wsWUFBWSwwREFBbUIsbUJBQW1CLFVBQVUsV0FBVyxrQkFBa0I7QUFDekY7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZDQUFNO0FBQ2hDLCtCQUErQiw2Q0FBTTtBQUNyQztBQUNBLHdCQUF3QixrREFBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsMkNBQVE7QUFDbEMsZ0JBQWdCLDBEQUFtQix1Q0FBdUMsc0dBQXNHO0FBQ2hMLEtBQUs7QUFDTCxXQUFXLDBEQUFtQixDQUFDLHVEQUFjO0FBQzdDOztBQUVzSyIsInNvdXJjZXMiOlsid2VicGFjazovL21pbmQtbWVudG9yLy4uL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL3JlYWN0L2Rpc3QvZXNtL2luZGV4LmpzP2UzOWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBvc3Rob2dKcyBmcm9tICdwb3N0aG9nLWpzJztcbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSwgdXNlTWVtbywgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrLCBDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JztcblxudmFyIFBvc3RIb2dDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7IGNsaWVudDogcG9zdGhvZ0pzIH0pO1xuXG5mdW5jdGlvbiBpc0RlZXBFcXVhbChvYmoxLCBvYmoyLCB2aXNpdGVkKSB7XHJcbiAgICBpZiAodmlzaXRlZCA9PT0gdm9pZCAwKSB7IHZpc2l0ZWQgPSBuZXcgV2Vha01hcCgpOyB9XHJcbiAgICBpZiAob2JqMSA9PT0gb2JqMikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBvYmoxICE9PSAnb2JqZWN0JyB8fCBvYmoxID09PSBudWxsIHx8IHR5cGVvZiBvYmoyICE9PSAnb2JqZWN0JyB8fCBvYmoyID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHZpc2l0ZWQuaGFzKG9iajEpICYmIHZpc2l0ZWQuZ2V0KG9iajEpID09PSBvYmoyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICB2aXNpdGVkLnNldChvYmoxLCBvYmoyKTtcclxuICAgIHZhciBrZXlzMSA9IE9iamVjdC5rZXlzKG9iajEpO1xyXG4gICAgdmFyIGtleXMyID0gT2JqZWN0LmtleXMob2JqMik7XHJcbiAgICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBfaSA9IDAsIGtleXMxXzEgPSBrZXlzMTsgX2kgPCBrZXlzMV8xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhciBrZXkgPSBrZXlzMV8xW19pXTtcclxuICAgICAgICBpZiAoIWtleXMyLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWlzRGVlcEVxdWFsKG9iajFba2V5XSwgb2JqMltrZXldLCB2aXNpdGVkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cblxuZnVuY3Rpb24gUG9zdEhvZ1Byb3ZpZGVyKF9hKSB7XHJcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgY2xpZW50ID0gX2EuY2xpZW50LCBhcGlLZXkgPSBfYS5hcGlLZXksIG9wdGlvbnMgPSBfYS5vcHRpb25zO1xyXG4gICAgdmFyIF9iID0gdXNlU3RhdGUoZmFsc2UpLCBhbHJlYWR5SW5pdGlhbGl6ZWQgPSBfYlswXSwgc2V0QWxyZWFkeUluaXRpYWxpemVkID0gX2JbMV07XHJcbiAgICB2YXIgcG9zdGhvZyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChjbGllbnQpIHtcclxuICAgICAgICAgICAgaWYgKGFwaUtleSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gWW91IGhhdmUgcHJvdmlkZWQgYm90aCBgY2xpZW50YCBhbmQgYGFwaUtleWAgdG8gYFBvc3RIb2dQcm92aWRlcmAuIGBhcGlLZXlgIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgYGNsaWVudGAuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIFlvdSBoYXZlIHByb3ZpZGVkIGJvdGggYGNsaWVudGAgYW5kIGBvcHRpb25zYCB0byBgUG9zdEhvZ1Byb3ZpZGVyYC4gYG9wdGlvbnNgIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgYGNsaWVudGAuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNsaWVudC5fX2xvYWRlZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gYGNsaWVudGAgd2FzIGFscmVhZHkgbG9hZGVkIGVsc2V3aGVyZS4gVGhpcyBtYXkgY2F1c2UgaXNzdWVzLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjbGllbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcGlLZXkpIHtcclxuICAgICAgICAgICAgaWYgKGFscmVhZHlJbml0aWFsaXplZCAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcGlLZXkgIT09IGFscmVhZHlJbml0aWFsaXplZC5wcmV2aW91c0FQSUtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltQb3N0SG9nLmpzXSBZb3UgaGF2ZSBwcm92aWRlZCBhIGRpZmZlcmVudCBgYXBpS2V5YCB0byBgUG9zdEhvZ1Byb3ZpZGVyYCB0aGFuIHRoZSBvbmUgdGhhdCB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIGJ5IG91ciBwcm92aWRlciBhbmQgd2UnbGwga2VlcCB1c2luZyB0aGUgcHJldmlvdXMga2V5LiBJZiB5b3UgbmVlZCB0byB0b2dnbGUgYmV0d2VlbiBBUEkgS2V5cyB5b3UgbmVlZCB0byBjb250cm9sIHRoZSBgY2xpZW50YCB5b3Vyc2VsZiBhbmQgcGFzcyBpdCBpbiBhcyBhIHByb3AgcmF0aGVyIHRoYW4gYW4gYGFwaUtleWAgcHJvcC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyAmJiAhaXNEZWVwRXF1YWwob3B0aW9ucywgYWxyZWFkeUluaXRpYWxpemVkLnByZXZpb3VzT3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3N0aG9nSnMuc2V0X2NvbmZpZyhvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNldEFscmVhZHlJbml0aWFsaXplZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNBUElLZXk6IGFwaUtleSxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c09wdGlvbnM6IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zdGhvZ0pzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwb3N0aG9nSnMuX19sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIGBwb3N0aG9nYCB3YXMgYWxyZWFkeSBsb2FkZWQgZWxzZXdoZXJlLiBUaGlzIG1heSBjYXVzZSBpc3N1ZXMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcG9zdGhvZ0pzLmluaXQoYXBpS2V5LCBvcHRpb25zKTtcclxuICAgICAgICAgICAgc2V0QWxyZWFkeUluaXRpYWxpemVkKHtcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzQVBJS2V5OiBhcGlLZXksXHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c09wdGlvbnM6IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gTm8gYGFwaUtleWAgb3IgYGNsaWVudGAgd2VyZSBwcm92aWRlZCB0byBgUG9zdEhvZ1Byb3ZpZGVyYC4gVXNpbmcgZGVmYXVsdCBnbG9iYWwgYHdpbmRvdy5wb3N0aG9nYCBpbnN0YW5jZS4gWW91IG11c3QgaW5pdGlhbGl6ZSBpdCBtYW51YWxseS4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgYmVoYXZpb3IuJyk7XHJcbiAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcclxuICAgIH0sIFtjbGllbnQsIGFwaUtleSwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucyldKTtcclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFBvc3RIb2dDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IGNsaWVudDogcG9zdGhvZyB9IH0sIGNoaWxkcmVuKTtcclxufVxuXG52YXIgdXNlUG9zdEhvZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjbGllbnQgPSB1c2VDb250ZXh0KFBvc3RIb2dDb250ZXh0KS5jbGllbnQ7XHJcbiAgICByZXR1cm4gY2xpZW50O1xyXG59O1xuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ0VuYWJsZWQoZmxhZykge1xyXG4gICAgdmFyIGNsaWVudCA9IHVzZVBvc3RIb2coKTtcclxuICAgIHZhciBfYSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudC5pc0ZlYXR1cmVFbmFibGVkKGZsYWcpOyB9KSwgZmVhdHVyZUVuYWJsZWQgPSBfYVswXSwgc2V0RmVhdHVyZUVuYWJsZWQgPSBfYVsxXTtcclxuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vbkZlYXR1cmVGbGFncyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldEZlYXR1cmVFbmFibGVkKGNsaWVudC5pc0ZlYXR1cmVFbmFibGVkKGZsYWcpKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sIFtjbGllbnQsIGZsYWddKTtcclxuICAgIHJldHVybiBmZWF0dXJlRW5hYmxlZDtcclxufVxuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZykge1xyXG4gICAgdmFyIGNsaWVudCA9IHVzZVBvc3RIb2coKTtcclxuICAgIHZhciBfYSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudC5nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZyk7IH0pLCBmZWF0dXJlRmxhZ1BheWxvYWQgPSBfYVswXSwgc2V0RmVhdHVyZUZsYWdQYXlsb2FkID0gX2FbMV07XHJcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRGZWF0dXJlRmxhZ1BheWxvYWQoY2xpZW50LmdldEZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XHJcbiAgICByZXR1cm4gZmVhdHVyZUZsYWdQYXlsb2FkO1xyXG59XG5cbmZ1bmN0aW9uIHVzZUFjdGl2ZUZlYXR1cmVGbGFncygpIHtcclxuICAgIHZhciBjbGllbnQgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnQuZmVhdHVyZUZsYWdzLmdldEZsYWdzKCk7IH0pLCBmZWF0dXJlRmxhZ3MgPSBfYVswXSwgc2V0RmVhdHVyZUZsYWdzID0gX2FbMV07XHJcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKGZsYWdzKSB7XHJcbiAgICAgICAgICAgIHNldEZlYXR1cmVGbGFncyhmbGFncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbY2xpZW50XSk7XHJcbiAgICByZXR1cm4gZmVhdHVyZUZsYWdzO1xyXG59XG5cbmZ1bmN0aW9uIHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleShmbGFnKSB7XHJcbiAgICB2YXIgY2xpZW50ID0gdXNlUG9zdEhvZygpO1xyXG4gICAgdmFyIF9hID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjbGllbnQuZ2V0RmVhdHVyZUZsYWcoZmxhZyk7XHJcbiAgICB9KSwgZmVhdHVyZUZsYWdWYXJpYW50S2V5ID0gX2FbMF0sIHNldEZlYXR1cmVGbGFnVmFyaWFudEtleSA9IF9hWzFdO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2V0RmVhdHVyZUZsYWdWYXJpYW50S2V5KGNsaWVudC5nZXRGZWF0dXJlRmxhZyhmbGFnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XHJcbiAgICByZXR1cm4gZmVhdHVyZUZsYWdWYXJpYW50S2V5O1xyXG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxuXG52YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIGYgPT09ICdmdW5jdGlvbic7XHJcbn07XHJcbnZhciBpc1VuZGVmaW5lZCA9IGZ1bmN0aW9uICh4KSB7XHJcbiAgICByZXR1cm4geCA9PT0gdm9pZCAwO1xyXG59O1xyXG52YXIgaXNOdWxsID0gZnVuY3Rpb24gKHgpIHtcclxuICAgIHJldHVybiB4ID09PSBudWxsO1xyXG59O1xuXG5mdW5jdGlvbiBQb3N0SG9nRmVhdHVyZShfYSkge1xyXG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBtYXRjaCA9IF9hLm1hdGNoLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBmYWxsYmFjayA9IF9hLmZhbGxiYWNrLCB2aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zID0gX2EudmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucywgdHJhY2tJbnRlcmFjdGlvbiA9IF9hLnRyYWNrSW50ZXJhY3Rpb24sIHRyYWNrVmlldyA9IF9hLnRyYWNrVmlldywgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImZsYWdcIiwgXCJtYXRjaFwiLCBcImNoaWxkcmVuXCIsIFwiZmFsbGJhY2tcIiwgXCJ2aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zXCIsIFwidHJhY2tJbnRlcmFjdGlvblwiLCBcInRyYWNrVmlld1wiXSk7XHJcbiAgICB2YXIgcGF5bG9hZCA9IHVzZUZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKTtcclxuICAgIHZhciB2YXJpYW50ID0gdXNlRmVhdHVyZUZsYWdWYXJpYW50S2V5KGZsYWcpO1xyXG4gICAgdmFyIHNob3VsZFRyYWNrSW50ZXJhY3Rpb24gPSB0cmFja0ludGVyYWN0aW9uICE9PSBudWxsICYmIHRyYWNrSW50ZXJhY3Rpb24gIT09IHZvaWQgMCA/IHRyYWNrSW50ZXJhY3Rpb24gOiB0cnVlO1xyXG4gICAgdmFyIHNob3VsZFRyYWNrVmlldyA9IHRyYWNrVmlldyAhPT0gbnVsbCAmJiB0cmFja1ZpZXcgIT09IHZvaWQgMCA/IHRyYWNrVmlldyA6IHRydWU7XHJcbiAgICBpZiAoaXNVbmRlZmluZWQobWF0Y2gpIHx8IHZhcmlhbnQgPT09IG1hdGNoKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkTm9kZSA9IGlzRnVuY3Rpb24oY2hpbGRyZW4pID8gY2hpbGRyZW4ocGF5bG9hZCkgOiBjaGlsZHJlbjtcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlcnMsIF9fYXNzaWduKHsgZmxhZzogZmxhZywgb3B0aW9uczogdmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucywgdHJhY2tJbnRlcmFjdGlvbjogc2hvdWxkVHJhY2tJbnRlcmFjdGlvbiwgdHJhY2tWaWV3OiBzaG91bGRUcmFja1ZpZXcgfSwgcHJvcHMpLCBjaGlsZE5vZGUpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBmYWxsYmFjayk7XHJcbn1cclxuZnVuY3Rpb24gY2FwdHVyZUZlYXR1cmVJbnRlcmFjdGlvbihmbGFnLCBwb3N0aG9nKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBwb3N0aG9nLmNhcHR1cmUoJyRmZWF0dXJlX2ludGVyYWN0aW9uJywgeyBmZWF0dXJlX2ZsYWc6IGZsYWcsICRzZXQ6IChfYSA9IHt9LCBfYVtcIiRmZWF0dXJlX2ludGVyYWN0aW9uL1wiLmNvbmNhdChmbGFnKV0gPSB0cnVlLCBfYSkgfSk7XHJcbn1cclxuZnVuY3Rpb24gY2FwdHVyZUZlYXR1cmVWaWV3KGZsYWcsIHBvc3Rob2cpIHtcclxuICAgIHBvc3Rob2cuY2FwdHVyZSgnJGZlYXR1cmVfdmlldycsIHsgZmVhdHVyZV9mbGFnOiBmbGFnIH0pO1xyXG59XHJcbmZ1bmN0aW9uIFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXIoX2EpIHtcclxuICAgIHZhciBmbGFnID0gX2EuZmxhZywgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgb25JbnRlcnNlY3QgPSBfYS5vbkludGVyc2VjdCwgb25DbGljayA9IF9hLm9uQ2xpY2ssIHRyYWNrVmlldyA9IF9hLnRyYWNrVmlldywgb3B0aW9ucyA9IF9hLm9wdGlvbnMsIHByb3BzID0gX19yZXN0KF9hLCBbXCJmbGFnXCIsIFwiY2hpbGRyZW5cIiwgXCJvbkludGVyc2VjdFwiLCBcIm9uQ2xpY2tcIiwgXCJ0cmFja1ZpZXdcIiwgXCJvcHRpb25zXCJdKTtcclxuICAgIHZhciByZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgICB2YXIgcG9zdGhvZyA9IHVzZVBvc3RIb2coKTtcclxuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGlzTnVsbChyZWYuY3VycmVudCkgfHwgIXRyYWNrVmlldylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgdmFyIGVudHJ5ID0gX2FbMF07XHJcbiAgICAgICAgICAgIHJldHVybiBvbkludGVyc2VjdChlbnRyeSk7XHJcbiAgICAgICAgfSwgX19hc3NpZ24oeyB0aHJlc2hvbGQ6IDAuMSB9LCBvcHRpb25zKSk7XHJcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShyZWYuY3VycmVudCk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsgfTtcclxuICAgIH0sIFtmbGFnLCBvcHRpb25zLCBwb3N0aG9nLCByZWYsIHRyYWNrVmlldywgb25JbnRlcnNlY3RdKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7IHJlZjogcmVmIH0sIHByb3BzLCB7IG9uQ2xpY2s6IG9uQ2xpY2sgfSksIGNoaWxkcmVuKSk7XHJcbn1cclxuZnVuY3Rpb24gVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlcnMoX2EpIHtcclxuICAgIHZhciBmbGFnID0gX2EuZmxhZywgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgdHJhY2tJbnRlcmFjdGlvbiA9IF9hLnRyYWNrSW50ZXJhY3Rpb24sIHRyYWNrVmlldyA9IF9hLnRyYWNrVmlldywgb3B0aW9ucyA9IF9hLm9wdGlvbnMsIHByb3BzID0gX19yZXN0KF9hLCBbXCJmbGFnXCIsIFwiY2hpbGRyZW5cIiwgXCJ0cmFja0ludGVyYWN0aW9uXCIsIFwidHJhY2tWaWV3XCIsIFwib3B0aW9uc1wiXSk7XHJcbiAgICB2YXIgY2xpY2tUcmFja2VkUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuICAgIHZhciB2aXNpYmlsaXR5VHJhY2tlZFJlZiA9IHVzZVJlZihmYWxzZSk7XHJcbiAgICB2YXIgcG9zdGhvZyA9IHVzZVBvc3RIb2coKTtcclxuICAgIHZhciBjYWNoZWRPbkNsaWNrID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghY2xpY2tUcmFja2VkUmVmLmN1cnJlbnQgJiYgdHJhY2tJbnRlcmFjdGlvbikge1xyXG4gICAgICAgICAgICBjYXB0dXJlRmVhdHVyZUludGVyYWN0aW9uKGZsYWcsIHBvc3Rob2cpO1xyXG4gICAgICAgICAgICBjbGlja1RyYWNrZWRSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2ZsYWcsIHBvc3Rob2csIHRyYWNrSW50ZXJhY3Rpb25dKTtcclxuICAgIHZhciBvbkludGVyc2VjdCA9IGZ1bmN0aW9uIChlbnRyeSkge1xyXG4gICAgICAgIGlmICghdmlzaWJpbGl0eVRyYWNrZWRSZWYuY3VycmVudCAmJiBlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICAgICAgICBjYXB0dXJlRmVhdHVyZVZpZXcoZmxhZywgcG9zdGhvZyk7XHJcbiAgICAgICAgICAgIHZpc2liaWxpdHlUcmFja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgdHJhY2tlZENoaWxkcmVuID0gQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlciwgX19hc3NpZ24oeyBmbGFnOiBmbGFnLCBvbkNsaWNrOiBjYWNoZWRPbkNsaWNrLCBvbkludGVyc2VjdDogb25JbnRlcnNlY3QsIHRyYWNrVmlldzogdHJhY2tWaWV3LCBvcHRpb25zOiBvcHRpb25zIH0sIHByb3BzKSwgY2hpbGQpKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHRyYWNrZWRDaGlsZHJlbik7XHJcbn1cblxuZXhwb3J0IHsgUG9zdEhvZ0NvbnRleHQsIFBvc3RIb2dGZWF0dXJlLCBQb3N0SG9nUHJvdmlkZXIsIHVzZUFjdGl2ZUZlYXR1cmVGbGFncywgdXNlRmVhdHVyZUZsYWdFbmFibGVkLCB1c2VGZWF0dXJlRmxhZ1BheWxvYWQsIHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleSwgdXNlUG9zdEhvZyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/posthog-js/react/dist/esm/index.js\n");

/***/ })

};
;