(()=>{var e={};e.id=751,e.ids=[751],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},60435:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(62802),s(57659),s(90996),s(14695);var r=s(30170),a=s(45002),n=s(83876),l=s.n(n),o=s(66299),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let d=["",{children:["(dashboard)",{children:["notes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,62802)),"D:\\Shraddha\\ClgProj\\study-craft\\frontend\\src\\app\\(dashboard)\\notes\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,57659)),"D:\\Shraddha\\ClgProj\\study-craft\\frontend\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,14695)),"D:\\Shraddha\\ClgProj\\study-craft\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\Shraddha\\ClgProj\\study-craft\\frontend\\src\\app\\(dashboard)\\notes\\page.tsx"],h="/(dashboard)/notes/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/notes/page",pathname:"/notes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},72277:(e,t,s)=>{Promise.resolve().then(s.bind(s,78318))},8749:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(26323).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},78318:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(97247),a=s(28964),n=s(19898),l=s(55757),o=s(28852),i=s(26323);let d=(0,i.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),c=(0,i.Z)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var h=s(49835),x=s(85426),u=s(8749);function m({note:e,onSave:t,onCancel:s}){let{toast:n}=(0,h.pm)(),[l,i]=(0,a.useState)(!1),[d,c]=(0,a.useState)(e?.title||"Untitled"),[m,p]=(0,a.useState)(e?.content||""),f=async()=>{try{i(!0);let s=e?._id?`/api/notes/${e._id}`:"/api/notes",r=e?._id?"PATCH":"POST";if(!(await fetch(s,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify({title:d,content:m})})).ok)throw Error("Failed to save note");n({variant:"success",title:"Success",description:"Note saved successfully"}),t()}catch(e){console.error("Error saving note:",e),n({variant:"error",title:"Error",description:"Failed to save note"})}finally{i(!1)}};return(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(x.I,{value:d,onChange:e=>c(e.target.value),placeholder:"Note title",className:"text-xl font-bold"}),r.jsx("textarea",{value:m,onChange:e=>p(e.target.value),placeholder:"Start writing your note here...",className:"w-full h-[calc(100vh-20rem)] p-4 border bg-[#EFE9D5] rounded resize-none focus:outline-none"}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[r.jsx(o.z,{variant:"outline",onClick:s,children:"Cancel"}),r.jsx(o.z,{onClick:f,disabled:l,children:l?(0,r.jsxs)(r.Fragment,{children:[r.jsx(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save"})]})]})}let p=(0,i.Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),f=(0,i.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var v=s(5027);function y({notes:e,selectedNote:t,onSelectNote:s,onRefresh:n}){let{toast:l}=(0,h.pm)(),[i,d]=(0,a.useState)(!1),x=async e=>{try{if(d(!0),!(await fetch(`/api/notes/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete note");l({variant:"success",title:"Success",description:"Note deleted successfully"}),n()}catch(e){console.error("Error deleting note:",e),l({variant:"error",title:"Error",description:"Failed to delete note"})}finally{d(!1)}};return 0===e.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[r.jsx(c,{className:"h-8 w-8 mb-2"}),r.jsx("p",{children:"No notes yet"})]}):r.jsx("div",{className:"space-y-2",children:e.map(e=>(0,r.jsxs)("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer hover:bg-[#F5F1EA] ${t?._id===e._id?"bg-[#F5F1EA]":""}`,onClick:()=>s(e),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[r.jsx(c,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:e.title||"Untitled"})]}),(0,r.jsxs)(v.h_,{children:[r.jsx(v.$F,{asChild:!0,children:r.jsx(o.z,{variant:"ghost",className:"h-8 w-8 p-0",onClick:e=>e.stopPropagation(),disabled:i,children:r.jsx(p,{className:"h-4 w-4"})})}),r.jsx(v.AW,{align:"end",children:(0,r.jsxs)(v.Xi,{className:"text-red-600 hover:text-red-800",onClick:t=>{t.stopPropagation(),x(e._id)},disabled:i,children:[r.jsx(f,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})]},e._id))})}var j=s(20041),g=s.n(j);function b(){let{data:e}=(0,n.useSession)(),{toast:t}=(0,h.pm)(),[s,i]=(0,a.useState)([]),[x,u]=(0,a.useState)(!0),[p,f]=(0,a.useState)(null),[v,j]=(0,a.useState)(!1),[b,N]=(0,a.useState)(!1),w=(0,a.useCallback)(async()=>{try{let e=await fetch("/api/notes");if(!e.ok)throw Error("Failed to fetch notes");let t=(await e.json()).map(e=>({...e,content:Array.isArray(e.content)?e.content[0]?.content||"":e.content||""}));i(t)}catch(e){console.error("Error fetching notes:",e),t({variant:"error",title:"Error",description:"Failed to load notes"})}finally{u(!1)}},[t]),k=async()=>{j(!0),f(null),N(!1)};return x?r.jsx("div",{className:"fixed inset-0 flex items-center justify-center",children:r.jsx(g(),{color:"#538B81"})}):(0,r.jsxs)("div",{className:"container mx-auto p-4 sm:p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[r.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold",children:"Notes"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(o.z,{className:"md:hidden",onClick:()=>N(!b),variant:"outline",children:b?"Hide Notes":"Show Notes"}),(0,r.jsxs)(o.z,{onClick:k,children:[r.jsx(d,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"New Note"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 sm:gap-6",children:[r.jsx("div",{className:`${b?"block":"hidden"} md:block md:col-span-3`,children:(0,r.jsxs)(l.Zb,{className:"h-[calc(100vh-16rem)] md:h-[calc(100vh-12rem)] overflow-y-auto border-2 border-black rounded-lg",children:[r.jsx(l.Ol,{className:"p-3 sm:p-4",children:r.jsx(l.ll,{className:"text-lg sm:text-xl",children:"Your Notes"})}),r.jsx(l.aY,{className:"p-2 sm:p-4",children:r.jsx(y,{notes:s,selectedNote:p,onSelectNote:e=>{f(e),N(!1)},onRefresh:w})})]})}),r.jsx("div",{className:`${b?"hidden":"block"} md:block md:col-span-9`,children:r.jsx(l.Zb,{className:"h-[calc(100vh-16rem)] md:h-[calc(100vh-12rem)] overflow-y-auto border-2 border-black rounded-lg",children:r.jsx(l.aY,{className:"p-4 sm:p-6",children:v||p?r.jsx(m,{note:p,onSave:async()=>{await w(),j(!1)},onCancel:()=>{j(!1),f(null)}}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx(c,{className:"h-8 w-8 sm:h-12 sm:w-12 mb-2 sm:mb-4"}),r.jsx("p",{className:"text-sm sm:text-base text-center",children:"Select a note or create a new one"})]})})})})]})]})}},85426:(e,t,s)=>{"use strict";s.d(t,{I:()=>l});var r=s(97247),a=s(28964),n=s(40677);let l=a.forwardRef(({className:e,type:t,...s},a)=>r.jsx("input",{type:t,className:(0,n.cn)("flex h-9 w-full rounded-md border border-[var(--input)] bg-transparent px-3 py-1 text-sm text-[var(--foreground)] shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-[var(--foreground)] placeholder:text-[var(--muted-foreground)] focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[var(--ring)] disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));l.displayName="Input"},62802:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(45347).createProxy)(String.raw`D:\Shraddha\ClgProj\study-craft\frontend\src\app\(dashboard)\notes\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[379,110,564,65,317],()=>s(60435));module.exports=r})();