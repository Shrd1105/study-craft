"use strict";(()=>{var e={};e.id=569,e.ids=[569],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},71636:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>S,patchFetch:()=>f,requestAsyncStorage:()=>m,routeModule:()=>g,serverHooks:()=>h,staticGenerationAsyncStorage:()=>y});var s={};r.r(s),r.d(s,{POST:()=>l});var a=r(73278),n=r(45002),i=r(54877),o=r(71309),d=r(70317),u=r(23537),p=r(63506),c=r.n(p);async function l(e){try{let{name:t,email:r,password:s}=await e.json();if(await (0,d.q)(),await u.Z.findOne({email:r}))return o.NextResponse.json({message:"User already exists"},{status:400});let a=await c().hash(s,10);return await u.Z.create({name:t,email:r,password:a}),o.NextResponse.json({message:"User registered successfully"},{status:201})}catch(e){return console.log("Error during registration: ",e),o.NextResponse.json({message:"An error occurred while registering the user"},{status:500})}}let g=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/register/route",pathname:"/api/register",filename:"route",bundlePath:"app/api/register/route"},resolvedPagePath:"D:\\Shraddha\\ClgProj\\study-craft\\frontend\\src\\app\\api\\register\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:y,serverHooks:h}=g,S="/api/register/route";function f(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:y})}},70317:(e,t,r)=>{r.d(t,{q:()=>n});var s=r(11185),a=r.n(s);let n=async()=>{try{await a().connect(process.env.MONGODB_URI),console.log("Connected to MongoDB")}catch(e){console.log("Error connecting to MongoDB: ",e)}}},23537:(e,t,r)=>{r.d(t,{Z:()=>d});var s=r(11185),a=r.n(s);let n=new(a()).Schema({title:{type:String,required:!0},description:String,type:String,link:String,addedAt:{type:Date,default:Date.now}}),i=new(a()).Schema({subject:{type:String,required:!0},duration:String,examDate:Date,weeklyPlans:[{week:String,goals:[String],dailyTasks:[{day:String,tasks:[String],duration:String}]}],recommendations:[String],createdAt:{type:Date,default:Date.now}}),o=new(a()).Schema({name:{type:String,required:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0},subjects:[{type:String,trim:!0}],savedPlans:[i],savedResources:[n],profile:{preferences:{emailNotifications:{type:Boolean,default:!0},studyReminders:{type:Boolean,default:!0}}},stats:{type:a().Schema.Types.ObjectId,ref:"StudyStats"}},{timestamps:!0});o.index({subjects:1}),o.methods.addStudyPlan=function(e){return this.savedPlans.push(e),this.save()},o.methods.addResource=function(e){return this.savedResources.push(e),this.save()};let d=a().models.User||a().model("User",o)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[379,461,309],()=>r(71636));module.exports=s})();